<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1292px" preserveAspectRatio="none" style="width:16774px;height:1292px;background:#FFFFFF;" version="1.1" viewBox="0 0 16774 1292" width="16774px" zoomAndPan="magnify">
  <defs />
  <g>
    <!--MD5=[05cc808175574cfe24e2b830f483f31a]
class QueryBusExtensions-->
    <g id="elem_QueryBusExtensions">
      <rect codeLine="1" fill="#F1F1F1" height="89.5977" id="QueryBusExtensions" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1206" x="7" y="60" />
      <ellipse cx="535.75" cy="80.3105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M538.7231,85.9536 Q538.1421,86.2524 537.5029,86.4019 Q536.8638,86.5513 536.1582,86.5513 Q533.6514,86.5513 532.3315,84.8994 Q531.0117,83.2476 531.0117,80.1265 Q531.0117,76.9971 532.3315,75.3452 Q533.6514,73.6934 536.1582,73.6934 Q536.8638,73.6934 537.5112,73.8428 Q538.1587,73.9922 538.7231,74.291 L538.7231,77.0137 Q538.0923,76.4326 537.4988,76.1628 Q536.9053,75.8931 536.2744,75.8931 Q534.9297,75.8931 534.2449,76.9597 Q533.5601,78.0264 533.5601,80.1265 Q533.5601,82.2183 534.2449,83.2849 Q534.9297,84.3516 536.2744,84.3516 Q536.9053,84.3516 537.4988,84.0818 Q538.0923,83.812 538.7231,83.231 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="605.25" y="76.6016">«static»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="140" x="556.25" y="92.668">QueryBusExtensions</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="1212" y1="100.6211" y2="100.6211" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="1212" y1="108.6211" y2="108.6211" />
      <ellipse cx="18" cy="122.3652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="1180" x="27" y="126.1563">SubscribeAsync(queryBus:IQueryBus, queryName:string, responseType:Type, handler:MessageHandler&lt;IQueryMessage&lt;TPayload, TResponse&gt;&gt;) : Task&lt;IAsyncDisposable&gt;</text>
      <ellipse cx="18" cy="138.8535" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="1039" x="27" y="142.6445">SubscribeAsync(queryBus:IQueryBus, queryName:string, handler:MessageHandler&lt;IQueryMessage&lt;TPayload, TResponse&gt;&gt;) : Task&lt;IAsyncDisposable&gt;</text>
    </g>
    <!--MD5=[1fe6cfdf071d3f95d82bedbf6aedb933]
class WrappedDuplicateCommandHandlerCallbackResolver-->
    <g id="elem_WrappedDuplicateCommandHandlerCallbackResolver">
      <rect codeLine="5" fill="#C5CECE" height="97.4648" id="WrappedDuplicateCommandHandlerCallbackResolver" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1519" x="3300.5" y="304.5" />
      <ellipse cx="3872.75" cy="320.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M3875.7231,326.1431 Q3875.1421,326.4419 3874.5029,326.5913 Q3873.8638,326.7407 3873.1582,326.7407 Q3870.6514,326.7407 3869.3315,325.0889 Q3868.0117,323.437 3868.0117,320.3159 Q3868.0117,317.1865 3869.3315,315.5347 Q3870.6514,313.8828 3873.1582,313.8828 Q3873.8638,313.8828 3874.5112,314.0322 Q3875.1587,314.1816 3875.7231,314.4805 L3875.7231,317.2031 Q3875.0923,316.6221 3874.4988,316.3523 Q3873.9053,316.0825 3873.2744,316.0825 Q3871.9297,316.0825 3871.2449,317.1492 Q3870.5601,318.2158 3870.5601,320.3159 Q3870.5601,322.4077 3871.2449,323.4744 Q3871.9297,324.541 3873.2744,324.541 Q3873.9053,324.541 3874.4988,324.2712 Q3875.0923,324.0015 3875.7231,323.4204 Z " fill="#000000" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="366" x="3893.25" y="325.791">WrappedDuplicateCommandHandlerCallbackResolver</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="3301.5" x2="4818.5" y1="336.5" y2="336.5" />
      <rect fill="#C5CECE" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3308.5" y="347.2441" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="574" x="3320.5" y="354.0352">«readonly» duplicateCallbackResolver : DuplicateCommandHandlerCallbackResolver</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="3301.5" x2="4818.5" y1="360.9883" y2="360.9883" />
      <ellipse cx="3311.5" cy="374.7324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="864" x="3320.5" y="378.5234">WrappedDuplicateCommandHandlerCallbackResolver(duplicateCallbackResolver:DuplicateCommandHandlerCallbackResolver)</text>
      <ellipse cx="3311.5" cy="391.2207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1493" x="3320.5" y="395.0117">Resolve(commandName:string, registeredHandler:MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;, candidateHandler:MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;) : MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;</text>
    </g>
    <!--MD5=[ea38f915e8629e8b020b3a01cee873b6]
class IDuplicateCommandHandlerResolver-->
    <g id="elem_IDuplicateCommandHandlerResolver">
      <rect codeLine="78" fill="#F1F1F1" height="64.4883" id="IDuplicateCommandHandlerResolver" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1505" x="3307.5" y="73" />
      <ellipse cx="3930.25" cy="89" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M3926.1777,84.7651 L3926.1777,82.6069 L3933.5571,82.6069 L3933.5571,84.7651 L3931.0918,84.7651 L3931.0918,92.8418 L3933.5571,92.8418 L3933.5571,95 L3926.1777,95 L3926.1777,92.8418 L3928.6431,92.8418 L3928.6431,84.7651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="251" x="3950.75" y="94.291">IDuplicateCommandHandlerResolver</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="3308.5" x2="4811.5" y1="105" y2="105" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="3308.5" x2="4811.5" y1="113" y2="113" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1493" x="3313.5" y="130.5352">Resolve(commandName:string, registeredHandler:MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;, candidateHandler:MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;) : MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;</text>
    </g>
    <!--MD5=[cafc1816778efc93d59dea75a0718ed0]
class NoHandlerForQueryException-->
    <g id="elem_NoHandlerForQueryException">
      <rect codeLine="11" fill="#F1F1F1" height="64.4883" id="NoHandlerForQueryException" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="345" x="4854.5" y="321" />
      <ellipse cx="4920.25" cy="337" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M4923.2231,342.6431 Q4922.6421,342.9419 4922.0029,343.0913 Q4921.3638,343.2407 4920.6582,343.2407 Q4918.1514,343.2407 4916.8315,341.5889 Q4915.5117,339.937 4915.5117,336.8159 Q4915.5117,333.6865 4916.8315,332.0347 Q4918.1514,330.3828 4920.6582,330.3828 Q4921.3638,330.3828 4922.0112,330.5322 Q4922.6587,330.6816 4923.2231,330.9805 L4923.2231,333.7031 Q4922.5923,333.1221 4921.9988,332.8523 Q4921.4053,332.5825 4920.7744,332.5825 Q4919.4297,332.5825 4918.7449,333.6492 Q4918.0601,334.7158 4918.0601,336.8159 Q4918.0601,338.9077 4918.7449,339.9744 Q4919.4297,341.041 4920.7744,341.041 Q4921.4053,341.041 4921.9988,340.7712 Q4922.5923,340.5015 4923.2231,339.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="205" x="4940.75" y="342.291">NoHandlerForQueryException</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="4855.5" x2="5198.5" y1="353" y2="353" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="4855.5" x2="5198.5" y1="361" y2="361" />
      <ellipse cx="4865.5" cy="374.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="319" x="4874.5" y="378.5352">NoHandlerForQueryException(message:string)</text>
    </g>
    <!--MD5=[8db60afef7a3447bbe27c5ed187fdac2]
class Exception-->
    <g id="elem_Exception">
      <rect fill="#F1F1F1" height="48" id="Exception" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="5192" y="81" />
      <ellipse cx="5207" cy="97" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M5209.9731,102.6431 Q5209.3921,102.9419 5208.7529,103.0913 Q5208.1138,103.2407 5207.4082,103.2407 Q5204.9014,103.2407 5203.5815,101.5889 Q5202.2617,99.937 5202.2617,96.8159 Q5202.2617,93.6865 5203.5815,92.0347 Q5204.9014,90.3828 5207.4082,90.3828 Q5208.1138,90.3828 5208.7612,90.5322 Q5209.4087,90.6816 5209.9731,90.9805 L5209.9731,93.7031 Q5209.3423,93.1221 5208.7488,92.8523 Q5208.1553,92.5825 5207.5244,92.5825 Q5206.1797,92.5825 5205.4949,93.6492 Q5204.8101,94.7158 5204.8101,96.8159 Q5204.8101,98.9077 5205.4949,99.9744 Q5206.1797,101.041 5207.5244,101.041 Q5208.1553,101.041 5208.7488,100.7712 Q5209.3423,100.5015 5209.9731,99.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="68" x="5221" y="102.291">Exception</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="5193" x2="5291" y1="113" y2="113" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="5193" x2="5291" y1="121" y2="121" />
    </g>
    <!--MD5=[738615f4fe62c5de60c62fa703c06e7d]
class ISubscribableMessageSource`1-->
    <g id="elem_ISubscribableMessageSource`1">
      <rect codeLine="15" fill="#F1F1F1" height="64.4883" id="ISubscribableMessageSource`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="653" x="5594.5" y="73" />
      <ellipse cx="5777.75" cy="89" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M5773.6777,84.7651 L5773.6777,82.6069 L5781.0571,82.6069 L5781.0571,84.7651 L5778.5918,84.7651 L5778.5918,92.8418 L5781.0571,92.8418 L5781.0571,95 L5773.6777,95 L5773.6777,92.8418 L5776.1431,92.8418 L5776.1431,84.7651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="216" x="5798.25" y="94.291">ISubscribableMessageSource`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="60" x="6190.5" y="70" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="6191.5" y="82.6016">TMessage</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="5595.5" x2="6246.5" y1="105" y2="105" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="5595.5" x2="6246.5" y1="113" y2="113" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="641" x="5600.5" y="130.5352">SubscribeAsync(messageProcessor:Func&lt;List&lt;TMessage&gt;, Task&gt;) : Task&lt;IAsyncDisposable&gt;</text>
    </g>
    <!--MD5=[072e31d17bdecff1c06c2b5381d7498e]
class CollectionExtensions-->
    <g id="elem_CollectionExtensions">
      <rect codeLine="18" fill="#F1F1F1" height="73.1094" id="CollectionExtensions" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="1248.5" y="68.5" />
      <ellipse cx="1310.75" cy="88.8105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M1313.7231,94.4536 Q1313.1421,94.7524 1312.5029,94.9019 Q1311.8638,95.0513 1311.1582,95.0513 Q1308.6514,95.0513 1307.3315,93.3994 Q1306.0117,91.7476 1306.0117,88.6265 Q1306.0117,85.4971 1307.3315,83.8452 Q1308.6514,82.1934 1311.1582,82.1934 Q1311.8638,82.1934 1312.5112,82.3428 Q1313.1587,82.4922 1313.7231,82.791 L1313.7231,85.5137 Q1313.0923,84.9326 1312.4988,84.6628 Q1311.9053,84.3931 1311.2744,84.3931 Q1309.9297,84.3931 1309.2449,85.4597 Q1308.5601,86.5264 1308.5601,88.6265 Q1308.5601,90.7183 1309.2449,91.7849 Q1309.9297,92.8516 1311.2744,92.8516 Q1311.9053,92.8516 1312.4988,92.5818 Q1313.0923,92.312 1313.7231,91.731 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="1382.25" y="85.1016">«static»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="1331.25" y="101.168">CollectionExtensions</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="1249.5" x2="1524.5" y1="109.1211" y2="109.1211" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="1249.5" x2="1524.5" y1="117.1211" y2="117.1211" />
      <ellipse cx="1259.5" cy="130.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="251" x="1268.5" y="134.6563">IsEmpty(items:ICollection&lt;T&gt;) : bool</text>
    </g>
    <!--MD5=[9c11852b13393b373df890453ff5af04]
class SimpleQueryBus-->
    <g id="elem_SimpleQueryBus">
      <rect codeLine="21" fill="#F1F1F1" height="196.3945" id="SimpleQueryBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="946" x="6338" y="643.5" />
      <ellipse cx="6751.25" cy="659.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M6754.2231,665.1431 Q6753.6421,665.4419 6753.0029,665.5913 Q6752.3638,665.7407 6751.6582,665.7407 Q6749.1514,665.7407 6747.8315,664.0889 Q6746.5117,662.437 6746.5117,659.3159 Q6746.5117,656.1865 6747.8315,654.5347 Q6749.1514,652.8828 6751.6582,652.8828 Q6752.3638,652.8828 6753.0112,653.0322 Q6753.6587,653.1816 6754.2231,653.4805 L6754.2231,656.2031 Q6753.5923,655.6221 6752.9988,655.3523 Q6752.4053,655.0825 6751.7744,655.0825 Q6750.4297,655.0825 6749.7449,656.1492 Q6749.0601,657.2158 6749.0601,659.3159 Q6749.0601,661.4077 6749.7449,662.4744 Q6750.4297,663.541 6751.7744,663.541 Q6752.4053,663.541 6752.9988,663.2712 Q6753.5923,663.0015 6754.2231,662.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="6771.75" y="664.791">SimpleQueryBus</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="6339" x2="7283" y1="675.5" y2="675.5" />
      <rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6346" y="686.2441" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="721" x="6358" y="693.0352">«readonly» subscriptions : ConcurrentDictionary&lt;string, ConcurrentDictionary&lt;int, QuerySubscription&gt;&gt;</text>
      <ellipse cx="6349" cy="705.7324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="602" x="6358" y="709.5234">Subscriptions : ImmutableDictionary&lt;string, ImmutableList&lt;QuerySubscription&gt;&gt; «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="6339" x2="7283" y1="716.4766" y2="716.4766" />
      <ellipse cx="6349" cy="730.2207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="833" x="6358" y="734.0117">SubscribeAsync(queryName:string, responseType:Type, handler:MessageHandler&lt;TMessage&gt;) : Task&lt;IAsyncDisposable&gt;</text>
      <ellipse cx="6349" cy="746.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="774" x="6358" y="750.5">«async» QueryAsync(query:IQueryMessage&lt;object, TResponse&gt;) : Task&lt;IQueryResponseMessage&lt;TResponse&gt;&gt;</text>
      <ellipse cx="6349" cy="763.1973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="920" x="6358" y="766.9883">«async» ScatterGatherAsync(query:IQueryMessage&lt;object, TResponse&gt;) : IAsyncEnumerable&lt;IQueryResponseMessage&lt;TResponse&gt;&gt;</text>
      <rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6346" y="776.6855" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="646" x="6358" y="783.4766">ConvertResponse(response:object?, responseType:IResponseType&lt;TResponse&gt;) : TResponse?</text>
      <rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6346" y="793.1738" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="522" x="6358" y="799.9648">Unsubscribe(queryName:string, querySubscription:QuerySubscription) : void</text>
      <rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6346" y="809.6621" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="776" x="6358" y="816.4531">GetHandlersForMessage(queryMessage:IQueryMessage&lt;object, TResponse&gt;) : ImmutableList&lt;IMessageHandler&gt;</text>
      <rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="6346" y="826.1504" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="595" x="6358" y="832.9414">GetSubscriptions() : ImmutableDictionary&lt;string, ImmutableList&lt;QuerySubscription&gt;&gt;</text>
    </g>
    <!--MD5=[1537e7b3e760210491ed7d5f83b83174]
class Registration-->
    <g id="elem_Registration">
      <rect codeLine="113" fill="#F1F1F1" height="196.3945" id="Registration" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="295" x="7247.5" y="1065" />
      <ellipse cx="7349.25" cy="1081" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M7352.2231,1086.6431 Q7351.6421,1086.9419 7351.0029,1087.0913 Q7350.3638,1087.2407 7349.6582,1087.2407 Q7347.1514,1087.2407 7345.8315,1085.5889 Q7344.5117,1083.937 7344.5117,1080.8159 Q7344.5117,1077.6865 7345.8315,1076.0347 Q7347.1514,1074.3828 7349.6582,1074.3828 Q7350.3638,1074.3828 7351.0112,1074.5322 Q7351.6587,1074.6816 7352.2231,1074.9805 L7352.2231,1077.7031 Q7351.5923,1077.1221 7350.9988,1076.8523 Q7350.4053,1076.5825 7349.7744,1076.5825 Q7348.4297,1076.5825 7347.7449,1077.6492 Q7347.0601,1078.7158 7347.0601,1080.8159 Q7347.0601,1082.9077 7347.7449,1083.9744 Q7348.4297,1085.041 7349.7744,1085.041 Q7350.4053,1085.041 7350.9988,1084.7712 Q7351.5923,1084.5015 7352.2231,1083.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="7369.75" y="1086.291">Registration</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="7248.5" x2="7541.5" y1="1097" y2="1097" />
      <rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="7255.5" y="1107.7441" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="262" x="7267.5" y="1114.5352">«readonly» unsubscribeAction : Action</text>
      <rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="7255.5" y="1124.2324" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="262" x="7267.5" y="1131.0234">«readonly» unsubscribeAction : Action</text>
      <rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="7255.5" y="1140.7207" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="262" x="7267.5" y="1147.5117">«readonly» unsubscribeAction : Action</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="7248.5" x2="7541.5" y1="1154.4648" y2="1154.4648" />
      <ellipse cx="7258.5" cy="1168.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="269" x="7267.5" y="1172">Registration(unsubscribeAction:Action)</text>
      <ellipse cx="7258.5" cy="1184.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="186" x="7267.5" y="1188.4883">DisposeAsync() : ValueTask</text>
      <ellipse cx="7258.5" cy="1201.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="269" x="7267.5" y="1204.9766">Registration(unsubscribeAction:Action)</text>
      <ellipse cx="7258.5" cy="1217.6738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="186" x="7267.5" y="1221.4648">DisposeAsync() : ValueTask</text>
      <ellipse cx="7258.5" cy="1234.1621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="269" x="7267.5" y="1237.9531">Registration(unsubscribeAction:Action)</text>
      <ellipse cx="7258.5" cy="1250.6504" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="186" x="7267.5" y="1254.4414">DisposeAsync() : ValueTask</text>
    </g>
    <!--MD5=[25f3040f6e5a135a6d90f3f95f0d3be6]
class IQueryBus-->
    <g id="elem_IQueryBus">
      <rect fill="#F1F1F1" height="48" id="IQueryBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="101" x="6760.5" y="329" />
      <ellipse cx="6775.5" cy="345" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M6778.4731,350.6431 Q6777.8921,350.9419 6777.2529,351.0913 Q6776.6138,351.2407 6775.9082,351.2407 Q6773.4014,351.2407 6772.0815,349.5889 Q6770.7617,347.937 6770.7617,344.8159 Q6770.7617,341.6865 6772.0815,340.0347 Q6773.4014,338.3828 6775.9082,338.3828 Q6776.6138,338.3828 6777.2612,338.5322 Q6777.9087,338.6816 6778.4731,338.9805 L6778.4731,341.7031 Q6777.8423,341.1221 6777.2488,340.8523 Q6776.6553,340.5825 6776.0244,340.5825 Q6774.6797,340.5825 6773.9949,341.6492 Q6773.3101,342.7158 6773.3101,344.8159 Q6773.3101,346.9077 6773.9949,347.9744 Q6774.6797,349.041 6776.0244,349.041 Q6776.6553,349.041 6777.2488,348.7712 Q6777.8423,348.5015 6778.4731,347.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="69" x="6789.5" y="350.291">IQueryBus</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="6761.5" x2="6860.5" y1="361" y2="361" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="6761.5" x2="6860.5" y1="369" y2="369" />
    </g>
    <!--MD5=[5f8218461f02337fc1b534e0ab51cd08]
class IAsyncDisposable-->
    <g id="elem_IAsyncDisposable">
      <rect fill="#F1F1F1" height="48" id="IAsyncDisposable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="7319.5" y="717.5" />
      <ellipse cx="7334.5" cy="733.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M7337.4731,739.1431 Q7336.8921,739.4419 7336.2529,739.5913 Q7335.6138,739.7407 7334.9082,739.7407 Q7332.4014,739.7407 7331.0815,738.0889 Q7329.7617,736.437 7329.7617,733.3159 Q7329.7617,730.1865 7331.0815,728.5347 Q7332.4014,726.8828 7334.9082,726.8828 Q7335.6138,726.8828 7336.2612,727.0322 Q7336.9087,727.1816 7337.4731,727.4805 L7337.4731,730.2031 Q7336.8423,729.6221 7336.2488,729.3523 Q7335.6553,729.0825 7335.0244,729.0825 Q7333.6797,729.0825 7332.9949,730.1492 Q7332.3101,731.2158 7332.3101,733.3159 Q7332.3101,735.4077 7332.9949,736.4744 Q7333.6797,737.541 7335.0244,737.541 Q7335.6553,737.541 7336.2488,737.2712 Q7336.8423,737.0015 7337.4731,736.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="7348.5" y="738.791">IAsyncDisposable</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="7320.5" x2="7469.5" y1="749.5" y2="749.5" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="7320.5" x2="7469.5" y1="757.5" y2="757.5" />
    </g>
    <!--MD5=[8ec3b8c146b139920eec9349309099a0]
class SimpleEventBus-->
    <g id="elem_SimpleEventBus">
      <rect codeLine="40" fill="#F1F1F1" height="130.4414" id="SimpleEventBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="763" x="5539.5" y="676.5" />
      <ellipse cx="5863.25" cy="692.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M5866.2231,698.1431 Q5865.6421,698.4419 5865.0029,698.5913 Q5864.3638,698.7407 5863.6582,698.7407 Q5861.1514,698.7407 5859.8315,697.0889 Q5858.5117,695.437 5858.5117,692.3159 Q5858.5117,689.1865 5859.8315,687.5347 Q5861.1514,685.8828 5863.6582,685.8828 Q5864.3638,685.8828 5865.0112,686.0322 Q5865.6587,686.1816 5866.2231,686.4805 L5866.2231,689.2031 Q5865.5923,688.6221 5864.9988,688.3523 Q5864.4053,688.0825 5863.7744,688.0825 Q5862.4297,688.0825 5861.7449,689.1492 Q5861.0601,690.2158 5861.0601,692.3159 Q5861.0601,694.4077 5861.7449,695.4744 Q5862.4297,696.541 5863.7744,696.541 Q5864.4053,696.541 5864.9988,696.2712 Q5865.5923,696.0015 5866.2231,695.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107" x="5883.75" y="697.791">SimpleEventBus</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="5540.5" x2="6301.5" y1="708.5" y2="708.5" />
      <rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5547.5" y="719.2441" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="700" x="5559.5" y="726.0352">«readonly» eventProcessors : ConcurrentDictionary&lt;int, Func&lt;List&lt;IEventMessage&lt;object&gt;&gt;, Task&gt;&gt;</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="5540.5" x2="6301.5" y1="732.9883" y2="732.9883" />
      <ellipse cx="5550.5" cy="746.7324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="737" x="5559.5" y="750.5234">SubscribeAsync(messageProcessor:Func&lt;List&lt;IEventMessage&lt;object&gt;&gt;, Task&gt;) : Task&lt;IAsyncDisposable&gt;</text>
      <ellipse cx="5550.5" cy="763.2207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="366" x="5559.5" y="767.0117">PublishAsync(events:IEventMessage&lt;object&gt;[]) : Task</text>
      <ellipse cx="5550.5" cy="779.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="401" x="5559.5" y="783.5">PublishAsync(events:List&lt;IEventMessage&lt;object&gt;&gt;) : Task</text>
      <polygon fill="#FFFF44" points="5550.5,791.1973,5554.5,795.1973,5550.5,799.1973,5546.5,795.1973" style="stroke:#B38D22;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="564" x="5559.5" y="799.9883">«virtual» «async» ProcessEventsAsync(events:List&lt;IEventMessage&lt;object&gt;&gt;) : Task</text>
    </g>
    <!--MD5=[a0ba6c09f7e42219b517133b9a5a3048]
class IEventBus-->
    <g id="elem_IEventBus">
      <rect codeLine="81" fill="#F1F1F1" height="80.9766" id="IEventBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="413" x="5714.5" y="312.5" />
      <ellipse cx="5884.25" cy="328.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M5880.1777,324.2651 L5880.1777,322.1069 L5887.5571,322.1069 L5887.5571,324.2651 L5885.0918,324.2651 L5885.0918,332.3418 L5887.5571,332.3418 L5887.5571,334.5 L5880.1777,334.5 L5880.1777,332.3418 L5882.6431,332.3418 L5882.6431,324.2651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="5904.75" y="333.791">IEventBus</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="5715.5" x2="6126.5" y1="344.5" y2="344.5" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="5715.5" x2="6126.5" y1="352.5" y2="352.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="366" x="5720.5" y="370.0352">PublishAsync(events:IEventMessage&lt;object&gt;[]) : Task</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="401" x="5720.5" y="386.5234">PublishAsync(events:List&lt;IEventMessage&lt;object&gt;&gt;) : Task</text>
    </g>
    <!--MD5=[3a2cf67ff0be088167fce4a585ad6cce]
class MessageHandler`1-->
    <g id="elem_MessageHandler`1">
      <rect codeLine="55" fill="#F1F1F1" height="97.4648" id="MessageHandler`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="429" x="8844.5" y="304.5" />
      <ellipse cx="8958.25" cy="320.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M8958.3633,315.8481 L8957.2095,320.9199 L8959.5254,320.9199 Z M8956.8691,313.6069 L8959.8657,313.6069 L8963.2109,326 L8960.7622,326 L8959.9985,322.937 L8956.7197,322.937 L8955.9727,326 L8953.5239,326 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="131" x="8978.75" y="325.791">MessageHandler`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="60" x="9216.5" y="301.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="9217.5" y="314.1016">TMessage</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="8845.5" x2="9272.5" y1="336.5" y2="336.5" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="8845.5" x2="9272.5" y1="344.5" y2="344.5" />
      <ellipse cx="8855.5" cy="358.2441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="344" x="8864.5" y="362.0352">HandleAsync(message:TMessage) : Task&lt;object?&gt;</text>
      <ellipse cx="8855.5" cy="374.7324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="403" x="8864.5" y="378.5234">HandleAsync(message:IMessage&lt;object&gt;) : Task&lt;object?&gt;</text>
      <ellipse cx="8855.5" cy="391.2207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="295" x="8864.5" y="395.0117">«virtual» CanHandle(message:object) : bool</text>
    </g>
    <!--MD5=[00a932a8b4842f2c6bdf3db3c8c31600]
class IMessageHandler-->
    <g id="elem_IMessageHandler">
      <rect codeLine="131" fill="#F1F1F1" height="80.9766" id="IMessageHandler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="415" x="8851.5" y="64.5" />
      <ellipse cx="8996.25" cy="80.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M8992.1777,76.2651 L8992.1777,74.1069 L8999.5571,74.1069 L8999.5571,76.2651 L8997.0918,76.2651 L8997.0918,84.3418 L8999.5571,84.3418 L8999.5571,86.5 L8992.1777,86.5 L8992.1777,84.3418 L8994.6431,84.3418 L8994.6431,76.2651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="117" x="9016.75" y="85.791">IMessageHandler</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="8852.5" x2="9265.5" y1="96.5" y2="96.5" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="8852.5" x2="9265.5" y1="104.5" y2="104.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="403" x="8857.5" y="122.0352">HandleAsync(message:IMessage&lt;object&gt;) : Task&lt;object?&gt;</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="234" x="8857.5" y="138.5234">CanHandle(message:object) : bool</text>
    </g>
    <!--MD5=[2868e773aa1496de777097d5f3d2dc80]
class ICommandBus-->
    <g id="elem_ICommandBus">
      <rect codeLine="61" fill="#F1F1F1" height="113.9531" id="ICommandBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="935" x="7614.5" y="296" />
      <ellipse cx="8028.25" cy="312" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M8024.1777,307.7651 L8024.1777,305.6069 L8031.5571,305.6069 L8031.5571,307.7651 L8029.0918,307.7651 L8029.0918,315.8418 L8031.5571,315.8418 L8031.5571,318 L8024.1777,318 L8024.1777,315.8418 L8026.6431,315.8418 L8026.6431,307.7651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="99" x="8048.75" y="317.291">ICommandBus</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="7615.5" x2="8548.5" y1="328" y2="328" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="7615.5" x2="8548.5" y1="336" y2="336" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="694" x="7634.5" y="353.5352">DispatchAsync(command:ICommandMessage&lt;object&gt;) : Task&lt;ICommandResultMessage&lt;TResult&gt;&gt;</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="423" x="7634.5" y="370.0234">DispatchAsync(command:ICommandMessage&lt;object&gt;) : Task</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="851" x="7634.5" y="386.5117">SubscribeAsync(commandName:string, handler:MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;) : Task&lt;IAsyncDisposable&gt;</text>
      <ellipse cx="7625.5" cy="399.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="909" x="7634.5" y="403">SubscribeAsync(commandName:string, handler:MessageHandlerCallback&lt;ICommandMessage&lt;object&gt;&gt;) : Task&lt;IAsyncDisposable&gt;</text>
    </g>
    <!--MD5=[4d79cd917b5c2d118199233730b66440]
class WrappedCommandHandlerCallback-->
    <g id="elem_WrappedCommandHandlerCallback">
      <rect codeLine="67" fill="#C5CECE" height="163.418" id="WrappedCommandHandlerCallback" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="730" x="8694" y="660" />
      <ellipse cx="8932.75" cy="676" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M8935.7231,681.6431 Q8935.1421,681.9419 8934.5029,682.0913 Q8933.8638,682.2407 8933.1582,682.2407 Q8930.6514,682.2407 8929.3315,680.5889 Q8928.0117,678.937 8928.0117,675.8159 Q8928.0117,672.6865 8929.3315,671.0347 Q8930.6514,669.3828 8933.1582,669.3828 Q8933.8638,669.3828 8934.5112,669.5322 Q8935.1587,669.6816 8935.7231,669.9805 L8935.7231,672.7031 Q8935.0923,672.1221 8934.4988,671.8523 Q8933.9053,671.5825 8933.2744,671.5825 Q8931.9297,671.5825 8931.2449,672.6492 Q8930.5601,673.7158 8930.5601,675.8159 Q8930.5601,677.9077 8931.2449,678.9744 Q8931.9297,680.041 8933.2744,680.041 Q8933.9053,680.041 8934.4988,679.7712 Q8935.0923,679.5015 8935.7231,678.9204 Z " fill="#000000" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="244" x="8953.25" y="681.291">WrappedCommandHandlerCallback</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="8695" x2="9423" y1="692" y2="692" />
      <rect fill="#C5CECE" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="8702" y="702.7441" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="536" x="8714" y="709.5352">«readonly» callback : MessageHandlerCallback&lt;ICommandMessage&lt;object&gt;&gt;</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="8695" x2="9423" y1="716.4883" y2="716.4883" />
      <ellipse cx="8705" cy="730.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="704" x="8714" y="734.0234">WrappedCommandHandlerCallback(callback:MessageHandlerCallback&lt;ICommandMessage&lt;object&gt;&gt;)</text>
      <ellipse cx="8705" cy="746.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="549" x="8714" y="750.5117">«override» HandleAsync(message:ICommandMessage&lt;object&gt;) : Task&lt;object?&gt;</text>
      <ellipse cx="8705" cy="763.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="466" x="8714" y="767">Unwrap() : MessageHandlerCallback&lt;ICommandMessage&lt;object&gt;&gt;</text>
      <ellipse cx="8705" cy="779.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="389" x="8714" y="783.4883">Equals(other:WrappedCommandHandlerCallback?) : bool</text>
      <ellipse cx="8705" cy="796.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="247" x="8714" y="799.9766">«override» Equals(obj:object?) : bool</text>
      <ellipse cx="8705" cy="812.6738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="8714" y="816.4648">«override» GetHashCode() : int</text>
    </g>
    <!--MD5=[360575ecdc123693e9e157d6e9effc89]
class IEquatable`1-->
    <g id="elem_IEquatable`1">
      <rect fill="#F1F1F1" height="48" id="IEquatable`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122" x="9657" y="329" />
      <ellipse cx="9672" cy="345" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M9674.9731,350.6431 Q9674.3921,350.9419 9673.7529,351.0913 Q9673.1138,351.2407 9672.4082,351.2407 Q9669.9014,351.2407 9668.5815,349.5889 Q9667.2617,347.937 9667.2617,344.8159 Q9667.2617,341.6865 9668.5815,340.0347 Q9669.9014,338.3828 9672.4082,338.3828 Q9673.1138,338.3828 9673.7612,338.5322 Q9674.4087,338.6816 9674.9731,338.9805 L9674.9731,341.7031 Q9674.3423,341.1221 9673.7488,340.8523 Q9673.1553,340.5825 9672.5244,340.5825 Q9671.1797,340.5825 9670.4949,341.6492 Q9669.8101,342.7158 9669.8101,344.8159 Q9669.8101,346.9077 9670.4949,347.9744 Q9671.1797,349.041 9672.5244,349.041 Q9673.1553,349.041 9673.7488,348.7712 Q9674.3423,348.5015 9674.9731,347.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="9686" y="350.291">IEquatable`1</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="9658" x2="9778" y1="361" y2="361" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="9658" x2="9778" y1="369" y2="369" />
    </g>
    <!--MD5=[63a373d2559db13dd8cc7d36e037ebb1]
class Unit-->
    <g id="elem_Unit">
      <rect codeLine="86" fill="#C5CECE" height="196.3945" id="Unit" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="890" x="1561" y="7" />
      <ellipse cx="1987.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M1990.7231,28.6431 Q1990.1421,28.9419 1989.5029,29.0913 Q1988.8638,29.2407 1988.1582,29.2407 Q1985.6514,29.2407 1984.3315,27.5889 Q1983.0117,25.937 1983.0117,22.8159 Q1983.0117,19.6865 1984.3315,18.0347 Q1985.6514,16.3828 1988.1582,16.3828 Q1988.8638,16.3828 1989.5112,16.5322 Q1990.1587,16.6816 1990.7231,16.9805 L1990.7231,19.7031 Q1990.0923,19.1221 1989.4988,18.8523 Q1988.9053,18.5825 1988.2744,18.5825 Q1986.9297,18.5825 1986.2449,19.6492 Q1985.5601,20.7158 1985.5601,22.8159 Q1985.5601,24.9077 1986.2449,25.9744 Q1986.9297,27.041 1988.2744,27.041 Q1988.9053,27.041 1989.4988,26.7712 Q1990.0923,26.5015 1990.7231,25.9204 Z " fill="#000000" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="2008.25" y="28.291">Unit</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="1562" x2="2450" y1="39" y2="39" />
      <rect fill="#C5CECE" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1569" y="49.7441" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="175" x="1581" y="56.5352">«readonly» Instance : Unit</text>
      <ellipse cx="1572" cy="69.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="205" x="1581" y="73.0234">Value : ref readonly Unit «get»</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1581" y="89.5117">interface IQueryBus {</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="1562" x2="2450" y1="96.4648" y2="96.4648" />
      <ellipse cx="1572" cy="110.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="1581" y="114">«virtual» Equals(other:Unit?) : bool</text>
      <ellipse cx="1572" cy="126.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="1581" y="130.4883">«override» GetHashCode() : int</text>
      <ellipse cx="1572" cy="143.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196" x="1581" y="146.9766">«override» ToString() : string</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="833" x="1581" y="163.4648">SubscribeAsync(queryName:string, responseType:Type, handler:MessageHandler&lt;TMessage&gt;) : Task&lt;IAsyncDisposable&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="718" x="1581" y="179.9531">QueryAsync(query:IQueryMessage&lt;object, TResponse&gt;) : Task&lt;IQueryResponseMessage&lt;TResponse&gt;&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="864" x="1581" y="196.4414">ScatterGatherAsync(query:IQueryMessage&lt;object, TResponse&gt;) : IAsyncEnumerable&lt;IQueryResponseMessage&lt;TResponse&gt;&gt;</text>
    </g>
    <!--MD5=[e2d00e1271a32f4b8f7464978ce52aa8]
class NoHandlerForCommandException-->
    <g id="elem_NoHandlerForCommandException">
      <rect codeLine="97" fill="#F1F1F1" height="89.5977" id="NoHandlerForCommandException" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="444" x="5235" y="308" />
      <ellipse cx="5335.25" cy="328.3105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M5338.2231,333.9536 Q5337.6421,334.2524 5337.0029,334.4019 Q5336.3638,334.5513 5335.6582,334.5513 Q5333.1514,334.5513 5331.8315,332.8994 Q5330.5117,331.2476 5330.5117,328.1265 Q5330.5117,324.9971 5331.8315,323.3452 Q5333.1514,321.6934 5335.6582,321.6934 Q5336.3638,321.6934 5337.0112,321.8428 Q5337.6587,321.9922 5338.2231,322.291 L5338.2231,325.0137 Q5337.5923,324.4326 5336.9988,324.1628 Q5336.4053,323.8931 5335.7744,323.8931 Q5334.4297,323.8931 5333.7449,324.9597 Q5333.0601,326.0264 5333.0601,328.1265 Q5333.0601,330.2183 5333.7449,331.2849 Q5334.4297,332.3516 5335.7744,332.3516 Q5336.4053,332.3516 5336.9988,332.0818 Q5337.5923,331.812 5338.2231,331.231 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="50" x="5448.25" y="324.6016">«sealed»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="235" x="5355.75" y="340.668">NoHandlerForCommandException</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="5236" x2="5678" y1="348.6211" y2="348.6211" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="5236" x2="5678" y1="356.6211" y2="356.6211" />
      <ellipse cx="5246" cy="370.3652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="349" x="5255" y="374.1563">NoHandlerForCommandException(message:string)</text>
      <ellipse cx="5246" cy="386.8535" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="418" x="5255" y="390.6445">NoHandlerForCommandException(commandMessage:object)</text>
    </g>
    <!--MD5=[eb5174054f6ff5807da5f1e34570e267]
class SimpleCommandBus-->
    <g id="elem_SimpleCommandBus">
      <rect codeLine="102" fill="#F1F1F1" height="196.3945" id="SimpleCommandBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1153" x="7505.5" y="643.5" />
      <ellipse cx="8007.25" cy="659.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M8010.2231,665.1431 Q8009.6421,665.4419 8009.0029,665.5913 Q8008.3638,665.7407 8007.6582,665.7407 Q8005.1514,665.7407 8003.8315,664.0889 Q8002.5117,662.437 8002.5117,659.3159 Q8002.5117,656.1865 8003.8315,654.5347 Q8005.1514,652.8828 8007.6582,652.8828 Q8008.3638,652.8828 8009.0112,653.0322 Q8009.6587,653.1816 8010.2231,653.4805 L8010.2231,656.2031 Q8009.5923,655.6221 8008.9988,655.3523 Q8008.4053,655.0825 8007.7744,655.0825 Q8006.4297,655.0825 8005.7449,656.1492 Q8005.0601,657.2158 8005.0601,659.3159 Q8005.0601,661.4077 8005.7449,662.4744 Q8006.4297,663.541 8007.7744,663.541 Q8008.4053,663.541 8008.9988,663.2712 Q8009.5923,663.0015 8010.2231,662.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="141" x="8027.75" y="664.791">SimpleCommandBus</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="7506.5" x2="8657.5" y1="675.5" y2="675.5" />
      <rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="7513.5" y="686.2441" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="732" x="7525.5" y="693.0352">«readonly» subscriptions : ConcurrentDictionary&lt;string, MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;&gt;</text>
      <rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="7513.5" y="702.7324" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="587" x="7525.5" y="709.5234">«readonly» duplicateCommandHandlerResolver : IDuplicateCommandHandlerResolver</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="7506.5" x2="8657.5" y1="716.4766" y2="716.4766" />
      <ellipse cx="7516.5" cy="730.2207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="652" x="7525.5" y="734.0117">SimpleCommandBus(duplicateCommandHandlerResolver:IDuplicateCommandHandlerResolver)</text>
      <ellipse cx="7516.5" cy="746.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="706" x="7525.5" y="750.5">SimpleCommandBus(duplicateCommandHandlerResolver:DuplicateCommandHandlerCallbackResolver)</text>
      <ellipse cx="7516.5" cy="763.1973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="750" x="7525.5" y="766.9883">«async» DispatchAsync(command:ICommandMessage&lt;object&gt;) : Task&lt;ICommandResultMessage&lt;TResult&gt;&gt;</text>
      <ellipse cx="7516.5" cy="779.6855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="423" x="7525.5" y="783.4766">DispatchAsync(command:ICommandMessage&lt;object&gt;) : Task</text>
      <ellipse cx="7516.5" cy="796.1738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="851" x="7525.5" y="799.9648">SubscribeAsync(commandName:string, handler:MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;) : Task&lt;IAsyncDisposable&gt;</text>
      <polygon fill="#FFFF44" points="7516.5,807.6621,7520.5,811.6621,7516.5,815.6621,7512.5,811.6621" style="stroke:#B38D22;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="1127" x="7525.5" y="816.4531">«virtual» «async» HandleAsync(command:ICommandMessage&lt;object&gt;, handler:MessageHandler&lt;ICommandMessage&lt;object&gt;&gt;) : Task&lt;IResultMessage&lt;TResult&gt;&gt;</text>
      <rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="7513.5" y="826.1504" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="474" x="7525.5" y="832.9414">FindCommandHandlerFor(commandName:string) : IMessageHandler?</text>
    </g>
    <!--MD5=[8b525767791ffdc57a2ec6c043b8fe84]
class QuerySubscription-->
    <g id="elem_QuerySubscription">
      <rect codeLine="121" fill="#F1F1F1" height="163.418" id="QuerySubscription" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="518" x="9459" y="660" />
      <ellipse cx="9650.25" cy="676" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M9653.2231,681.6431 Q9652.6421,681.9419 9652.0029,682.0913 Q9651.3638,682.2407 9650.6582,682.2407 Q9648.1514,682.2407 9646.8315,680.5889 Q9645.5117,678.937 9645.5117,675.8159 Q9645.5117,672.6865 9646.8315,671.0347 Q9648.1514,669.3828 9650.6582,669.3828 Q9651.3638,669.3828 9652.0112,669.5322 Q9652.6587,669.6816 9653.2231,669.9805 L9653.2231,672.7031 Q9652.5923,672.1221 9651.9988,671.8523 Q9651.4053,671.5825 9650.7744,671.5825 Q9649.4297,671.5825 9648.7449,672.6492 Q9648.0601,673.7158 9648.0601,675.8159 Q9648.0601,677.9077 9648.7449,678.9744 Q9649.4297,680.041 9650.7744,680.041 Q9651.4053,680.041 9651.9988,679.7712 Q9652.5923,679.5015 9653.2231,678.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="9670.75" y="681.291">QuerySubscription</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="9460" x2="9976" y1="692" y2="692" />
      <ellipse cx="9470" cy="705.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="184" x="9479" y="709.5352">ResponseType : Type «get»</text>
      <ellipse cx="9470" cy="722.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="264" x="9479" y="726.0234">QueryHandler : IMessageHandler «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="9460" x2="9976" y1="732.9766" y2="732.9766" />
      <ellipse cx="9470" cy="746.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="492" x="9479" y="750.5117">QuerySubscription(responseType:Type, queryHandler:IMessageHandler)</text>
      <ellipse cx="9470" cy="763.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="437" x="9479" y="767">CanHandle(queryResponseType:IResponseType&lt;object&gt;) : bool</text>
      <ellipse cx="9470" cy="779.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="208" x="9479" y="783.4883">«override» GetHashCode() : int</text>
      <ellipse cx="9470" cy="796.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="247" x="9479" y="799.9766">«override» Equals(obj:object?) : bool</text>
      <ellipse cx="9470" cy="812.6738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="272" x="9479" y="816.4648">Equals(other:QuerySubscription?) : bool</text>
    </g>
    <!--MD5=[830c6d2fb4a359ed5e28a089efab17c8]
class IMessage`1-->
    <g id="elem_IMessage`1">
      <rect codeLine="135" fill="#F1F1F1" height="146.9297" id="IMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="639" x="12772.5" y="31.5" />
      <ellipse cx="13007.75" cy="47.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M13003.6777,43.2651 L13003.6777,41.1069 L13011.0571,41.1069 L13011.0571,43.2651 L13008.5918,43.2651 L13008.5918,51.3418 L13011.0571,51.3418 L13011.0571,53.5 L13003.6777,53.5 L13003.6777,51.3418 L13006.1431,51.3418 L13006.1431,43.2651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="13028.25" y="52.791">IMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="13337.5" y="28.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="13338.5" y="41.1016">out TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="12773.5" x2="13410.5" y1="63.5" y2="63.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="12778.5" y="81.0352">Identifier : string «get»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="12778.5" y="97.5234">MetaData : MetaData «get»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="12778.5" y="114.0117">Payload : TPayload? «get»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="171" x="12778.5" y="130.5">PayloadType : Type «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="12773.5" x2="13410.5" y1="137.4531" y2="137.4531" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="627" x="12778.5" y="154.9883">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="625" x="12778.5" y="171.4766">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[9e3360b90e3d0d98a794ef3747592708]
class GenericQueryResponseMessage`1-->
    <g id="elem_GenericQueryResponseMessage`1">
      <rect codeLine="143" fill="#F1F1F1" height="245.8594" id="GenericQueryResponseMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="872" x="14766" y="1040" />
      <ellipse cx="15056.25" cy="1056" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M15059.2231,1061.6431 Q15058.6421,1061.9419 15058.0029,1062.0913 Q15057.3638,1062.2407 15056.6582,1062.2407 Q15054.1514,1062.2407 15052.8315,1060.5889 Q15051.5117,1058.937 15051.5117,1055.8159 Q15051.5117,1052.6865 15052.8315,1051.0347 Q15054.1514,1049.3828 15056.6582,1049.3828 Q15057.3638,1049.3828 15058.0112,1049.5322 Q15058.6587,1049.6816 15059.2231,1049.9805 L15059.2231,1052.7031 Q15058.5923,1052.1221 15057.9988,1051.8523 Q15057.4053,1051.5825 15056.7744,1051.5825 Q15055.4297,1051.5825 15054.7449,1052.6492 Q15054.0601,1053.7158 15054.0601,1055.8159 Q15054.0601,1057.9077 15054.7449,1058.9744 Q15055.4297,1060.041 15056.7744,1060.041 Q15057.4053,1060.041 15057.9988,1059.7712 Q15058.5923,1059.5015 15059.2231,1058.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="236" x="15076.75" y="1061.291">GenericQueryResponseMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="45" x="15596" y="1037" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="43" x="15597" y="1049.6016">TResult</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="14767" x2="15637" y1="1072" y2="1072" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="14767" x2="15637" y1="1080" y2="1080" />
      <ellipse cx="14777" cy="1093.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="228" x="14786" y="1097.5352">GenericQueryResponseMessage()</text>
      <ellipse cx="14777" cy="1110.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="322" x="14786" y="1114.0234">GenericQueryResponseMessage(result:TResult)</text>
      <ellipse cx="14777" cy="1126.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="507" x="14786" y="1130.5117">GenericQueryResponseMessage(declaredResultType:Type, result:TResult?)</text>
      <ellipse cx="14777" cy="1143.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="547" x="14786" y="1147">GenericQueryResponseMessage(declaredResultType:Type, exception:Exception)</text>
      <ellipse cx="14777" cy="1159.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="463" x="14786" y="1163.4883">GenericQueryResponseMessage(result:TResult, metaData:MetaData)</text>
      <ellipse cx="14777" cy="1176.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="648" x="14786" y="1179.9766">GenericQueryResponseMessage(declaredResultType:Type, result:TResult?, metaData:MetaData)</text>
      <ellipse cx="14777" cy="1192.6738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="688" x="14786" y="1196.4648">GenericQueryResponseMessage(declaredResultType:Type, exception:Exception, metaData:MetaData)</text>
      <ellipse cx="14777" cy="1209.1621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="428" x="14786" y="1212.9531">GenericQueryResponseMessage(message:IMessage&lt;TResult&gt;)</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="723" x="14786" y="1229.4414">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IQueryResponseMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="721" x="14786" y="1245.9297">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IQueryResponseMessage&lt;TResult&gt;</text>
      <ellipse cx="14777" cy="1258.627" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="846" x="14786" y="1262.418">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericQueryResponseMessage&lt;TResult&gt;</text>
      <ellipse cx="14777" cy="1275.1152" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="844" x="14786" y="1278.9063">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericQueryResponseMessage&lt;TResult&gt;</text>
    </g>
    <!--MD5=[36dc04a383ef32f8155f0e05d2487b1e]
class GenericResultMessage`1-->
    <g id="elem_GenericResultMessage`1">
      <rect codeLine="294" fill="#F1F1F1" height="245.8594" id="GenericResultMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="818" x="13323" y="618.5" />
      <ellipse cx="13613.75" cy="634.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M13616.7231,640.1431 Q13616.1421,640.4419 13615.5029,640.5913 Q13614.8638,640.7407 13614.1582,640.7407 Q13611.6514,640.7407 13610.3315,639.0889 Q13609.0117,637.437 13609.0117,634.3159 Q13609.0117,631.1865 13610.3315,629.5347 Q13611.6514,627.8828 13614.1582,627.8828 Q13614.8638,627.8828 13615.5112,628.0322 Q13616.1587,628.1816 13616.7231,628.4805 L13616.7231,631.2031 Q13616.0923,630.6221 13615.4988,630.3523 Q13614.9053,630.0825 13614.2744,630.0825 Q13612.9297,630.0825 13612.2449,631.1492 Q13611.5601,632.2158 13611.5601,634.3159 Q13611.5601,636.4077 13612.2449,637.4744 Q13612.9297,638.541 13614.2744,638.541 Q13614.9053,638.541 13615.4988,638.2712 Q13616.0923,638.0015 13616.7231,637.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="171" x="13634.25" y="639.791">GenericResultMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="14089" y="615.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="14090" y="628.1016">TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="13324" x2="14140" y1="650.5" y2="650.5" />
      <ellipse cx="13334" cy="664.2441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="13343" y="668.0352">IsSuccess : bool «get»</text>
      <ellipse cx="13334" cy="680.7324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194" x="13343" y="684.5234">Exception : Exception? «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="13324" x2="14140" y1="691.4766" y2="691.4766" />
      <ellipse cx="13334" cy="705.2207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="274" x="13343" y="709.0117">GenericResultMessage(result:TPayload?)</text>
      <ellipse cx="13334" cy="721.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="303" x="13343" y="725.5">GenericResultMessage(exception:Exception)</text>
      <ellipse cx="13334" cy="738.1973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="415" x="13343" y="741.9883">GenericResultMessage(result:TPayload?, metaData:MetaData)</text>
      <ellipse cx="13334" cy="754.6855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="444" x="13343" y="758.4766">GenericResultMessage(exception:Exception, metaData:MetaData)</text>
      <ellipse cx="13334" cy="771.1738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="374" x="13343" y="774.9648">GenericResultMessage(message:IMessage&lt;TPayload&gt;)</text>
      <ellipse cx="13334" cy="787.6621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="528" x="13343" y="791.4531">GenericResultMessage(message:IMessage&lt;TPayload&gt;, exception:Exception?)</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="669" x="13343" y="807.9414">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IResultMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="667" x="13343" y="824.4297">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IResultMessage&lt;TPayload&gt;</text>
      <ellipse cx="13334" cy="837.127" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="792" x="13343" y="840.918">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericResultMessage&lt;TPayload&gt;</text>
      <ellipse cx="13334" cy="853.6152" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="790" x="13343" y="857.4063">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericResultMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[a2393eeab834c3792f891fa1187d719a]
class IQueryResponseMessage`1-->
    <g id="elem_IQueryResponseMessage`1">
      <rect codeLine="279" fill="#F1F1F1" height="113.9531" id="IQueryResponseMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="781" x="14998.5" y="684.5" />
      <ellipse cx="15256.25" cy="700.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M15252.1777,696.2651 L15252.1777,694.1069 L15259.5571,694.1069 L15259.5571,696.2651 L15257.0918,696.2651 L15257.0918,704.3418 L15259.5571,704.3418 L15259.5571,706.5 L15252.1777,706.5 L15252.1777,704.3418 L15254.6431,704.3418 L15254.6431,696.2651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="188" x="15276.75" y="705.791">IQueryResponseMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="67" x="15715.5" y="681.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="15716.5" y="694.1016">out TResult</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="14999.5" x2="15778.5" y1="716.5" y2="716.5" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="14999.5" x2="15778.5" y1="724.5" y2="724.5" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="658" x="15004.5" y="742.0352">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IResultMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="656" x="15004.5" y="758.5234">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IResultMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="769" x="15004.5" y="775.0117">«new» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IQueryResponseMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="767" x="15004.5" y="791.5">«new» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IQueryResponseMessage&lt;TResult&gt;</text>
    </g>
    <!--MD5=[2813c1b7b230612ebc8459cb0360d2d3]
class GenericEventMessage-->
    <g id="elem_GenericEventMessage">
      <rect codeLine="159" fill="#F1F1F1" height="106.0859" id="GenericEventMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="786" x="2486" y="52" />
      <ellipse cx="2800.75" cy="72.3105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M2803.7231,77.9536 Q2803.1421,78.2524 2802.5029,78.4019 Q2801.8638,78.5513 2801.1582,78.5513 Q2798.6514,78.5513 2797.3315,76.8994 Q2796.0117,75.2476 2796.0117,72.1265 Q2796.0117,68.9971 2797.3315,67.3452 Q2798.6514,65.6934 2801.1582,65.6934 Q2801.8638,65.6934 2802.5112,65.8428 Q2803.1587,65.9922 2803.7231,66.291 L2803.7231,69.0137 Q2803.0923,68.4326 2802.4988,68.1628 Q2801.9053,67.8931 2801.2744,67.8931 Q2799.9297,67.8931 2799.2449,68.9597 Q2798.5601,70.0264 2798.5601,72.1265 Q2798.5601,74.2183 2799.2449,75.2849 Q2799.9297,76.3516 2801.2744,76.3516 Q2801.9053,76.3516 2802.4988,76.0818 Q2803.0923,75.812 2803.7231,75.231 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="2874.25" y="68.6016">«static»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="2821.25" y="84.668">GenericEventMessage</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="2487" x2="3271" y1="92.6211" y2="92.6211" />
      <ellipse cx="2497" cy="106.3652" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="391" x="2506" y="110.1563">«readonly» SystemTimestampSupplier : Func&lt;DateTime&gt;</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="2487" x2="3271" y1="117.1094" y2="117.1094" />
      <ellipse cx="2497" cy="130.8535" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="760" x="2506" y="134.6445">AsEventMessage(eventMessage:TMessage, timestampSupplier:Func&lt;DateTime&gt;?) : IEventMessage&lt;TMessage&gt;</text>
      <ellipse cx="2497" cy="147.3418" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="734" x="2506" y="151.1328">AsEventMessage(eventMessage:object, timestampSupplier:Func&lt;DateTime&gt;?) : IEventMessage&lt;TMessage&gt;</text>
    </g>
    <!--MD5=[09e4753bfd988306559b6f181ac36639]
class IQueryMessage`2-->
    <g id="elem_IQueryMessage`2">
      <rect codeLine="164" fill="#F1F1F1" height="113.9531" id="IQueryMessage`2" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="363" x="11082.5" y="296" />
      <ellipse cx="11115.5" cy="312" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M11111.4277,307.7651 L11111.4277,305.6069 L11118.8071,305.6069 L11118.8071,307.7651 L11116.3418,307.7651 L11116.3418,315.8418 L11118.8071,315.8418 L11118.8071,318 L11111.4277,318 L11111.4277,315.8418 L11113.8931,315.8418 L11113.8931,307.7651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="122" x="11133.5" y="317.291">IQueryMessage`2</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="167" x="11281.5" y="293" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="165" x="11282.5" y="305.6016">out TPayload,out TResponse</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="11083.5" x2="11444.5" y1="328" y2="328" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="11088.5" y="345.5352">Payload : TPayload «get»</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="11088.5" y="362.0234">«new» Payload : TPayload «get»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="172" x="11088.5" y="378.5117">QueryName : string «get»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="351" x="11088.5" y="395">ResponseType : IResponseType&lt;TResponse&gt; «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="11083.5" x2="11444.5" y1="401.9531" y2="401.9531" />
    </g>
    <!--MD5=[968b2d173d43a39003603e0aa91254bc]
class GenericResultMessage-->
    <g id="elem_GenericResultMessage">
      <rect codeLine="171" fill="#F1F1F1" height="113.9531" id="GenericResultMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="544" x="338" y="296" />
      <ellipse cx="529.25" cy="312" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M532.2231,317.6431 Q531.6421,317.9419 531.0029,318.0913 Q530.3638,318.2407 529.6582,318.2407 Q527.1514,318.2407 525.8315,316.5889 Q524.5117,314.937 524.5117,311.8159 Q524.5117,308.6865 525.8315,307.0347 Q527.1514,305.3828 529.6582,305.3828 Q530.3638,305.3828 531.0112,305.5322 Q531.6587,305.6816 532.2231,305.9805 L532.2231,308.7031 Q531.5923,308.1221 530.9988,307.8523 Q530.4053,307.5825 529.7744,307.5825 Q528.4297,307.5825 527.7449,308.6492 Q527.0601,309.7158 527.0601,311.8159 Q527.0601,313.9077 527.7449,314.9744 Q528.4297,316.041 529.7744,316.041 Q530.4053,316.041 530.9988,315.7712 Q531.5923,315.5015 532.2231,314.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="153" x="549.75" y="317.291">GenericResultMessage</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="339" x2="881" y1="328" y2="328" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="339" x2="881" y1="336" y2="336" />
      <ellipse cx="349" cy="349.7441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="440" x="358" y="353.5352">AsResultMessage(result:TPayload?) : IResultMessage&lt;TPayload&gt;</text>
      <ellipse cx="349" cy="366.2324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="420" x="358" y="370.0234">AsResultMessage(result:object?) : IResultMessage&lt;TPayload&gt;</text>
      <ellipse cx="349" cy="382.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="504" x="358" y="386.5117">AsErrorResultMessage(exception:Exception) : IResultMessage&lt;TPayload&gt;</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="518" x="358" y="403">«internal» FindResultException(message:IMessage&lt;TPayload&gt;) : Exception?</text>
    </g>
    <!--MD5=[78b75525c5a8512815980d7b2e1eab66]
class IEventMessage`1-->
    <g id="elem_IEventMessage`1">
      <rect codeLine="177" fill="#F1F1F1" height="163.418" id="IEventMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="722" x="11638" y="271.5" />
      <ellipse cx="11896.25" cy="287.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M11892.1777,283.2651 L11892.1777,281.1069 L11899.5571,281.1069 L11899.5571,283.2651 L11897.0918,283.2651 L11897.0918,291.3418 L11899.5571,291.3418 L11899.5571,293.5 L11892.1777,293.5 L11892.1777,291.3418 L11894.6431,291.3418 L11894.6431,283.2651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="118" x="11916.75" y="292.791">IEventMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="12286" y="268.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="12287" y="281.1016">out TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="11639" x2="12359" y1="303.5" y2="303.5" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="11644" y="321.0352">Payload : TPayload «get»</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="11644" y="337.5234">«new» Payload : TPayload «get»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="193" x="11644" y="354.0117">Timestamp : DateTime «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="11639" x2="12359" y1="360.9648" y2="360.9648" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="627" x="11644" y="378.5">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="625" x="11644" y="394.9883">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="710" x="11644" y="411.4766">«new» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IEventMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="708" x="11644" y="427.9648">«new» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IEventMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[adf464ab485d35ee4e8301d4b01800c6]
class GenericCommandMessage`1-->
    <g id="elem_GenericCommandMessage`1">
      <rect codeLine="187" fill="#F1F1F1" height="196.3945" id="GenericCommandMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="847" x="12440.5" y="643.5" />
      <ellipse cx="12731.25" cy="659.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M12734.2231,665.1431 Q12733.6421,665.4419 12733.0029,665.5913 Q12732.3638,665.7407 12731.6582,665.7407 Q12729.1514,665.7407 12727.8315,664.0889 Q12726.5117,662.437 12726.5117,659.3159 Q12726.5117,656.1865 12727.8315,654.5347 Q12729.1514,652.8828 12731.6582,652.8828 Q12732.3638,652.8828 12733.0112,653.0322 Q12733.6587,653.1816 12734.2231,653.4805 L12734.2231,656.2031 Q12733.5923,655.6221 12732.9988,655.3523 Q12732.4053,655.0825 12731.7744,655.0825 Q12730.4297,655.0825 12729.7449,656.1492 Q12729.0601,657.2158 12729.0601,659.3159 Q12729.0601,661.4077 12729.7449,662.4744 Q12730.4297,663.541 12731.7744,663.541 Q12732.4053,663.541 12732.9988,663.2712 Q12733.5923,663.0015 12734.2231,662.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="200" x="12751.75" y="664.791">GenericCommandMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="13235.5" y="640.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="13236.5" y="653.1016">TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="12441.5" x2="13286.5" y1="675.5" y2="675.5" />
      <ellipse cx="12451.5" cy="689.2441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="12460.5" y="693.0352">«new» Payload : TPayload «get»</text>
      <ellipse cx="12451.5" cy="705.7324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="12460.5" y="709.5234">CommandName : string «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="12441.5" x2="13286.5" y1="716.4766" y2="716.4766" />
      <ellipse cx="12451.5" cy="730.2207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="312" x="12460.5" y="734.0117">GenericCommandMessage(payload:TPayload)</text>
      <ellipse cx="12451.5" cy="746.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="684" x="12460.5" y="750.5">GenericCommandMessage(payload:TPayload, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text>
      <ellipse cx="12451.5" cy="763.1973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="562" x="12460.5" y="766.9883">GenericCommandMessage(message:IMessage&lt;TPayload&gt;, commandName:string)</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="698" x="12460.5" y="783.4766">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : ICommandMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="696" x="12460.5" y="799.9648">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : ICommandMessage&lt;TPayload&gt;</text>
      <ellipse cx="12451.5" cy="812.6621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="821" x="12460.5" y="816.4531">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericCommandMessage&lt;TPayload&gt;</text>
      <ellipse cx="12451.5" cy="829.1504" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="819" x="12460.5" y="832.9414">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericCommandMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[e9a257493b5a51fd4af956a7d643ce18]
class MessageDecorator`1-->
    <g id="elem_MessageDecorator`1">
      <rect codeLine="209" fill="#F1F1F1" height="179.9063" id="MessageDecorator`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="653" x="12395.5" y="263" />
      <ellipse cx="12616.75" cy="279" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M12616.8633,274.3481 L12615.7095,279.4199 L12618.0254,279.4199 Z M12615.3691,272.1069 L12618.3657,272.1069 L12621.7109,284.5 L12619.2622,284.5 L12618.4985,281.437 L12615.2197,281.437 L12614.4727,284.5 L12612.0239,284.5 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="145" x="12637.25" y="284.291">MessageDecorator`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="12996.5" y="260" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="12997.5" y="272.6016">TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="12396.5" x2="13047.5" y1="295" y2="295" />
      <ellipse cx="12406.5" cy="308.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="258" x="12415.5" y="312.5352">Message : IMessage&lt;TPayload&gt; «get»</text>
      <ellipse cx="12406.5" cy="325.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="12415.5" y="329.0234">Identifier : string «get»</text>
      <ellipse cx="12406.5" cy="341.7207" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="180" x="12415.5" y="345.5117">MetaData : MetaData «get»</text>
      <ellipse cx="12406.5" cy="358.209" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="173" x="12415.5" y="362">Payload : TPayload? «get»</text>
      <ellipse cx="12406.5" cy="374.6973" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="171" x="12415.5" y="378.4883">PayloadType : Type «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="12396.5" x2="13047.5" y1="385.4414" y2="385.4414" />
      <ellipse cx="12406.5" cy="399.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="348" x="12415.5" y="402.9766">MessageDecorator(message:IMessage&lt;TPayload&gt;)</text>
      <ellipse cx="12406.5" cy="415.6738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="627" x="12415.5" y="419.4648">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
      <ellipse cx="12406.5" cy="432.1621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="625" x="12415.5" y="435.9531">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[2cb2aba1546663237a7a2bb3ba13ebe0]
class ICommandMessage`1-->
    <g id="elem_ICommandMessage`1">
      <rect codeLine="339" fill="#F1F1F1" height="163.418" id="ICommandMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="756" x="13084" y="271.5" />
      <ellipse cx="13342.25" cy="287.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M13338.1777,283.2651 L13338.1777,281.1069 L13345.5571,281.1069 L13345.5571,283.2651 L13343.0918,283.2651 L13343.0918,291.3418 L13345.5571,291.3418 L13345.5571,293.5 L13338.1777,293.5 L13338.1777,291.3418 L13340.6431,291.3418 L13340.6431,283.2651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="152" x="13362.75" y="292.791">ICommandMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="77" x="13766" y="268.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="75" x="13767" y="281.1016">out TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="13085" x2="13839" y1="303.5" y2="303.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="202" x="13090" y="321.0352">CommandName : string «get»</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="13090" y="337.5234">Payload : TPayload «get»</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="13090" y="354.0117">«new» Payload : TPayload «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="13085" x2="13839" y1="360.9648" y2="360.9648" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="627" x="13090" y="378.5">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="625" x="13090" y="394.9883">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="744" x="13090" y="411.4766">«new» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : ICommandMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="742" x="13090" y="427.9648">«new» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : ICommandMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[5ba67e2980ce1dd7650e3ccb31f314f1]
class IResultMessage`1-->
    <g id="elem_IResultMessage`1">
      <rect codeLine="200" fill="#F1F1F1" height="146.9297" id="IResultMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="716" x="14043" y="279.5" />
      <ellipse cx="14300.75" cy="295.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M14296.6777,291.2651 L14296.6777,289.1069 L14304.0571,289.1069 L14304.0571,291.2651 L14301.5918,291.2651 L14301.5918,299.3418 L14304.0571,299.3418 L14304.0571,301.5 L14296.6777,301.5 L14296.6777,299.3418 L14299.1431,299.3418 L14299.1431,291.2651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="123" x="14321.25" y="300.791">IResultMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="67" x="14695" y="276.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="14696" y="289.1016">out TResult</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="14044" x2="14758" y1="311.5" y2="311.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="14049" y="329.0352">IsSuccess : bool «get»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="194" x="14049" y="345.5234">Exception : Exception? «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="14044" x2="14758" y1="352.4766" y2="352.4766" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="616" x="14049" y="370.0117">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="614" x="14049" y="386.5">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="704" x="14049" y="402.9883">«new» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IResultMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="702" x="14049" y="419.4766">«new» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IResultMessage&lt;TResult&gt;</text>
    </g>
    <!--MD5=[deade2f3c406fcfaed8243a96b4e5c2a]
class GenericEventMessage`1-->
    <g id="elem_GenericEventMessage`1">
      <rect codeLine="220" fill="#F1F1F1" height="212.8828" id="GenericEventMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="813" x="11592.5" y="635" />
      <ellipse cx="11883.25" cy="651" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M11886.2231,656.6431 Q11885.6421,656.9419 11885.0029,657.0913 Q11884.3638,657.2407 11883.6582,657.2407 Q11881.1514,657.2407 11879.8315,655.5889 Q11878.5117,653.937 11878.5117,650.8159 Q11878.5117,647.6865 11879.8315,646.0347 Q11881.1514,644.3828 11883.6582,644.3828 Q11884.3638,644.3828 11885.0112,644.5322 Q11885.6587,644.6816 11886.2231,644.9805 L11886.2231,647.7031 Q11885.5923,647.1221 11884.9988,646.8523 Q11884.4053,646.5825 11883.7744,646.5825 Q11882.4297,646.5825 11881.7449,647.6492 Q11881.0601,648.7158 11881.0601,650.8159 Q11881.0601,652.9077 11881.7449,653.9744 Q11882.4297,655.041 11883.7744,655.041 Q11884.4053,655.041 11884.9988,654.7712 Q11885.5923,654.5015 11886.2231,653.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="166" x="11903.75" y="656.291">GenericEventMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="12353.5" y="632" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="12354.5" y="644.6016">TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="11593.5" x2="12404.5" y1="667" y2="667" />
      <ellipse cx="11603.5" cy="680.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="11612.5" y="684.5352">«new» Payload : TPayload «get»</text>
      <ellipse cx="11603.5" cy="697.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="193" x="11612.5" y="701.0234">Timestamp : DateTime «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="11593.5" x2="12404.5" y1="707.9766" y2="707.9766" />
      <ellipse cx="11603.5" cy="721.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="278" x="11612.5" y="725.5117">GenericEventMessage(payload:TPayload)</text>
      <ellipse cx="11603.5" cy="738.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="650" x="11612.5" y="742">GenericEventMessage(payload:TPayload, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text>
      <ellipse cx="11603.5" cy="754.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="369" x="11612.5" y="758.4883">GenericEventMessage(message:IMessage&lt;TPayload&gt;)</text>
      <ellipse cx="11603.5" cy="771.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="630" x="11612.5" y="774.9766">GenericEventMessage(message:IMessage&lt;TPayload&gt;, timestampSupplier:Func&lt;DateTime&gt;)</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="664" x="11612.5" y="791.4648">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IEventMessage&lt;TPayload&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="662" x="11612.5" y="807.9531">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IEventMessage&lt;TPayload&gt;</text>
      <ellipse cx="11603.5" cy="820.6504" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="787" x="11612.5" y="824.4414">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericEventMessage&lt;TPayload&gt;</text>
      <ellipse cx="11603.5" cy="837.1387" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="785" x="11612.5" y="840.9297">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericEventMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[91e241189aae376f6ed335a9435517df]
class MetaData-->
    <g id="elem_MetaData">
      <rect codeLine="234" fill="#F1F1F1" height="476.6953" id="MetaData" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="609" x="10012.5" y="503" />
      <ellipse cx="10280.75" cy="519" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M10283.7231,524.6431 Q10283.1421,524.9419 10282.5029,525.0913 Q10281.8638,525.2407 10281.1582,525.2407 Q10278.6514,525.2407 10277.3315,523.5889 Q10276.0117,521.937 10276.0117,518.8159 Q10276.0117,515.6865 10277.3315,514.0347 Q10278.6514,512.3828 10281.1582,512.3828 Q10281.8638,512.3828 10282.5112,512.5322 Q10283.1587,512.6816 10283.7231,512.9805 L10283.7231,515.7031 Q10283.0923,515.1221 10282.4988,514.8523 Q10281.9053,514.5825 10281.2744,514.5825 Q10279.9297,514.5825 10279.2449,515.6492 Q10278.5601,516.7158 10278.5601,518.8159 Q10278.5601,520.9077 10279.2449,521.9744 Q10279.9297,523.041 10281.2744,523.041 Q10281.9053,523.041 10282.4988,522.7712 Q10283.0923,522.5015 10283.7231,521.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="10301.25" y="524.291">MetaData</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="10013.5" x2="10620.5" y1="535" y2="535" />
      <ellipse cx="10023.5" cy="548.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="253" x="10032.5" y="552.5352">«readonly» EmptyInstance : MetaData</text>
      <rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="10020.5" y="562.2324" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="383" x="10032.5" y="569.0234">«readonly» values : IReadOnlyDictionary&lt;string, object&gt;</text>
      <ellipse cx="10023.5" cy="581.7207" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="10032.5" y="585.5117">Count : int «get»</text>
      <ellipse cx="10023.5" cy="598.209" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159" x="10032.5" y="602">IsReadOnly : bool «get»</text>
      <ellipse cx="10023.5" cy="614.6973" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="136" x="10032.5" y="618.4883">IsEmpty : bool «get»</text>
      <ellipse cx="10023.5" cy="631.1855" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="231" x="10032.5" y="634.9766">Keys : IEnumerable&lt;string&gt; «get»</text>
      <ellipse cx="10023.5" cy="647.6738" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="247" x="10032.5" y="651.4648">Values : IEnumerable&lt;object&gt; «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="10013.5" x2="10620.5" y1="658.418" y2="658.418" />
      <ellipse cx="10023.5" cy="672.1621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="74" x="10032.5" y="675.9531">MetaData()</text>
      <ellipse cx="10023.5" cy="688.6504" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="423" x="10032.5" y="692.4414">MetaData(items:IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;)</text>
      <ellipse cx="10023.5" cy="705.1387" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="533" x="10032.5" y="708.9297">From(metaDataEntries:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : MetaData</text>
      <ellipse cx="10023.5" cy="721.627" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="273" x="10032.5" y="725.418">With(key:string, value:object) : MetaData</text>
      <ellipse cx="10023.5" cy="738.1152" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="271" x="10032.5" y="741.9063">And(key:string, value:object) : MetaData</text>
      <ellipse cx="10023.5" cy="754.6035" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="313" x="10032.5" y="758.3945">Add(item:KeyValuePair&lt;string, object&gt;) : void</text>
      <ellipse cx="10023.5" cy="771.0918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="87" x="10032.5" y="774.8828">Clear() : void</text>
      <ellipse cx="10023.5" cy="787.5801" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="348" x="10032.5" y="791.3711">Contains(item:KeyValuePair&lt;string, object&gt;) : bool</text>
      <ellipse cx="10023.5" cy="804.0684" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="457" x="10032.5" y="807.8594">CopyTo(array:KeyValuePair&lt;string, object&gt;[], arrayIndex:int) : void</text>
      <ellipse cx="10023.5" cy="820.5566" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="341" x="10032.5" y="824.3477">Remove(item:KeyValuePair&lt;string, object&gt;) : bool</text>
      <ellipse cx="10023.5" cy="837.0449" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="205" x="10032.5" y="840.8359">ContainsKey(key:string) : bool</text>
      <ellipse cx="10023.5" cy="853.5332" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="293" x="10032.5" y="857.3242">TryGetValue(key:string, value:object) : bool</text>
      <ellipse cx="10023.5" cy="870.0215" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="433" x="10032.5" y="873.8125">GetEnumerator() : IEnumerator&lt;KeyValuePair&lt;string, object&gt;&gt;</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="211" x="10032.5" y="890.3008">GetEnumerator() : IEnumerator</text>
      <ellipse cx="10023.5" cy="902.998" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="440" x="10032.5" y="906.7891">Equals(other:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;?) : bool</text>
      <ellipse cx="10023.5" cy="919.4863" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="247" x="10032.5" y="923.2773">«override» Equals(obj:object?) : bool</text>
      <ellipse cx="10023.5" cy="935.9746" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="208" x="10032.5" y="939.7656">«override» GetHashCode() : int</text>
      <ellipse cx="10023.5" cy="952.4629" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="583" x="10032.5" y="956.2539">MergedWith(additionalEntries:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : MetaData</text>
      <polygon fill="#FFFF44" points="10023.5,963.9512,10027.5,967.9512,10023.5,971.9512,10019.5,967.9512" style="stroke:#B38D22;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="203" x="10032.5" y="972.7422">Equals(other:MetaData) : bool</text>
    </g>
    <!--MD5=[6151ec3b6f1b7c64b99e637b3b2cd5f4]
class IReadOnlyDictionary`2-->
    <g id="elem_IReadOnlyDictionary`2">
      <rect fill="#F1F1F1" height="48" id="IReadOnlyDictionary`2" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="10128" y="329" />
      <ellipse cx="10143" cy="345" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M10145.9731,350.6431 Q10145.3921,350.9419 10144.7529,351.0913 Q10144.1138,351.2407 10143.4082,351.2407 Q10140.9014,351.2407 10139.5815,349.5889 Q10138.2617,347.937 10138.2617,344.8159 Q10138.2617,341.6865 10139.5815,340.0347 Q10140.9014,338.3828 10143.4082,338.3828 Q10144.1138,338.3828 10144.7612,338.5322 Q10145.4087,338.6816 10145.9731,338.9805 L10145.9731,341.7031 Q10145.3423,341.1221 10144.7488,340.8523 Q10144.1553,340.5825 10143.5244,340.5825 Q10142.1797,340.5825 10141.4949,341.6492 Q10140.8101,342.7158 10140.8101,344.8159 Q10140.8101,346.9077 10141.4949,347.9744 Q10142.1797,349.041 10143.5244,349.041 Q10144.1553,349.041 10144.7488,348.7712 Q10145.3423,348.5015 10145.9731,347.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="156" x="10157" y="350.291">IReadOnlyDictionary`2</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="10129" x2="10315" y1="361" y2="361" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="10129" x2="10315" y1="369" y2="369" />
    </g>
    <!--MD5=[4d8340c4a1b73a1fc3717b1331afe7d0]
class ICollection`1-->
    <g id="elem_ICollection`1">
      <rect fill="#F1F1F1" height="48" id="ICollection`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="10351.5" y="329" />
      <ellipse cx="10366.5" cy="345" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M10369.4731,350.6431 Q10368.8921,350.9419 10368.2529,351.0913 Q10367.6138,351.2407 10366.9082,351.2407 Q10364.4014,351.2407 10363.0815,349.5889 Q10361.7617,347.937 10361.7617,344.8159 Q10361.7617,341.6865 10363.0815,340.0347 Q10364.4014,338.3828 10366.9082,338.3828 Q10367.6138,338.3828 10368.2612,338.5322 Q10368.9087,338.6816 10369.4731,338.9805 L10369.4731,341.7031 Q10368.8423,341.1221 10368.2488,340.8523 Q10367.6553,340.5825 10367.0244,340.5825 Q10365.6797,340.5825 10364.9949,341.6492 Q10364.3101,342.7158 10364.3101,344.8159 Q10364.3101,346.9077 10364.9949,347.9744 Q10365.6797,349.041 10367.0244,349.041 Q10367.6553,349.041 10368.2488,348.7712 Q10368.8423,348.5015 10369.4731,347.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="91" x="10380.5" y="350.291">ICollection`1</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="10352.5" x2="10473.5" y1="361" y2="361" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="10352.5" x2="10473.5" y1="369" y2="369" />
    </g>
    <!--MD5=[8ac22b54ba2d40f541848c9f1c5842eb]
class GenericCommandResultMessage`1-->
    <g id="elem_GenericCommandResultMessage`1">
      <rect codeLine="265" fill="#F1F1F1" height="212.8828" id="GenericCommandResultMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="878" x="13480" y="1056.5" />
      <ellipse cx="13770.25" cy="1072.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M13773.2231,1078.1431 Q13772.6421,1078.4419 13772.0029,1078.5913 Q13771.3638,1078.7407 13770.6582,1078.7407 Q13768.1514,1078.7407 13766.8315,1077.0889 Q13765.5117,1075.437 13765.5117,1072.3159 Q13765.5117,1069.1865 13766.8315,1067.5347 Q13768.1514,1065.8828 13770.6582,1065.8828 Q13771.3638,1065.8828 13772.0112,1066.0322 Q13772.6587,1066.1816 13773.2231,1066.4805 L13773.2231,1069.2031 Q13772.5923,1068.6221 13771.9988,1068.3523 Q13771.4053,1068.0825 13770.7744,1068.0825 Q13769.4297,1068.0825 13768.7449,1069.1492 Q13768.0601,1070.2158 13768.0601,1072.3159 Q13768.0601,1074.4077 13768.7449,1075.4744 Q13769.4297,1076.541 13770.7744,1076.541 Q13771.4053,1076.541 13771.9988,1076.2712 Q13772.5923,1076.0015 13773.2231,1075.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="242" x="13790.75" y="1077.791">GenericCommandResultMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="45" x="14316" y="1053.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="43" x="14317" y="1066.1016">TResult</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="13481" x2="14357" y1="1088.5" y2="1088.5" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="13481" x2="14357" y1="1096.5" y2="1096.5" />
      <ellipse cx="13491" cy="1110.2441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="405" x="13500" y="1114.0352">GenericCommandResultMessage(commandResult:TResult?)</text>
      <ellipse cx="13491" cy="1126.7324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="374" x="13500" y="1130.5234">GenericCommandResultMessage(exception:Exception)</text>
      <ellipse cx="13491" cy="1143.2207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="546" x="13500" y="1147.0117">GenericCommandResultMessage(commandResult:TResult?, metaData:MetaData)</text>
      <ellipse cx="13491" cy="1159.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="515" x="13500" y="1163.5">GenericCommandResultMessage(exception:Exception, metaData:MetaData)</text>
      <ellipse cx="13491" cy="1176.1973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="434" x="13500" y="1179.9883">GenericCommandResultMessage(message:IMessage&lt;TResult&gt;)</text>
      <ellipse cx="13491" cy="1192.6855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="588" x="13500" y="1196.4766">GenericCommandResultMessage(message:IMessage&lt;TResult&gt;, exception:Exception?)</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="729" x="13500" y="1212.9648">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : ICommandResultMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="727" x="13500" y="1229.4531">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : ICommandResultMessage&lt;TResult&gt;</text>
      <ellipse cx="13491" cy="1242.1504" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="852" x="13500" y="1245.9414">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericCommandResultMessage&lt;TResult&gt;</text>
      <ellipse cx="13491" cy="1258.6387" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="850" x="13500" y="1262.4297">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericCommandResultMessage&lt;TResult&gt;</text>
    </g>
    <!--MD5=[cea53389005ada9b98e6be4053505e8e]
class ICommandResultMessage`1-->
    <g id="elem_ICommandResultMessage`1">
      <rect codeLine="353" fill="#F1F1F1" height="113.9531" id="ICommandResultMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="787" x="14176.5" y="684.5" />
      <ellipse cx="14434.25" cy="700.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M14430.1777,696.2651 L14430.1777,694.1069 L14437.5571,694.1069 L14437.5571,696.2651 L14435.0918,696.2651 L14435.0918,704.3418 L14437.5571,704.3418 L14437.5571,706.5 L14430.1777,706.5 L14430.1777,704.3418 L14432.6431,704.3418 L14432.6431,696.2651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="194" x="14454.75" y="705.791">ICommandResultMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="67" x="14899.5" y="681.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="65" x="14900.5" y="694.1016">out TResult</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="14177.5" x2="14962.5" y1="716.5" y2="716.5" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="14177.5" x2="14962.5" y1="724.5" y2="724.5" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="658" x="14182.5" y="742.0352">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IResultMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="656" x="14182.5" y="758.5234">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IResultMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="775" x="14182.5" y="775.0117">«new» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : ICommandResultMessage&lt;TResult&gt;</text>
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="773" x="14182.5" y="791.5">«new» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : ICommandResultMessage&lt;TResult&gt;</text>
    </g>
    <!--MD5=[5b54f99e8779eb742e61590e37f23f31]
class GenericCommandMessage-->
    <g id="elem_GenericCommandMessage">
      <rect codeLine="286" fill="#F1F1F1" height="89.5977" id="GenericCommandMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="559" x="917.5" y="308" />
      <ellipse cx="1101.75" cy="328.3105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M1104.7231,333.9536 Q1104.1421,334.2524 1103.5029,334.4019 Q1102.8638,334.5513 1102.1582,334.5513 Q1099.6514,334.5513 1098.3315,332.8994 Q1097.0117,331.2476 1097.0117,328.1265 Q1097.0117,324.9971 1098.3315,323.3452 Q1099.6514,321.6934 1102.1582,321.6934 Q1102.8638,321.6934 1103.5112,321.8428 Q1104.1587,321.9922 1104.7231,322.291 L1104.7231,325.0137 Q1104.0923,324.4326 1103.4988,324.1628 Q1102.9053,323.8931 1102.2744,323.8931 Q1100.9297,323.8931 1100.2449,324.9597 Q1099.5601,326.0264 1099.5601,328.1265 Q1099.5601,330.2183 1100.2449,331.2849 Q1100.9297,332.3516 1102.2744,332.3516 Q1102.9053,332.3516 1103.4988,332.0818 Q1104.0923,331.812 1104.7231,331.231 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="1192.25" y="324.6016">«static»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="182" x="1122.25" y="340.668">GenericCommandMessage</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="918.5" x2="1475.5" y1="348.6211" y2="348.6211" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="918.5" x2="1475.5" y1="356.6211" y2="356.6211" />
      <ellipse cx="928.5" cy="370.3652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="533" x="937.5" y="374.1563">AsCommandMessage(command:TMessage) : ICommandMessage&lt;TMessage&gt;</text>
      <ellipse cx="928.5" cy="386.8535" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="507" x="937.5" y="390.6445">AsCommandMessage(command:object) : ICommandMessage&lt;TMessage&gt;</text>
    </g>
    <!--MD5=[afef4dc25526350edcada1bedc2abbc3]
class GenericCommandResultMessage-->
    <g id="elem_GenericCommandResultMessage">
      <rect codeLine="290" fill="#F1F1F1" height="80.9766" id="GenericCommandResultMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="670" x="1512" y="312.5" />
      <ellipse cx="1730.75" cy="328.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M1733.7231,334.1431 Q1733.1421,334.4419 1732.5029,334.5913 Q1731.8638,334.7407 1731.1582,334.7407 Q1728.6514,334.7407 1727.3315,333.0889 Q1726.0117,331.437 1726.0117,328.3159 Q1726.0117,325.1865 1727.3315,323.5347 Q1728.6514,321.8828 1731.1582,321.8828 Q1731.8638,321.8828 1732.5112,322.0322 Q1733.1587,322.1816 1733.7231,322.4805 L1733.7231,325.2031 Q1733.0923,324.6221 1732.4988,324.3523 Q1731.9053,324.0825 1731.2744,324.0825 Q1729.9297,324.0825 1729.2449,325.1492 Q1728.5601,326.2158 1728.5601,328.3159 Q1728.5601,330.4077 1729.2449,331.4744 Q1729.9297,332.541 1731.2744,332.541 Q1731.9053,332.541 1732.4988,332.2712 Q1733.0923,332.0015 1733.7231,331.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="224" x="1751.25" y="333.791">GenericCommandResultMessage</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="1513" x2="2181" y1="344.5" y2="344.5" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="1513" x2="2181" y1="352.5" y2="352.5" />
      <ellipse cx="1523" cy="366.2441" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="622" x="1532" y="370.0352">AsCommandResultMessage(commandResult:object?) : ICommandResultMessage&lt;TResult&gt;</text>
      <ellipse cx="1523" cy="382.7324" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="644" x="1532" y="386.5234">AsCommandResultErrorMessage(exception:TException) : ICommandResultMessage&lt;TResult&gt;</text>
    </g>
    <!--MD5=[1cfc2350cc95f020a67412e322e33296]
class GenericMessage`1-->
    <g id="elem_GenericMessage`1">
      <rect codeLine="310" fill="#F1F1F1" height="212.8828" id="GenericMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="949" x="15814.5" y="635" />
      <ellipse cx="16191.75" cy="651" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M16194.7231,656.6431 Q16194.1421,656.9419 16193.5029,657.0913 Q16192.8638,657.2407 16192.1582,657.2407 Q16189.6514,657.2407 16188.3315,655.5889 Q16187.0117,653.937 16187.0117,650.8159 Q16187.0117,647.6865 16188.3315,646.0347 Q16189.6514,644.3828 16192.1582,644.3828 Q16192.8638,644.3828 16193.5112,644.5322 Q16194.1587,644.6816 16194.7231,644.9805 L16194.7231,647.7031 Q16194.0923,647.1221 16193.4988,646.8523 Q16192.9053,646.5825 16192.2744,646.5825 Q16190.9297,646.5825 16190.2449,647.6492 Q16189.5601,648.7158 16189.5601,650.8159 Q16189.5601,652.9077 16190.2449,653.9744 Q16190.9297,655.041 16192.2744,655.041 Q16192.9053,655.041 16193.4988,654.7712 Q16194.0923,654.5015 16194.7231,653.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="16212.25" y="656.291">GenericMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="16711.5" y="632" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="16712.5" y="644.6016">TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="15815.5" x2="16762.5" y1="667" y2="667" />
      <ellipse cx="15825.5" cy="680.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="255" x="15834.5" y="684.5352">«override» MetaData : MetaData «get»</text>
      <ellipse cx="15825.5" cy="697.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="248" x="15834.5" y="701.0234">«override» Payload : TPayload? «get»</text>
      <ellipse cx="15825.5" cy="713.7207" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="246" x="15834.5" y="717.5117">«override» PayloadType : Type «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="15815.5" x2="16762.5" y1="724.4648" y2="724.4648" />
      <ellipse cx="15825.5" cy="738.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="247" x="15834.5" y="742">GenericMessage(payload:TPayload?)</text>
      <ellipse cx="15825.5" cy="754.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="619" x="15834.5" y="758.4883">GenericMessage(payload:TPayload?, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text>
      <ellipse cx="15825.5" cy="771.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="809" x="15834.5" y="774.9766">GenericMessage(declaredPayloadType:Type, payload:TPayload?, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text>
      <ellipse cx="15825.5" cy="787.6738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="733" x="15834.5" y="791.4648">GenericMessage(identifier:string, payload:TPayload?, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text>
      <ellipse cx="15825.5" cy="804.1621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="923" x="15834.5" y="807.9531">GenericMessage(identifier:string, declaredPayloadType:Type, payload:TPayload?, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text>
      <rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15822.5" y="817.6504" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="514" x="15834.5" y="824.4414">GenericMessage(original:GenericMessage&lt;TPayload&gt;, metaData:MetaData)</text>
      <polygon fill="#FFFF44" points="15825.5,832.1387,15829.5,836.1387,15825.5,840.1387,15821.5,836.1387" style="stroke:#B38D22;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="519" x="15834.5" y="840.9297">«override» WithMetaData(metaData:MetaData) : GenericMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[271e8be4b42c8b4d9e62b4924bf5f582]
class AbstractMessage`1-->
    <g id="elem_AbstractMessage`1">
      <rect codeLine="328" fill="#F1F1F1" height="179.9063" id="AbstractMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="653" x="15378.5" y="263" />
      <ellipse cx="15605.25" cy="279" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M15605.3633,274.3481 L15604.2095,279.4199 L15606.5254,279.4199 Z M15603.8691,272.1069 L15606.8657,272.1069 L15610.2109,284.5 L15607.7622,284.5 L15606.9985,281.437 L15603.7197,281.437 L15602.9727,284.5 L15600.5239,284.5 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="134" x="15625.75" y="284.291">AbstractMessage`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="55" x="15979.5" y="260" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="53" x="15980.5" y="272.6016">TPayload</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="15379.5" x2="16030.5" y1="295" y2="295" />
      <ellipse cx="15389.5" cy="308.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="154" x="15398.5" y="312.5352">Identifier : string «get»</text>
      <ellipse cx="15389.5" cy="325.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="180" x="15398.5" y="329.0234">MetaData : MetaData «get»</text>
      <ellipse cx="15389.5" cy="341.7207" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="173" x="15398.5" y="345.5117">Payload : TPayload? «get»</text>
      <ellipse cx="15389.5" cy="358.209" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="171" x="15398.5" y="362">PayloadType : Type «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="15379.5" x2="16030.5" y1="368.9531" y2="368.9531" />
      <polygon fill="#FFFF44" points="15389.5,377.6973,15393.5,381.6973,15389.5,385.6973,15385.5,381.6973" style="stroke:#B38D22;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="232" x="15398.5" y="386.4883">AbstractMessage(identifier:string)</text>
      <ellipse cx="15389.5" cy="399.1855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="627" x="15398.5" y="402.9766">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
      <ellipse cx="15389.5" cy="415.6738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="625" x="15398.5" y="419.4648">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text>
      <polygon fill="#FFFF44" points="15389.5,427.1621,15393.5,431.1621,15389.5,435.1621,15385.5,431.1621" style="stroke:#B38D22;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="396" x="15398.5" y="435.9531">WithMetaData(metaData:MetaData) : IMessage&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[d28f94966e52f4faf048527be72e3f26]
class GenericQueryResponseMessage-->
    <g id="elem_GenericQueryResponseMessage">
      <rect codeLine="323" fill="#F1F1F1" height="106.0859" id="GenericQueryResponseMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="717" x="2217.5" y="300" />
      <ellipse cx="2462.75" cy="320.3105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M2465.7231,325.9536 Q2465.1421,326.2524 2464.5029,326.4019 Q2463.8638,326.5513 2463.1582,326.5513 Q2460.6514,326.5513 2459.3315,324.8994 Q2458.0117,323.2476 2458.0117,320.1265 Q2458.0117,316.9971 2459.3315,315.3452 Q2460.6514,313.6934 2463.1582,313.6934 Q2463.8638,313.6934 2464.5112,313.8428 Q2465.1587,313.9922 2465.7231,314.291 L2465.7231,317.0137 Q2465.0923,316.4326 2464.4988,316.1628 Q2463.9053,315.8931 2463.2744,315.8931 Q2461.9297,315.8931 2461.2449,316.9597 Q2460.5601,318.0264 2460.5601,320.1265 Q2460.5601,322.2183 2461.2449,323.2849 Q2461.9297,324.3516 2463.2744,324.3516 Q2463.9053,324.3516 2464.4988,324.0818 Q2465.0923,323.812 2465.7231,323.231 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="2571.25" y="316.6016">«static»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="218" x="2483.25" y="332.668">GenericQueryResponseMessage</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="2218.5" x2="2933.5" y1="340.6211" y2="340.6211" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="2218.5" x2="2933.5" y1="348.6211" y2="348.6211" />
      <ellipse cx="2228.5" cy="362.3652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="492" x="2237.5" y="366.1563">AsResponseMessage(result:object) : IQueryResponseMessage&lt;TResult&gt;</text>
      <ellipse cx="2228.5" cy="378.8535" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="691" x="2237.5" y="382.6445">AsNullableResponseMessage(declaredType:Type, result:object?) : IQueryResponseMessage&lt;TResult&gt;</text>
      <ellipse cx="2228.5" cy="395.3418" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="684" x="2237.5" y="399.1328">AsResponseMessage(declaredType:Type, exception:Exception) : IQueryResponseMessage&lt;TResult&gt;</text>
    </g>
    <!--MD5=[fadd0f832754c5c424dc290238afd56d]
class GenericMessage-->
    <g id="elem_GenericMessage">
      <rect codeLine="349" fill="#F1F1F1" height="89.5977" id="GenericMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="447" x="386.5" y="696.5" />
      <ellipse cx="550.25" cy="716.8105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M553.2231,722.4536 Q552.6421,722.7524 552.0029,722.9019 Q551.3638,723.0513 550.6582,723.0513 Q548.1514,723.0513 546.8315,721.3994 Q545.5117,719.7476 545.5117,716.6265 Q545.5117,713.4971 546.8315,711.8452 Q548.1514,710.1934 550.6582,710.1934 Q551.3638,710.1934 552.0112,710.3428 Q552.6587,710.4922 553.2231,710.791 L553.2231,713.5137 Q552.5923,712.9326 551.9988,712.6628 Q551.4053,712.3931 550.7744,712.3931 Q549.4297,712.3931 548.7449,713.4597 Q548.0601,714.5264 548.0601,716.6265 Q548.0601,718.7183 548.7449,719.7849 Q549.4297,720.8516 550.7744,720.8516 Q551.4053,720.8516 551.9988,720.5818 Q552.5923,720.312 553.2231,719.731 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="605.25" y="713.1016">«static»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="111" x="570.75" y="729.168">GenericMessage</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="387.5" x2="832.5" y1="737.1211" y2="737.1211" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="387.5" x2="832.5" y1="745.1211" y2="745.1211" />
      <ellipse cx="397.5" cy="758.8652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="331" x="406.5" y="762.6563">AsMessage(payload:object?) : IMessage&lt;object&gt;</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="421" x="406.5" y="779.1445">«internal» GetDeclaredPayloadType(payload:TPayload?) : Type</text>
    </g>
    <!--MD5=[cec2cf3362d71a24b7e7f82fb4c2218c]
class GenericQueryMessage`2-->
    <g id="elem_GenericQueryMessage`2">
      <rect codeLine="360" fill="#F1F1F1" height="179.9063" id="GenericQueryMessage`2" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="900" x="10657" y="651.5" />
      <ellipse cx="10955.25" cy="667.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M10958.2231,673.1431 Q10957.6421,673.4419 10957.0029,673.5913 Q10956.3638,673.7407 10955.6582,673.7407 Q10953.1514,673.7407 10951.8315,672.0889 Q10950.5117,670.437 10950.5117,667.3159 Q10950.5117,664.1865 10951.8315,662.5347 Q10953.1514,660.8828 10955.6582,660.8828 Q10956.3638,660.8828 10957.0112,661.0322 Q10957.6587,661.1816 10958.2231,661.4805 L10958.2231,664.2031 Q10957.5923,663.6221 10956.9988,663.3523 Q10956.4053,663.0825 10955.7744,663.0825 Q10954.4297,663.0825 10953.7449,664.1492 Q10953.0601,665.2158 10953.0601,667.3159 Q10953.0601,669.4077 10953.7449,670.4744 Q10954.4297,671.541 10955.7744,671.541 Q10956.4053,671.541 10956.9988,671.2712 Q10957.5923,671.0015 10958.2231,670.4204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="10975.75" y="672.791">GenericQueryMessage`2</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="123" x="11437" y="648.5" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="121" x="11438" y="661.1016">TPayload,TResponse</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="10658" x2="11556" y1="683.5" y2="683.5" />
      <ellipse cx="10668" cy="697.2441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213" x="10677" y="701.0352">«new» Payload : TPayload «get»</text>
      <ellipse cx="10668" cy="713.7324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="172" x="10677" y="717.5234">QueryName : string «get»</text>
      <ellipse cx="10668" cy="730.2207" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="351" x="10677" y="734.0117">ResponseType : IResponseType&lt;TResponse&gt; «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="10658" x2="11556" y1="740.9648" y2="740.9648" />
      <ellipse cx="10668" cy="754.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="590" x="10677" y="758.5">GenericQueryMessage(payload:TPayload, responseType:IResponseType&lt;TResponse&gt;)</text>
      <ellipse cx="10668" cy="771.1973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="720" x="10677" y="774.9883">GenericQueryMessage(payload:TPayload, queryName:string, responseType:IResponseType&lt;TResponse&gt;)</text>
      <ellipse cx="10668" cy="787.6855" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="811" x="10677" y="791.4766">GenericQueryMessage(message:IMessage&lt;TPayload&gt;, queryName:string, responseType:IResponseType&lt;TResponse&gt;)</text>
      <ellipse cx="10668" cy="804.1738" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="874" x="10677" y="807.9648">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericQueryMessage&lt;TPayload, TResponse&gt;</text>
      <ellipse cx="10668" cy="820.6621" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="872" x="10677" y="824.4531">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericQueryMessage&lt;TPayload, TResponse&gt;</text>
    </g>
    <!--MD5=[af640a793eb6e3d806fe8cbac36847d4]
class IResponseType`1-->
    <g id="elem_IResponseType`1">
      <rect codeLine="372" fill="#F1F1F1" height="113.9531" id="IResponseType`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="308" x="16074" y="48" />
      <ellipse cx="16118.25" cy="64" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M16114.1777,59.7651 L16114.1777,57.6069 L16121.5571,57.6069 L16121.5571,59.7651 L16119.0918,59.7651 L16119.0918,67.8418 L16121.5571,67.8418 L16121.5571,70 L16114.1777,70 L16114.1777,67.8418 L16116.6431,67.8418 L16116.6431,59.7651 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="121" x="16138.75" y="69.291">IResponseType`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="88" x="16297" y="45" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="86" x="16298" y="57.6016">out TResponse</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="16075" x2="16381" y1="80" y2="80" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="296" x="16080" y="97.5352">ResponseMessagePayloadType : Type «get»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="247" x="16080" y="114.0234">ExpectedResponseType : Type «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="16075" x2="16381" y1="120.9766" y2="120.9766" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="242" x="16094" y="138.5117">Matches(responseType:Type) : bool</text>
      <ellipse cx="16085" cy="151.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="272" x="16094" y="155">Convert(response:object?) : TResponse?</text>
    </g>
    <!--MD5=[5fdcae27469aa4ecc505b6850bc8416f]
class InstanceResponseType`1-->
    <g id="elem_InstanceResponseType`1">
      <rect codeLine="378" fill="#F1F1F1" height="113.9531" id="InstanceResponseType`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="322" x="16067" y="296" />
      <ellipse cx="16103.6" cy="312" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M16106.5731,317.6431 Q16105.9921,317.9419 16105.3529,318.0913 Q16104.7138,318.2407 16104.0082,318.2407 Q16101.5014,318.2407 16100.1815,316.5889 Q16098.8617,314.937 16098.8617,311.8159 Q16098.8617,308.6865 16100.1815,307.0347 Q16101.5014,305.3828 16104.0082,305.3828 Q16104.7138,305.3828 16105.3612,305.5322 Q16106.0087,305.6816 16106.5731,305.9805 L16106.5731,308.7031 Q16105.9423,308.1221 16105.3488,307.8523 Q16104.7553,307.5825 16104.1244,307.5825 Q16102.7797,307.5825 16102.0949,308.6492 Q16101.4101,309.7158 16101.4101,311.8159 Q16101.4101,313.9077 16102.0949,314.9744 Q16102.7797,316.041 16104.1244,316.041 Q16104.7553,316.041 16105.3488,315.7712 Q16105.9423,315.5015 16106.5731,314.9204 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="16122.4" y="317.291">InstanceResponseType`1</text>
      <rect fill="#FFFFFF" height="16.1328" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="66" x="16326" y="293" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="64" x="16327" y="305.6016">TResponse</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="16068" x2="16388" y1="328" y2="328" />
      <ellipse cx="16078" cy="341.7441" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="296" x="16087" y="345.5352">ResponseMessagePayloadType : Type «get»</text>
      <ellipse cx="16078" cy="358.2324" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="247" x="16087" y="362.0234">ExpectedResponseType : Type «get»</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="16068" x2="16388" y1="368.9766" y2="368.9766" />
      <ellipse cx="16078" cy="382.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="242" x="16087" y="386.5117">Matches(responseType:Type) : bool</text>
      <ellipse cx="16078" cy="399.209" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="196" x="16087" y="403">«override» ToString() : string</text>
    </g>
    <!--MD5=[a1239b422a1973b9c5c5c19aa52c0b79]
class ResponseTypes-->
    <g id="elem_ResponseTypes">
      <rect codeLine="385" fill="#F1F1F1" height="73.1094" id="ResponseTypes" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="321" x="868.5" y="705" />
      <ellipse cx="971.75" cy="725.3105" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;" />
      <path d="M974.7231,730.9536 Q974.1421,731.2524 973.5029,731.4019 Q972.8638,731.5513 972.1582,731.5513 Q969.6514,731.5513 968.3315,729.8994 Q967.0117,728.2476 967.0117,725.1265 Q967.0117,721.9971 968.3315,720.3452 Q969.6514,718.6934 972.1582,718.6934 Q972.8638,718.6934 973.5112,718.8428 Q974.1587,718.9922 974.7231,719.291 L974.7231,722.0137 Q974.0923,721.4326 973.4988,721.1628 Q972.9053,720.8931 972.2744,720.8931 Q970.9297,720.8931 970.2449,721.9597 Q969.5601,723.0264 969.5601,725.1265 Q969.5601,727.2183 970.2449,728.2849 Q970.9297,729.3516 972.2744,729.3516 Q972.9053,729.3516 973.4988,729.0818 Q974.0923,728.812 974.7231,728.231 Z " fill="#000000" />
      <text fill="#383838" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="42" x="1024.25" y="721.6016">«static»</text>
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="106" x="992.25" y="737.668">ResponseTypes</text>
      <line style="stroke:#181818;stroke-width:0.5;" x1="869.5" x2="1188.5" y1="745.6211" y2="745.6211" />
      <line style="stroke:#181818;stroke-width:0.5;" x1="869.5" x2="1188.5" y1="753.6211" y2="753.6211" />
      <ellipse cx="879.5" cy="767.3652" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="295" x="888.5" y="771.1563">InstanceOf() : IResponseType&lt;TResponse&gt;</text>
    </g>
    <!--MD5=[acda43728314d8d603e0ae7c199013e3]
reverse link IDuplicateCommandHandlerResolver to WrappedDuplicateCommandHandlerCallbackResolver-->
    <g id="link_IDuplicateCommandHandlerResolver_WrappedDuplicateCommandHandlerCallbackResolver">
      <path codeLine="10" d="M4060,157.35 C4060,200.6 4060,262.01 4060,304.23 " fill="none" id="IDuplicateCommandHandlerResolver-backto-WrappedDuplicateCommandHandlerCallbackResolver" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="4053,157.16,4060,137.16,4067,157.16,4053,157.16" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[9f7e76781f95d1f3e4e76e4712fd22b8]
reverse link Exception to NoHandlerForQueryException-->
    <g id="link_Exception_NoHandlerForQueryException">
      <path codeLine="14" d="M5208.35,144.51 C5165.87,193.11 5093.61,275.78 5054.36,320.7 " fill="none" id="Exception-backto-NoHandlerForQueryException" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="5203.34,139.6,5221.77,129.14,5213.88,148.81,5203.34,139.6" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[0e964ae8e1fcea6eaa7e12828e8dc0cb]
reverse link IQueryBus to SimpleQueryBus-->
    <g id="link_IQueryBus_SimpleQueryBus">
      <path codeLine="37" d="M6811,397.13 C6811,456.24 6811,564.1 6811,643.21 " fill="none" id="IQueryBus-backto-SimpleQueryBus" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="6804,397.02,6811,377.02,6818,397.02,6804,397.02" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[2b047d382790532ca1d39f5b9ea2e3ce]
reverse link SimpleQueryBus to Registration-->
    <g id="link_SimpleQueryBus_Registration">
      <path codeLine="38" d="M6958.4,848.38 C7051.04,914.93 7169.66,1000.13 7259.87,1064.93 " fill="none" id="SimpleQueryBus-backto-Registration" style="stroke:#181818;stroke-width:1.0;" />
      <ellipse cx="6952.5765" cy="844.1986" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;" />
      <line style="stroke:#181818;stroke-width:1.0;" x1="6959.0729" x2="6946.08" y1="848.8672" y2="839.53" />
      <line style="stroke:#181818;stroke-width:1.0;" x1="6947.9078" x2="6957.2451" y1="850.6951" y2="837.7022" />
    </g>
    <!--MD5=[eb1710ef9d5fb38c6e7640ce67efcbb7]
reverse link IAsyncDisposable to Registration-->
    <g id="link_IAsyncDisposable_Registration">
      <path codeLine="39" d="M7378.33,785.3 C7367.98,850.53 7366.01,976.55 7372.45,1064.8 " fill="none" id="IAsyncDisposable-backto-Registration" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="7371.46,783.94,7382.16,765.65,7385.2,786.62,7371.46,783.94" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[eb1710ef9d5fb38c6e7640ce67efcbb7]
reverse link IAsyncDisposable to Registration-->
    <g id="link_IAsyncDisposable_Registration">
      <path codeLine="54" d="M7395,785.73 C7395,851.08 7395,976.74 7395,1064.8 " fill="none" id="IAsyncDisposable-backto-Registration-1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="7388,785.65,7395,765.65,7402,785.65,7388,785.65" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[eb1710ef9d5fb38c6e7640ce67efcbb7]
reverse link IAsyncDisposable to Registration-->
    <g id="link_IAsyncDisposable_Registration">
      <path codeLine="120" d="M7411.67,785.3 C7422.02,850.53 7423.99,976.55 7417.55,1064.8 " fill="none" id="IAsyncDisposable-backto-Registration-2" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="7404.8,786.62,7407.84,765.65,7418.54,783.94,7404.8,786.62" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[58fafe0bc19b52fff1985bc8a4e23f66]
reverse link IEventBus to SimpleEventBus-->
    <g id="link_IEventBus_SimpleEventBus">
      <path codeLine="52" d="M5921,413.58 C5921,484.74 5921,603.33 5921,676.43 " fill="none" id="IEventBus-backto-SimpleEventBus" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="5914,413.55,5921,393.55,5928,413.55,5914,413.55" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[cfaa955bb633e350bb9ef3d1b7e69f73]
reverse link SimpleEventBus to Registration-->
    <g id="link_SimpleEventBus_Registration">
      <path codeLine="53" d="M6019.6,815.32 C6097.33,869.13 6210.52,939.75 6320,980 C6637.57,1096.75 7035.77,1139.2 7247.17,1154.18 " fill="none" id="SimpleEventBus-backto-Registration" style="stroke:#181818;stroke-width:1.0;" />
      <ellipse cx="6013.5235" cy="811.0739" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;" />
      <line style="stroke:#181818;stroke-width:1.0;" x1="6020.087" x2="6006.96" y1="815.6477" y2="806.5" />
      <line style="stroke:#181818;stroke-width:1.0;" x1="6008.9496" x2="6018.0974" y1="817.6374" y2="804.5104" />
    </g>
    <!--MD5=[097ce1c23bb480a10e5a0870bdbe5227]
reverse link IMessageHandler to MessageHandler`1-->
    <g id="link_IMessageHandler_MessageHandler`1">
      <path codeLine="60" d="M9059,165.73 C9059,208.23 9059,264.59 9059,304.14 " fill="none" id="IMessageHandler-backto-MessageHandler`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="9052,165.52,9059,145.52,9066,165.52,9052,165.52" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[5cb2c240d6fceb90cfe4a85588a3b5c2]
reverse link MessageHandler`1 to WrappedCommandHandlerCallback-->
    <g id="link_MessageHandler`1_WrappedCommandHandlerCallback">
      <path codeLine="76" d="M9059,422.04 C9059,488.43 9059,589.46 9059,659.86 " fill="none" id="MessageHandler`1-backto-WrappedCommandHandlerCallback" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="9052,421.78,9059,401.78,9066,421.78,9052,421.78" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="8843.2391" y="422.6032">&lt;ICommandMessage&lt;object&gt;&gt;</text>
    </g>
    <!--MD5=[30304b27cf70d84b4ad8f70d37936581]
reverse link IEquatable`1 to WrappedCommandHandlerCallback-->
    <g id="link_IEquatable`1_WrappedCommandHandlerCallback">
      <path codeLine="77" d="M9654.88,386.51 C9598.33,415.98 9513.39,461.08 9441,503 C9354.16,553.29 9258.25,612.93 9184.26,659.87 " fill="none" id="IEquatable`1-backto-WrappedCommandHandlerCallback" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="9651.93,380.15,9672.91,377.15,9658.39,392.58,9651.93,380.15" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="9407.589" y="394.3898">&lt;WrappedCommandHandlerCallback&gt;</text>
    </g>
    <!--MD5=[628253c5fb671e4d76f1056a2c0ed747]
reverse link ISubscribableMessageSource`1 to IEventBus-->
    <g id="link_ISubscribableMessageSource`1_IEventBus">
      <path codeLine="85" d="M5921,157.31 C5921,203.36 5921,270 5921,312.15 " fill="none" id="ISubscribableMessageSource`1-backto-IEventBus" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="5914,157.16,5921,137.16,5928,157.16,5914,157.16" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="5732.3656" y="157.8899">&lt;IEventMessage&lt;object&gt;&gt;</text>
    </g>
    <!--MD5=[0abdd7170f85029f8d9eeb64bd60517c]
reverse link Exception to NoHandlerForCommandException-->
    <g id="link_Exception_NoHandlerForCommandException">
      <path codeLine="101" d="M5275.49,144.31 C5314.12,188.52 5377.54,261.08 5418.26,307.68 " fill="none" id="Exception-backto-NoHandlerForCommandException" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="5270.12,148.81,5262.23,129.14,5280.66,139.6,5270.12,148.81" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[8a0782b76732ccef872ed56270eea76c]
reverse link ICommandBus to SimpleCommandBus-->
    <g id="link_ICommandBus_SimpleCommandBus">
      <path codeLine="118" d="M8082,430.29 C8082,491.38 8082,577.45 8082,643.44 " fill="none" id="ICommandBus-backto-SimpleCommandBus" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="8075,430.2,8082,410.2,8089,430.2,8075,430.2" style="stroke:#181818;stroke-width:1.0;" />
    </g>
    <!--MD5=[0c319ea5b4cd397c3f64742f6fd30c9c]
reverse link SimpleCommandBus to Registration-->
    <g id="link_SimpleCommandBus_Registration">
      <path codeLine="119" d="M7910.16,847.43 C7797,916.53 7650.38,1006.06 7542.51,1071.93 " fill="none" id="SimpleCommandBus-backto-Registration" style="stroke:#181818;stroke-width:1.0;" />
      <ellipse cx="7916.2619" cy="843.6985" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;" />
      <line style="stroke:#181818;stroke-width:1.0;" x1="7909.4337" x2="7923.09" y1="847.867" y2="839.53" />
      <line style="stroke:#181818;stroke-width:1.0;" x1="7912.0933" x2="7920.4304" y1="836.8704" y2="850.5267" />
    </g>
    <!--MD5=[98bdde7b155364e48a78992c42f695c7]
reverse link IEquatable`1 to QuerySubscription-->
    <g id="link_IEquatable`1_QuerySubscription">
      <path codeLine="130" d="M9718,397.32 C9718,460.71 9718,579.88 9718,659.73 " fill="none" id="IEquatable`1-backto-QuerySubscription" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="9711,397.02,9718,377.02,9725,397.02,9711,397.02" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="9735.425" y="397.7051">&lt;QuerySubscription&gt;</text>
    </g>
    <!--MD5=[7af42aaadd1c8000bfad2bd8b50465b5]
reverse link GenericResultMessage`1 to GenericQueryResponseMessage`1-->
    <g id="link_GenericResultMessage`1_GenericQueryResponseMessage`1">
      <path codeLine="157" d="M13936.88,874.7 C14005.24,913.78 14083.32,953.21 14159,980 C14270.22,1019.37 14532.18,1065.02 14765.72,1100.75 " fill="none" id="GenericResultMessage`1-backto-GenericQueryResponseMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="13933.07,880.58,13919.26,864.51,13940.07,868.46,13933.07,880.58" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="13861.6298" y="885.0451">&lt;TResult&gt;</text>
    </g>
    <!--MD5=[6ecb4da2c1666917bc5554345e2b7794]
reverse link IQueryResponseMessage`1 to GenericQueryResponseMessage`1-->
    <g id="link_IQueryResponseMessage`1_GenericQueryResponseMessage`1">
      <path codeLine="158" d="M15355.66,817.28 C15328.13,879.04 15288.51,967.93 15256.39,1039.98 " fill="none" id="IQueryResponseMessage`1-backto-GenericQueryResponseMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="15349.44,814.06,15363.97,798.64,15362.22,819.76,15349.44,814.06" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="15289.8367" y="819.1081">&lt;TResult&gt;</text>
    </g>
    <!--MD5=[2a1a89835666d37697951e82c1304a18]
reverse link IMessage`1 to IQueryMessage`2-->
    <g id="link_IMessage`1_IQueryMessage`2">
      <path codeLine="170" d="M12752.23,128.79 C12452.67,152.08 12005.16,194.66 11620,263 C11562.92,273.13 11501.43,287.3 11445.89,301.37 " fill="none" id="IMessage`1-backto-IQueryMessage`2" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="12751.71,121.81,12772.19,127.25,12752.79,135.77,12751.71,121.81" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="12688.922" y="125.1218">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[02acfcd468399521069088b55defbf51]
reverse link IMessage`1 to IEventMessage`1-->
    <g id="link_IMessage`1_IEventMessage`1">
      <path codeLine="186" d="M12752.68,179.58 C12634.07,205.57 12500.07,235.25 12378,263 C12365.81,265.77 12353.4,268.61 12340.87,271.48 " fill="none" id="IMessage`1-backto-IEventMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="12751.31,172.71,12772.34,175.27,12754.3,186.39,12751.31,172.71" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="12687.9573" y="174.314">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[cf49c620f4c85258cc868b1729002655]
reverse link MessageDecorator`1 to GenericCommandMessage`1-->
    <g id="link_MessageDecorator`1_GenericCommandMessage`1">
      <path codeLine="198" d="M12761.66,461.94 C12782.57,518.85 12808.01,588.11 12828.3,643.32 " fill="none" id="MessageDecorator`1-backto-GenericCommandMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="12755.08,464.34,12754.76,443.16,12768.22,459.52,12755.08,464.34" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="12678.3424" y="463.5267">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[5f8403d93fc1bbfffdeaac2e570e19ab]
reverse link ICommandMessage`1 to GenericCommandMessage`1-->
    <g id="link_ICommandMessage`1_GenericCommandMessage`1">
      <path codeLine="199" d="M13320.48,445.46 C13228.26,505.07 13108.05,582.76 13014.15,643.46 " fill="none" id="ICommandMessage`1-backto-GenericCommandMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="13316.77,439.53,13337.37,434.55,13324.37,451.29,13316.77,439.53" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="13245.8693" y="455.6008">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[2ad63bcfa9fb1e18d050a733a19d343e]
reverse link IMessage`1 to IResultMessage`1-->
    <g id="link_IMessage`1_IResultMessage`1">
      <path codeLine="208" d="M13431.55,169.81 C13619.27,205.09 13852.37,248.9 14042.95,284.71 " fill="none" id="IMessage`1-backto-IResultMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="13430.16,176.67,13411.8,166.1,13432.75,162.91,13430.16,176.67" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="13418.9764" y="164.761">&lt;TResult&gt;</text>
    </g>
    <!--MD5=[379a86d93dcd566b8a05e9d7b4ca9c54]
reverse link IMessage`1 to MessageDecorator`1-->
    <g id="link_IMessage`1_MessageDecorator`1">
      <path codeLine="219" d="M12965.66,190 C12930.3,213.51 12891.75,239.14 12855.96,262.93 " fill="none" id="IMessage`1-backto-MessageDecorator`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="12962.21,183.89,12982.74,178.64,12969.96,195.55,12962.21,183.89" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="12892.7043" y="198.9602">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[1d2320290fb42bdb550f54393fdc59a3]
reverse link MessageDecorator`1 to GenericEventMessage`1-->
    <g id="link_MessageDecorator`1_GenericEventMessage`1">
      <path codeLine="232" d="M12521.57,452.21 C12488.5,468.89 12454.69,486.24 12423,503 C12343.66,544.96 12257.05,593.05 12182.9,634.94 " fill="none" id="MessageDecorator`1-backto-GenericEventMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="12518.83,445.75,12539.85,443.02,12525.12,458.26,12518.83,445.75" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="12446.3068" y="463.3756">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[0658a4e749a53a0ded9a7e09e773e45c]
reverse link IEventMessage`1 to GenericEventMessage`1-->
    <g id="link_IEventMessage`1_GenericEventMessage`1">
      <path codeLine="233" d="M11999,454.67 C11999,510.01 11999,578.6 11999,634.72 " fill="none" id="IEventMessage`1-backto-GenericEventMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="11992,454.55,11999,434.55,12006,454.55,11992,454.55" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="11919.3781" y="455.6008">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[8c66a367dfb04ffc399b50c3f7ed6671]
reverse link IReadOnlyDictionary`2 to MetaData-->
    <g id="link_IReadOnlyDictionary`2_MetaData">
      <path codeLine="262" d="M10232.46,396.57 C10239.2,423.98 10248.55,462.04 10258.6,502.89 " fill="none" id="IReadOnlyDictionary`2-backto-MetaData" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="10225.63,398.11,10227.66,377.02,10239.23,394.77,10225.63,398.11" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="10116.2979" y="397.7051">&lt;string,object&gt;</text>
    </g>
    <!--MD5=[4396242259946d6da6d9564350c21c21]
reverse link ICollection`1 to MetaData-->
    <g id="link_ICollection`1_MetaData">
      <path codeLine="263" d="M10402.43,396.57 C10395.62,423.98 10386.17,462.04 10376.02,502.89 " fill="none" id="ICollection`1-backto-MetaData" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="10395.67,394.74,10407.28,377.02,10409.25,398.12,10395.67,394.74" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="10431.8236" y="397.7051">&lt;KeyValuePair&lt;string, object&gt;&gt;</text>
    </g>
    <!--MD5=[5c897d90922e42357f8f87d52c48cb77]
reverse link IEquatable`1 to MetaData-->
    <g id="link_IEquatable`1_MetaData">
      <path codeLine="264" d="M9783.71,386.21 C9840.56,414.85 9924.36,458.9 9994,503 C10000.03,506.82 10006.09,510.71 10012.18,514.66 " fill="none" id="IEquatable`1-backto-MetaData" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="9780.28,392.32,9765.52,377.12,9786.54,379.8,9780.28,392.32" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="9786.6316" y="376.5232">&lt;ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;&gt;</text>
    </g>
    <!--MD5=[831c30cddf9db48f8b2e3af1fe5f229b]
reverse link GenericResultMessage`1 to GenericCommandResultMessage`1-->
    <g id="link_GenericResultMessage`1_GenericCommandResultMessage`1">
      <path codeLine="277" d="M13794.7,883.15 C13819.92,939.72 13848.5,1003.84 13871.89,1056.32 " fill="none" id="GenericResultMessage`1-backto-GenericCommandResultMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="13788.21,885.8,13786.47,864.68,13801,880.1,13788.21,885.8" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="13720.6823" y="884.8163">&lt;TResult&gt;</text>
    </g>
    <!--MD5=[396b03936ca6c6ecc90f85665c5ede61]
reverse link ICommandResultMessage`1 to GenericCommandResultMessage`1-->
    <g id="link_ICommandResultMessage`1_GenericCommandResultMessage`1">
      <path codeLine="278" d="M14465.87,809.6 C14362.69,876.09 14203.1,978.93 14082.9,1056.38 " fill="none" id="ICommandResultMessage`1-backto-GenericCommandResultMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="14462.28,803.59,14482.88,798.64,14469.86,815.36,14462.28,803.59" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="14401.1794" y="819.1081">&lt;TResult&gt;</text>
    </g>
    <!--MD5=[3e0f879c65fca4d54489f017bba5b401]
reverse link IResultMessage`1 to IQueryResponseMessage`1-->
    <g id="link_IResultMessage`1_IQueryResponseMessage`1">
      <path codeLine="285" d="M14767.76,431.86 C14839.64,451.67 14913.6,475.35 14981,503 C15100.81,552.15 15228.14,631.1 15308.08,684.34 " fill="none" id="IResultMessage`1-backto-IQueryResponseMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="14765.52,438.51,14748.05,426.51,14769.18,425,14765.52,438.51" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="14711.9151" y="447.0715">&lt;TResult&gt;</text>
    </g>
    <!--MD5=[fa7e9158c432cc86aff35475d5abdb16]
reverse link MessageDecorator`1 to GenericResultMessage`1-->
    <g id="link_MessageDecorator`1_GenericResultMessage`1">
      <path codeLine="308" d="M13068.25,443.44 C13175.73,469.39 13208.73,464.91 13305,503 C13384.07,534.29 13466.7,577.49 13537.97,618.48 " fill="none" id="MessageDecorator`1-backto-GenericResultMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="13066.54,450.23,13048.82,438.62,13069.92,436.64,13066.54,450.23" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="13046.4615" y="455.6064">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[e1b7f53e6b30bd2f3488b29ac74b9856]
reverse link IResultMessage`1 to GenericResultMessage`1-->
    <g id="link_IResultMessage`1_GenericResultMessage`1">
      <path codeLine="309" d="M14257.83,436.71 C14166.27,489.61 14045.9,559.15 13943.43,618.35 " fill="none" id="IResultMessage`1-backto-GenericResultMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="14254.35,430.64,14275.17,426.7,14261.35,442.76,14254.35,430.64" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="14183.555" y="447.0259">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[adf7a0fb3ee9116d683949250d62a650]
reverse link AbstractMessage`1 to GenericMessage`1-->
    <g id="link_AbstractMessage`1_GenericMessage`1">
      <path codeLine="322" d="M15856.47,454.25 C15940.32,509.74 16044.48,578.67 16129.56,634.98 " fill="none" id="AbstractMessage`1-backto-GenericMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="15852.53,460.03,15839.71,443.16,15860.26,448.36,15852.53,460.03" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="15771.4166" y="463.5267">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[b7166c80f1e6ec6d0cc6cc00a0ef1693]
reverse link IMessage`1 to AbstractMessage`1-->
    <g id="link_IMessage`1_AbstractMessage`1">
      <path codeLine="338" d="M13431.81,137.42 C13771.95,168.94 14310.25,218.98 14776,263 C14976.02,281.9 15200.23,303.38 15378.27,320.49 " fill="none" id="IMessage`1-backto-AbstractMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="13430.99,144.38,13411.72,135.56,13432.28,130.44,13430.99,144.38" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="13418.9862" y="133.6006">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[a4b1cb3db4a0e2854641b7da5f54a76c]
reverse link IMessage`1 to ICommandMessage`1-->
    <g id="link_IMessage`1_ICommandMessage`1">
      <path codeLine="348" d="M13217.98,189.76 C13257.63,216.12 13301.32,245.17 13340.64,271.31 " fill="none" id="IMessage`1-backto-ICommandMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="13214.04,195.55,13201.26,178.64,13221.79,183.89,13214.04,195.55" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="13132.052" y="198.9602">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[5306deda53cddf0a7a8eebdea8aabaa3]
reverse link IResultMessage`1 to ICommandResultMessage`1-->
    <g id="link_IResultMessage`1_ICommandResultMessage`1">
      <path codeLine="359" d="M14440.96,445.39 C14473.4,519.58 14518.11,621.82 14545.48,684.42 " fill="none" id="IResultMessage`1-backto-ICommandResultMessage`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="14434.39,447.83,14432.79,426.7,14447.21,442.22,14434.39,447.83" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="14365.627" y="447.0259">&lt;TResult&gt;</text>
    </g>
    <!--MD5=[07dbab33322c257dad34916424508017]
reverse link MessageDecorator`1 to GenericQueryMessage`2-->
    <g id="link_MessageDecorator`1_GenericQueryMessage`2">
      <path codeLine="370" d="M12375.59,442.99 C12020.46,497.86 11913.07,408.66 11575,503 C11458.17,535.6 11336.29,598.52 11246.21,651.41 " fill="none" id="MessageDecorator`1-backto-GenericQueryMessage`2" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="12374.59,436.06,12395.45,439.81,12376.8,449.88,12374.59,436.06" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="12311.9185" y="460.8089">&lt;TPayload&gt;</text>
    </g>
    <!--MD5=[3476445fe9bb7c10a69e2bf1ae935669]
reverse link IQueryMessage`2 to GenericQueryMessage`2-->
    <g id="link_IQueryMessage`2_GenericQueryMessage`2">
      <path codeLine="371" d="M11233.54,428.99 C11207.7,492.59 11170.59,583.95 11143.24,651.29 " fill="none" id="IQueryMessage`2-backto-GenericQueryMessage`2" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="11227.16,426.1,11241.17,410.2,11240.13,431.36,11227.16,426.1" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="11081.3688" y="430.6755">&lt;TPayload,TResponse&gt;</text>
    </g>
    <!--MD5=[cee486cdb3d02fbed2d2e1d336d8f7fa]
reverse link IResponseType`1 to InstanceResponseType`1-->
    <g id="link_IResponseType`1_InstanceResponseType`1">
      <path codeLine="384" d="M16228,182.27 C16228,218.92 16228,262.07 16228,295.69 " fill="none" id="IResponseType`1-backto-InstanceResponseType`1" style="stroke:#181818;stroke-width:1.0;" />
      <polygon fill="none" points="16221,182.13,16228,162.13,16235,182.13,16221,182.13" style="stroke:#181818;stroke-width:1.0;" />
      <text fill="#383838" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="16134.6375" y="182.5969">&lt;TResponse&gt;</text>
    </g>
    <!--MD5=[61d32474c9bc79c2770d718f9fe0f022]
@startuml
class QueryBusExtensions <<static>> {
    + {static} SubscribeAsync(queryBus:IQueryBus, queryName:string, responseType:Type, handler:MessageHandler<IQueryMessage<TPayload, TResponse>>) : Task<IAsyncDisposable>
    + {static} SubscribeAsync(queryBus:IQueryBus, queryName:string, handler:MessageHandler<IQueryMessage<TPayload, TResponse>>) : Task<IAsyncDisposable>
}
class WrappedDuplicateCommandHandlerCallbackResolver {
    - <<readonly>> duplicateCallbackResolver : DuplicateCommandHandlerCallbackResolver
    + WrappedDuplicateCommandHandlerCallbackResolver(duplicateCallbackResolver:DuplicateCommandHandlerCallbackResolver)
    + Resolve(commandName:string, registeredHandler:MessageHandler<ICommandMessage<object>>, candidateHandler:MessageHandler<ICommandMessage<object>>) : MessageHandler<ICommandMessage<object>>
}
IDuplicateCommandHandlerResolver <|- - WrappedDuplicateCommandHandlerCallbackResolver
class NoHandlerForQueryException {
    + NoHandlerForQueryException(message:string)
}
Exception <|- - NoHandlerForQueryException
interface "ISubscribableMessageSource`1"<TMessage> {
    SubscribeAsync(messageProcessor:Func<List<TMessage>, Task>) : Task<IAsyncDisposable>
}
class CollectionExtensions <<static>> {
    + {static} IsEmpty(items:ICollection<T>) : bool
}
class SimpleQueryBus {
    - <<readonly>> subscriptions : ConcurrentDictionary<string, ConcurrentDictionary<int, QuerySubscription>>
    + Subscriptions : ImmutableDictionary<string, ImmutableList<QuerySubscription>> <<get>>
    + SubscribeAsync(queryName:string, responseType:Type, handler:MessageHandler<TMessage>) : Task<IAsyncDisposable>
    + <<async>> QueryAsync(query:IQueryMessage<object, TResponse>) : Task<IQueryResponseMessage<TResponse>>
    + <<async>> ScatterGatherAsync(query:IQueryMessage<object, TResponse>) : IAsyncEnumerable<IQueryResponseMessage<TResponse>>
    - {static} ConvertResponse(response:object?, responseType:IResponseType<TResponse>) : TResponse?
    - Unsubscribe(queryName:string, querySubscription:QuerySubscription) : void
    - GetHandlersForMessage(queryMessage:IQueryMessage<object, TResponse>) : ImmutableList<IMessageHandler>
    - GetSubscriptions() : ImmutableDictionary<string, ImmutableList<QuerySubscription>>
}
class Registration {
    - <<readonly>> unsubscribeAction : Action
    + Registration(unsubscribeAction:Action)
    + DisposeAsync() : ValueTask
}
IQueryBus <|- - SimpleQueryBus
SimpleQueryBus +- - Registration
IAsyncDisposable <|- - Registration
class SimpleEventBus {
    - <<readonly>> eventProcessors : ConcurrentDictionary<int, Func<List<IEventMessage<object>>, Task>>
    + SubscribeAsync(messageProcessor:Func<List<IEventMessage<object>>, Task>) : Task<IAsyncDisposable>
    + PublishAsync(events:IEventMessage<object>[]) : Task
    + PublishAsync(events:List<IEventMessage<object>>) : Task
    # <<virtual>> <<async>> ProcessEventsAsync(events:List<IEventMessage<object>>) : Task
}
class Registration {
    - <<readonly>> unsubscribeAction : Action
    + Registration(unsubscribeAction:Action)
    + DisposeAsync() : ValueTask
}
IEventBus <|- - SimpleEventBus
SimpleEventBus +- - Registration
IAsyncDisposable <|- - Registration
abstract class "MessageHandler`1"<TMessage> {
    + {abstract} HandleAsync(message:TMessage) : Task<object?>
    + HandleAsync(message:IMessage<object>) : Task<object?>
    + <<virtual>> CanHandle(message:object) : bool
}
IMessageHandler <|- - "MessageHandler`1"
interface ICommandBus {
    DispatchAsync(command:ICommandMessage<object>) : Task<ICommandResultMessage<TResult>>
    DispatchAsync(command:ICommandMessage<object>) : Task
    SubscribeAsync(commandName:string, handler:MessageHandler<ICommandMessage<object>>) : Task<IAsyncDisposable>
    + SubscribeAsync(commandName:string, handler:MessageHandlerCallback<ICommandMessage<object>>) : Task<IAsyncDisposable>
}
class WrappedCommandHandlerCallback {
    - <<readonly>> callback : MessageHandlerCallback<ICommandMessage<object>>
    + WrappedCommandHandlerCallback(callback:MessageHandlerCallback<ICommandMessage<object>>)
    + <<override>> HandleAsync(message:ICommandMessage<object>) : Task<object?>
    + Unwrap() : MessageHandlerCallback<ICommandMessage<object>>
    + Equals(other:WrappedCommandHandlerCallback?) : bool
    + <<override>> Equals(obj:object?) : bool
    + <<override>> GetHashCode() : int
}
"MessageHandler`1" "<ICommandMessage<object>>" <|- - WrappedCommandHandlerCallback
"IEquatable`1" "<WrappedCommandHandlerCallback>" <|- - WrappedCommandHandlerCallback
interface IDuplicateCommandHandlerResolver {
    Resolve(commandName:string, registeredHandler:MessageHandler<ICommandMessage<object>>, candidateHandler:MessageHandler<ICommandMessage<object>>) : MessageHandler<ICommandMessage<object>>
}
interface IEventBus {
    PublishAsync(events:IEventMessage<object>[]) : Task
    PublishAsync(events:List<IEventMessage<object>>) : Task
}
"ISubscribableMessageSource`1" "<IEventMessage<object>>" <|- - IEventBus
class Unit {
- {static} <<readonly>> Instance : Unit
+ {static} Value : ref readonly Unit <<get>>
+ <<virtual>> Equals(other:Unit?) : bool
+ <<override>> GetHashCode() : int
+ <<override>> ToString() : string
interface IQueryBus {
    SubscribeAsync(queryName:string, responseType:Type, handler:MessageHandler<TMessage>) : Task<IAsyncDisposable>
    QueryAsync(query:IQueryMessage<object, TResponse>) : Task<IQueryResponseMessage<TResponse>>
    ScatterGatherAsync(query:IQueryMessage<object, TResponse>) : IAsyncEnumerable<IQueryResponseMessage<TResponse>>
}
class NoHandlerForCommandException <<sealed>> {
    + NoHandlerForCommandException(message:string)
    + NoHandlerForCommandException(commandMessage:object)
}
Exception <|- - NoHandlerForCommandException
class SimpleCommandBus {
    - <<readonly>> subscriptions : ConcurrentDictionary<string, MessageHandler<ICommandMessage<object>>>
    - <<readonly>> duplicateCommandHandlerResolver : IDuplicateCommandHandlerResolver
    + SimpleCommandBus(duplicateCommandHandlerResolver:IDuplicateCommandHandlerResolver)
    + SimpleCommandBus(duplicateCommandHandlerResolver:DuplicateCommandHandlerCallbackResolver)
    + <<async>> DispatchAsync(command:ICommandMessage<object>) : Task<ICommandResultMessage<TResult>>
    + DispatchAsync(command:ICommandMessage<object>) : Task
    + SubscribeAsync(commandName:string, handler:MessageHandler<ICommandMessage<object>>) : Task<IAsyncDisposable>
    # <<virtual>> <<async>> HandleAsync(command:ICommandMessage<object>, handler:MessageHandler<ICommandMessage<object>>) : Task<IResultMessage<TResult>>
    - FindCommandHandlerFor(commandName:string) : IMessageHandler?
}
class Registration {
    - <<readonly>> unsubscribeAction : Action
    + Registration(unsubscribeAction:Action)
    + DisposeAsync() : ValueTask
}
ICommandBus <|- - SimpleCommandBus
SimpleCommandBus +- - Registration
IAsyncDisposable <|- - Registration
class QuerySubscription {
    + QuerySubscription(responseType:Type, queryHandler:IMessageHandler)
    + ResponseType : Type <<get>>
    + QueryHandler : IMessageHandler <<get>>
    + CanHandle(queryResponseType:IResponseType<object>) : bool
    + <<override>> GetHashCode() : int
    + <<override>> Equals(obj:object?) : bool
    + Equals(other:QuerySubscription?) : bool
}
"IEquatable`1" "<QuerySubscription>" <|- - QuerySubscription
interface IMessageHandler {
    HandleAsync(message:IMessage<object>) : Task<object?>
    CanHandle(message:object) : bool
}
interface "IMessage`1"<out TPayload> {
    Identifier : string <<get>>
    MetaData : MetaData <<get>>
    Payload : TPayload? <<get>>
    PayloadType : Type <<get>>
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
}
class "GenericQueryResponseMessage`1"<TResult> {
    + GenericQueryResponseMessage()
    + GenericQueryResponseMessage(result:TResult)
    + GenericQueryResponseMessage(declaredResultType:Type, result:TResult?)
    + GenericQueryResponseMessage(declaredResultType:Type, exception:Exception)
    + GenericQueryResponseMessage(result:TResult, metaData:MetaData)
    + GenericQueryResponseMessage(declaredResultType:Type, result:TResult?, metaData:MetaData)
    + GenericQueryResponseMessage(declaredResultType:Type, exception:Exception, metaData:MetaData)
    + GenericQueryResponseMessage(message:IMessage<TResult>)
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IQueryResponseMessage<TResult>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IQueryResponseMessage<TResult>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericQueryResponseMessage<TResult>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericQueryResponseMessage<TResult>
}
"GenericResultMessage`1" "<TResult>" <|- - "GenericQueryResponseMessage`1"
"IQueryResponseMessage`1" "<TResult>" <|- - "GenericQueryResponseMessage`1"
class GenericEventMessage <<static>> {
    + {static} <<readonly>> SystemTimestampSupplier : Func<DateTime>
    + {static} AsEventMessage(eventMessage:TMessage, timestampSupplier:Func<DateTime>?) : IEventMessage<TMessage>
    + {static} AsEventMessage(eventMessage:object, timestampSupplier:Func<DateTime>?) : IEventMessage<TMessage>
}
interface "IQueryMessage`2"<out TPayload,out TResponse> {
    Payload : TPayload <<get>>
    <<new>> Payload : TPayload <<get>>
    QueryName : string <<get>>
    ResponseType : IResponseType<TResponse> <<get>>
}
"IMessage`1" "<TPayload>" <|- - "IQueryMessage`2"
class GenericResultMessage {
    + {static} AsResultMessage(result:TPayload?) : IResultMessage<TPayload>
    + {static} AsResultMessage(result:object?) : IResultMessage<TPayload>
    + {static} AsErrorResultMessage(exception:Exception) : IResultMessage<TPayload>
    <<internal>> {static} FindResultException(message:IMessage<TPayload>) : Exception?
}
interface "IEventMessage`1"<out TPayload> {
    Payload : TPayload <<get>>
    <<new>> Payload : TPayload <<get>>
    Timestamp : DateTime <<get>>
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    <<new>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IEventMessage<TPayload>
    <<new>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IEventMessage<TPayload>
}
"IMessage`1" "<TPayload>" <|- - "IEventMessage`1"
class "GenericCommandMessage`1"<TPayload> {
    + GenericCommandMessage(payload:TPayload)
    + GenericCommandMessage(payload:TPayload, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericCommandMessage(message:IMessage<TPayload>, commandName:string)
    + <<new>> Payload : TPayload <<get>>
    + CommandName : string <<get>>
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : ICommandMessage<TPayload>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : ICommandMessage<TPayload>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericCommandMessage<TPayload>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericCommandMessage<TPayload>
}
"MessageDecorator`1" "<TPayload>" <|- - "GenericCommandMessage`1"
"ICommandMessage`1" "<TPayload>" <|- - "GenericCommandMessage`1"
interface "IResultMessage`1"<out TResult> {
    IsSuccess : bool <<get>>
    Exception : Exception? <<get>>
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TResult>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TResult>
    <<new>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IResultMessage<TResult>
    <<new>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IResultMessage<TResult>
}
"IMessage`1" "<TResult>" <|- - "IResultMessage`1"
abstract class "MessageDecorator`1"<TPayload> {
    + MessageDecorator(message:IMessage<TPayload>)
    + Message : IMessage<TPayload> <<get>>
    + Identifier : string <<get>>
    + MetaData : MetaData <<get>>
    + Payload : TPayload? <<get>>
    + PayloadType : Type <<get>>
    + {abstract} WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    + {abstract} AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
}
"IMessage`1" "<TPayload>" <|- - "MessageDecorator`1"
class "GenericEventMessage`1"<TPayload> {
    + GenericEventMessage(payload:TPayload)
    + GenericEventMessage(payload:TPayload, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericEventMessage(message:IMessage<TPayload>)
    + GenericEventMessage(message:IMessage<TPayload>, timestampSupplier:Func<DateTime>)
    + <<new>> Payload : TPayload <<get>>
    + Timestamp : DateTime <<get>>
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IEventMessage<TPayload>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IEventMessage<TPayload>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericEventMessage<TPayload>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericEventMessage<TPayload>
}
"MessageDecorator`1" "<TPayload>" <|- - "GenericEventMessage`1"
"IEventMessage`1" "<TPayload>" <|- - "GenericEventMessage`1"
class MetaData {
    + {static} <<readonly>> EmptyInstance : MetaData
    - <<readonly>> values : IReadOnlyDictionary<string, object>
    + MetaData()
    + MetaData(items:IEnumerable<KeyValuePair<string, object>>)
    + Count : int <<get>>
    + IsReadOnly : bool <<get>>
    + IsEmpty : bool <<get>>
    + Keys : IEnumerable<string> <<get>>
    + Values : IEnumerable<object> <<get>>
    + {static} From(metaDataEntries:ICollection<KeyValuePair<string, object>>) : MetaData
    + {static} With(key:string, value:object) : MetaData
    + And(key:string, value:object) : MetaData
    + Add(item:KeyValuePair<string, object>) : void
    + Clear() : void
    + Contains(item:KeyValuePair<string, object>) : bool
    + CopyTo(array:KeyValuePair<string, object>[], arrayIndex:int) : void
    + Remove(item:KeyValuePair<string, object>) : bool
    + ContainsKey(key:string) : bool
    + TryGetValue(key:string, value:object) : bool
    + GetEnumerator() : IEnumerator<KeyValuePair<string, object>>
    GetEnumerator() : IEnumerator
    + Equals(other:ICollection<KeyValuePair<string, object>>?) : bool
    + <<override>> Equals(obj:object?) : bool
    + <<override>> GetHashCode() : int
    + MergedWith(additionalEntries:ICollection<KeyValuePair<string, object>>) : MetaData
    # Equals(other:MetaData) : bool
}
"IReadOnlyDictionary`2" "<string,object>" <|- - MetaData
"ICollection`1" "<KeyValuePair<string, object>>" <|- - MetaData
"IEquatable`1" "<ICollection<KeyValuePair<string, object>>>" <|- - MetaData
class "GenericCommandResultMessage`1"<TResult> {
    + GenericCommandResultMessage(commandResult:TResult?)
    + GenericCommandResultMessage(exception:Exception)
    + GenericCommandResultMessage(commandResult:TResult?, metaData:MetaData)
    + GenericCommandResultMessage(exception:Exception, metaData:MetaData)
    + GenericCommandResultMessage(message:IMessage<TResult>)
    + GenericCommandResultMessage(message:IMessage<TResult>, exception:Exception?)
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : ICommandResultMessage<TResult>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : ICommandResultMessage<TResult>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericCommandResultMessage<TResult>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericCommandResultMessage<TResult>
}
"GenericResultMessage`1" "<TResult>" <|- - "GenericCommandResultMessage`1"
"ICommandResultMessage`1" "<TResult>" <|- - "GenericCommandResultMessage`1"
interface "IQueryResponseMessage`1"<out TResult> {
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IResultMessage<TResult>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IResultMessage<TResult>
    <<new>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IQueryResponseMessage<TResult>
    <<new>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IQueryResponseMessage<TResult>
}
"IResultMessage`1" "<TResult>" <|- - "IQueryResponseMessage`1"
class GenericCommandMessage <<static>> {
    + {static} AsCommandMessage(command:TMessage) : ICommandMessage<TMessage>
    + {static} AsCommandMessage(command:object) : ICommandMessage<TMessage>
}
class GenericCommandResultMessage {
    + {static} AsCommandResultMessage(commandResult:object?) : ICommandResultMessage<TResult>
    + {static} AsCommandResultErrorMessage(exception:TException) : ICommandResultMessage<TResult>
}
class "GenericResultMessage`1"<TPayload> {
    + GenericResultMessage(result:TPayload?)
    + GenericResultMessage(exception:Exception)
    + GenericResultMessage(result:TPayload?, metaData:MetaData)
    + GenericResultMessage(exception:Exception, metaData:MetaData)
    + GenericResultMessage(message:IMessage<TPayload>)
    + GenericResultMessage(message:IMessage<TPayload>, exception:Exception?)
    + IsSuccess : bool <<get>>
    + Exception : Exception? <<get>>
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IResultMessage<TPayload>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IResultMessage<TPayload>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericResultMessage<TPayload>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericResultMessage<TPayload>
}
"MessageDecorator`1" "<TPayload>" <|- - "GenericResultMessage`1"
"IResultMessage`1" "<TPayload>" <|- - "GenericResultMessage`1"
class "GenericMessage`1"<TPayload> {
    + GenericMessage(payload:TPayload?)
    + GenericMessage(payload:TPayload?, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericMessage(declaredPayloadType:Type, payload:TPayload?, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericMessage(identifier:string, payload:TPayload?, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericMessage(identifier:string, declaredPayloadType:Type, payload:TPayload?, metaData:ICollection<KeyValuePair<string, object>>)
    - GenericMessage(original:GenericMessage<TPayload>, metaData:MetaData)
    + <<override>> MetaData : MetaData <<get>>
    + <<override>> Payload : TPayload? <<get>>
    + <<override>> PayloadType : Type <<get>>
    # <<override>> WithMetaData(metaData:MetaData) : GenericMessage<TPayload>
}
"AbstractMessage`1" "<TPayload>" <|- - "GenericMessage`1"
class GenericQueryResponseMessage <<static>> {
    + {static} AsResponseMessage(result:object) : IQueryResponseMessage<TResult>
    + {static} AsNullableResponseMessage(declaredType:Type, result:object?) : IQueryResponseMessage<TResult>
    + {static} AsResponseMessage(declaredType:Type, exception:Exception) : IQueryResponseMessage<TResult>
}
abstract class "AbstractMessage`1"<TPayload> {
    # AbstractMessage(identifier:string)
    + Identifier : string <<get>>
    + {abstract} MetaData : MetaData <<get>>
    + {abstract} Payload : TPayload? <<get>>
    + {abstract} PayloadType : Type <<get>>
    + WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    + AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    # {abstract} WithMetaData(metaData:MetaData) : IMessage<TPayload>
}
"IMessage`1" "<TPayload>" <|- - "AbstractMessage`1"
interface "ICommandMessage`1"<out TPayload> {
    CommandName : string <<get>>
    Payload : TPayload <<get>>
    <<new>> Payload : TPayload <<get>>
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    <<new>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : ICommandMessage<TPayload>
    <<new>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : ICommandMessage<TPayload>
}
"IMessage`1" "<TPayload>" <|- - "ICommandMessage`1"
class GenericMessage <<static>> {
    + {static} AsMessage(payload:object?) : IMessage<object>
    <<internal>> {static} GetDeclaredPayloadType(payload:TPayload?) : Type
}
interface "ICommandResultMessage`1"<out TResult> {
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IResultMessage<TResult>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IResultMessage<TResult>
    <<new>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : ICommandResultMessage<TResult>
    <<new>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : ICommandResultMessage<TResult>
}
"IResultMessage`1" "<TResult>" <|- - "ICommandResultMessage`1"
class "GenericQueryMessage`2"<TPayload,TResponse> {
    + GenericQueryMessage(payload:TPayload, responseType:IResponseType<TResponse>)
    + GenericQueryMessage(payload:TPayload, queryName:string, responseType:IResponseType<TResponse>)
    + GenericQueryMessage(message:IMessage<TPayload>, queryName:string, responseType:IResponseType<TResponse>)
    + <<new>> Payload : TPayload <<get>>
    + QueryName : string <<get>>
    + ResponseType : IResponseType<TResponse> <<get>>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericQueryMessage<TPayload, TResponse>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericQueryMessage<TPayload, TResponse>
}
"MessageDecorator`1" "<TPayload>" <|- - "GenericQueryMessage`2"
"IQueryMessage`2" "<TPayload,TResponse>" <|- - "GenericQueryMessage`2"
interface "IResponseType`1"<out TResponse> {
    ResponseMessagePayloadType : Type <<get>>
    ExpectedResponseType : Type <<get>>
    Matches(responseType:Type) : bool
    + Convert(response:object?) : TResponse?
}
class "InstanceResponseType`1"<TResponse> {
    + ResponseMessagePayloadType : Type <<get>>
    + ExpectedResponseType : Type <<get>>
    + Matches(responseType:Type) : bool
    + <<override>> ToString() : string
}
"IResponseType`1" "<TResponse>" <|- - "InstanceResponseType`1"
class ResponseTypes <<static>> {
    + {static} InstanceOf() : IResponseType<TResponse>
}
@enduml

PlantUML version 1.2022.7(Mon Aug 22 22:31:30 IST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: LK
-->
  </g>
</svg>