<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1236px" preserveAspectRatio="none" style="width:12878px;height:1236px;background:#FFFFFF;" version="1.1" viewBox="0 0 12878 1236" width="12878px" zoomAndPan="magnify"><defs/><g><!--MD5=[05cc808175574cfe24e2b830f483f31a]
class QueryBusExtensions--><g id="elem_QueryBusExtensions"><rect codeLine="1" fill="#F1F1F1" height="88.8594" id="QueryBusExtensions" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1243" x="7" y="38.5"/><ellipse cx="552.25" cy="58.6328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M555.2188,64.2734 Q554.6406,64.5703 554,64.7109 Q553.3594,64.8672 552.6563,64.8672 Q550.1563,64.8672 548.8281,63.2266 Q547.5156,61.5703 547.5156,58.4453 Q547.5156,55.3203 548.8281,53.6641 Q550.1563,52.0078 552.6563,52.0078 Q553.3594,52.0078 554,52.1641 Q554.6563,52.3203 555.2188,52.6172 L555.2188,55.3359 Q554.5938,54.7578 554,54.4922 Q553.4063,54.2109 552.7813,54.2109 Q551.4375,54.2109 550.75,55.2891 Q550.0625,56.3516 550.0625,58.4453 Q550.0625,60.5391 550.75,61.6172 Q551.4375,62.6797 552.7813,62.6797 Q553.4063,62.6797 554,62.4141 Q554.5938,62.1328 555.2188,61.5547 L555.2188,64.2734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="620.25" y="54.6387">«static»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="144" x="572.75" y="70.4639">QueryBusExtensions</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="1249" y1="78.7656" y2="78.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="1249" y1="86.7656" y2="86.7656"/><ellipse cx="18" cy="100.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="1217" x="27" y="103.7607">SubscribeAsync(queryBus:IQueryBus, queryName:string, responseType:Type, handler:MessageHandler&lt;IQueryMessage&lt;TPayload, TResponse&gt;&gt;) : Task&lt;IAsyncDisposable&gt;</text><ellipse cx="18" cy="116.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="1070" x="27" y="120.0576">SubscribeAsync(queryBus:IQueryBus, queryName:string, handler:MessageHandler&lt;IQueryMessage&lt;TPayload, TResponse&gt;&gt;) : Task&lt;IAsyncDisposable&gt;</text></g><!--MD5=[cafc1816778efc93d59dea75a0718ed0]
class NoHandlerForQueryException--><g id="elem_NoHandlerForQueryException"><rect codeLine="5" fill="#F1F1F1" height="64.2969" id="NoHandlerForQueryException" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="347" x="3055" y="420"/><ellipse cx="3122.75" cy="436" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3125.7188,441.6406 Q3125.1406,441.9375 3124.5,442.0781 Q3123.8594,442.2344 3123.1563,442.2344 Q3120.6563,442.2344 3119.3281,440.5938 Q3118.0156,438.9375 3118.0156,435.8125 Q3118.0156,432.6875 3119.3281,431.0313 Q3120.6563,429.375 3123.1563,429.375 Q3123.8594,429.375 3124.5,429.5313 Q3125.1563,429.6875 3125.7188,429.9844 L3125.7188,432.7031 Q3125.0938,432.125 3124.5,431.8594 Q3123.9063,431.5781 3123.2813,431.5781 Q3121.9375,431.5781 3121.25,432.6563 Q3120.5625,433.7188 3120.5625,435.8125 Q3120.5625,437.9063 3121.25,438.9844 Q3121.9375,440.0469 3123.2813,440.0469 Q3123.9063,440.0469 3124.5,439.7813 Q3125.0938,439.5 3125.7188,438.9219 L3125.7188,441.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="203" x="3143.25" y="440.8467">NoHandlerForQueryException</text><line style="stroke:#181818;stroke-width:0.5;" x1="3056" x2="3401" y1="452" y2="452"/><line style="stroke:#181818;stroke-width:0.5;" x1="3056" x2="3401" y1="460" y2="460"/><ellipse cx="3066" cy="473.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="321" x="3075" y="476.9951">NoHandlerForQueryException(message:string)</text></g><!--MD5=[8db60afef7a3447bbe27c5ed187fdac2]
class Exception--><g id="elem_Exception"><rect fill="#F1F1F1" height="48" id="Exception" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="3488.5" y="59"/><ellipse cx="3503.5" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3506.4688,80.6406 Q3505.8906,80.9375 3505.25,81.0781 Q3504.6094,81.2344 3503.9063,81.2344 Q3501.4063,81.2344 3500.0781,79.5938 Q3498.7656,77.9375 3498.7656,74.8125 Q3498.7656,71.6875 3500.0781,70.0313 Q3501.4063,68.375 3503.9063,68.375 Q3504.6094,68.375 3505.25,68.5313 Q3505.9063,68.6875 3506.4688,68.9844 L3506.4688,71.7031 Q3505.8438,71.125 3505.25,70.8594 Q3504.6563,70.5781 3504.0313,70.5781 Q3502.6875,70.5781 3502,71.6563 Q3501.3125,72.7188 3501.3125,74.8125 Q3501.3125,76.9063 3502,77.9844 Q3502.6875,79.0469 3504.0313,79.0469 Q3504.6563,79.0469 3505.25,78.7813 Q3505.8438,78.5 3506.4688,77.9219 L3506.4688,80.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="68" x="3517.5" y="79.8467">Exception</text><line style="stroke:#181818;stroke-width:0.5;" x1="3489.5" x2="3587.5" y1="91" y2="91"/><line style="stroke:#181818;stroke-width:0.5;" x1="3489.5" x2="3587.5" y1="99" y2="99"/></g><!--MD5=[738615f4fe62c5de60c62fa703c06e7d]
class ISubscribableMessageSource`1--><g id="elem_ISubscribableMessageSource`1"><rect codeLine="9" fill="#F1F1F1" height="64.2969" id="ISubscribableMessageSource`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="680" x="3796.5" y="51"/><ellipse cx="3988.75" cy="67" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3984.6719,62.7656 L3984.6719,60.6094 L3992.0625,60.6094 L3992.0625,62.7656 L3989.5938,62.7656 L3989.5938,70.8438 L3992.0625,70.8438 L3992.0625,73 L3984.6719,73 L3984.6719,70.8438 L3987.1406,70.8438 L3987.1406,62.7656 L3984.6719,62.7656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="220" x="4009.25" y="71.8467">ISubscribableMessageSource`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="65" x="4414.5" y="48"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63" x="4415.5" y="60.1387">TMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="3797.5" x2="4475.5" y1="83" y2="83"/><line style="stroke:#181818;stroke-width:0.5;" x1="3797.5" x2="4475.5" y1="91" y2="91"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="668" x="3802.5" y="107.9951">SubscribeAsync(messageProcessor:Func&lt;List&lt;TMessage&gt;, Task&gt;) : Task&lt;IAsyncDisposable&gt;</text></g><!--MD5=[072e31d17bdecff1c06c2b5381d7498e]
class CollectionExtensions--><g id="elem_CollectionExtensions"><rect codeLine="12" fill="#F1F1F1" height="72.5625" id="CollectionExtensions" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="280" x="1285.5" y="46.5"/><ellipse cx="1349.25" cy="66.6328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1352.2188,72.2734 Q1351.6406,72.5703 1351,72.7109 Q1350.3594,72.8672 1349.6563,72.8672 Q1347.1563,72.8672 1345.8281,71.2266 Q1344.5156,69.5703 1344.5156,66.4453 Q1344.5156,63.3203 1345.8281,61.6641 Q1347.1563,60.0078 1349.6563,60.0078 Q1350.3594,60.0078 1351,60.1641 Q1351.6563,60.3203 1352.2188,60.6172 L1352.2188,63.3359 Q1351.5938,62.7578 1351,62.4922 Q1350.4063,62.2109 1349.7813,62.2109 Q1348.4375,62.2109 1347.75,63.2891 Q1347.0625,64.3516 1347.0625,66.4453 Q1347.0625,68.5391 1347.75,69.6172 Q1348.4375,70.6797 1349.7813,70.6797 Q1350.4063,70.6797 1351,70.4141 Q1351.5938,70.1328 1352.2188,69.5547 L1352.2188,72.2734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="1417.25" y="62.6387">«static»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="144" x="1369.75" y="78.4639">CollectionExtensions</text><line style="stroke:#181818;stroke-width:0.5;" x1="1286.5" x2="1564.5" y1="86.7656" y2="86.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="1286.5" x2="1564.5" y1="94.7656" y2="94.7656"/><ellipse cx="1296.5" cy="108.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="254" x="1305.5" y="111.7607">IsEmpty(items:ICollection&lt;T&gt;) : bool</text></g><!--MD5=[9c11852b13393b373df890453ff5af04]
class SimpleQueryBus--><g id="elem_SimpleQueryBus"><rect codeLine="15" fill="#F1F1F1" height="194.6719" id="SimpleQueryBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="987" x="4568" y="756"/><ellipse cx="5000.25" cy="772" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5003.2188,777.6406 Q5002.6406,777.9375 5002,778.0781 Q5001.3594,778.2344 5000.6563,778.2344 Q4998.1563,778.2344 4996.8281,776.5938 Q4995.5156,774.9375 4995.5156,771.8125 Q4995.5156,768.6875 4996.8281,767.0313 Q4998.1563,765.375 5000.6563,765.375 Q5001.3594,765.375 5002,765.5313 Q5002.6563,765.6875 5003.2188,765.9844 L5003.2188,768.7031 Q5002.5938,768.125 5002,767.8594 Q5001.4063,767.5781 5000.7813,767.5781 Q4999.4375,767.5781 4998.75,768.6563 Q4998.0625,769.7188 4998.0625,771.8125 Q4998.0625,773.9063 4998.75,774.9844 Q4999.4375,776.0469 5000.7813,776.0469 Q5001.4063,776.0469 5002,775.7813 Q5002.5938,775.5 5003.2188,774.9219 L5003.2188,777.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="114" x="5020.75" y="776.8467">SimpleQueryBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="4569" x2="5554" y1="788" y2="788"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4576" y="798.6484"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="726" x="4588" y="804.9951">«readonly» subscriptions : ConcurrentDictionary&lt;string, ConcurrentDictionary&lt;int, QuerySubscription&gt;&gt;</text><ellipse cx="4579" cy="817.9453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="609" x="4588" y="821.292">Subscriptions : ImmutableDictionary&lt;string, ImmutableList&lt;QuerySubscription&gt;&gt; «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="4569" x2="5554" y1="828.5938" y2="828.5938"/><ellipse cx="4579" cy="842.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="858" x="4588" y="845.5889">SubscribeAsync(queryName:string, responseType:Type, handler:MessageHandler&lt;TMessage&gt;) : Task&lt;IAsyncDisposable&gt;</text><ellipse cx="4579" cy="858.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="819" x="4588" y="861.8857">«async» QueryAsync(query:IQueryMessage&lt;TQuery, TResponse&gt;) : Task&lt;IQueryResponseMessage&lt;TResponse&gt;&gt;</text><ellipse cx="4579" cy="874.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="961" x="4588" y="878.1826">«async» ScatterGatherAsync(query:IQueryMessage&lt;object, TResponse&gt;) : IAsyncEnumerable&lt;IQueryResponseMessage&lt;TResponse&gt;&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4576" y="888.1328"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="681" x="4588" y="894.4795">ConvertResponse(response:object?, responseType:IResponseType&lt;TResponse&gt;) : TResponse?</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4576" y="904.4297"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="526" x="4588" y="910.7764">Unsubscribe(queryName:string, querySubscription:QuerySubscription) : void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4576" y="920.7266"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="801" x="4588" y="927.0732">GetHandlersForMessage(queryMessage:IQueryMessage&lt;object, TResponse&gt;) : ImmutableList&lt;IMessageHandler&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="4576" y="937.0234"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="599" x="4588" y="943.3701">GetSubscriptions() : ImmutableDictionary&lt;string, ImmutableList&lt;QuerySubscription&gt;&gt;</text></g><!--MD5=[1537e7b3e760210491ed7d5f83b83174]
class Registration--><g id="elem_Registration"><rect codeLine="82" fill="#F1F1F1" height="194.6719" id="Registration" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="296" x="5518.5" y="1027"/><ellipse cx="5620.75" cy="1043" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5623.7188,1048.6406 Q5623.1406,1048.9375 5622.5,1049.0781 Q5621.8594,1049.2344 5621.1563,1049.2344 Q5618.6563,1049.2344 5617.3281,1047.5938 Q5616.0156,1045.9375 5616.0156,1042.8125 Q5616.0156,1039.6875 5617.3281,1038.0313 Q5618.6563,1036.375 5621.1563,1036.375 Q5621.8594,1036.375 5622.5,1036.5313 Q5623.1563,1036.6875 5623.7188,1036.9844 L5623.7188,1039.7031 Q5623.0938,1039.125 5622.5,1038.8594 Q5621.9063,1038.5781 5621.2813,1038.5781 Q5619.9375,1038.5781 5619.25,1039.6563 Q5618.5625,1040.7188 5618.5625,1042.8125 Q5618.5625,1044.9063 5619.25,1045.9844 Q5619.9375,1047.0469 5621.2813,1047.0469 Q5621.9063,1047.0469 5622.5,1046.7813 Q5623.0938,1046.5 5623.7188,1045.9219 L5623.7188,1048.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="83" x="5641.25" y="1047.8467">Registration</text><line style="stroke:#181818;stroke-width:0.5;" x1="5519.5" x2="5813.5" y1="1059" y2="1059"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5526.5" y="1069.6484"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="266" x="5538.5" y="1075.9951">«readonly» unsubscribeAction : Action</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5526.5" y="1085.9453"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="266" x="5538.5" y="1092.292">«readonly» unsubscribeAction : Action</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5526.5" y="1102.2422"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="266" x="5538.5" y="1108.5889">«readonly» unsubscribeAction : Action</text><line style="stroke:#181818;stroke-width:0.5;" x1="5519.5" x2="5813.5" y1="1115.8906" y2="1115.8906"/><ellipse cx="5529.5" cy="1129.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="270" x="5538.5" y="1132.8857">Registration(unsubscribeAction:Action)</text><ellipse cx="5529.5" cy="1145.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="192" x="5538.5" y="1149.1826">DisposeAsync() : ValueTask</text><ellipse cx="5529.5" cy="1162.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="270" x="5538.5" y="1165.4795">Registration(unsubscribeAction:Action)</text><ellipse cx="5529.5" cy="1178.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="192" x="5538.5" y="1181.7764">DisposeAsync() : ValueTask</text><ellipse cx="5529.5" cy="1194.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="270" x="5538.5" y="1198.0732">Registration(unsubscribeAction:Action)</text><ellipse cx="5529.5" cy="1211.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="192" x="5538.5" y="1214.3701">DisposeAsync() : ValueTask</text></g><!--MD5=[25f3040f6e5a135a6d90f3f95f0d3be6]
class IQueryBus--><g id="elem_IQueryBus"><rect codeLine="62" fill="#F1F1F1" height="96.8906" id="IQueryBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="911" x="4606" y="403.5"/><ellipse cx="5021.75" cy="419.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5017.6719,415.2656 L5017.6719,413.1094 L5025.0625,413.1094 L5025.0625,415.2656 L5022.5938,415.2656 L5022.5938,423.3438 L5025.0625,423.3438 L5025.0625,425.5 L5017.6719,425.5 L5017.6719,423.3438 L5020.1406,423.3438 L5020.1406,415.2656 L5017.6719,415.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="71" x="5042.25" y="424.3467">IQueryBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="4607" x2="5516" y1="435.5" y2="435.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="4607" x2="5516" y1="443.5" y2="443.5"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="858" x="4612" y="460.4951">SubscribeAsync(queryName:string, responseType:Type, handler:MessageHandler&lt;TMessage&gt;) : Task&lt;IAsyncDisposable&gt;</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="757" x="4612" y="476.792">QueryAsync(query:IQueryMessage&lt;TQuery, TResponse&gt;) : Task&lt;IQueryResponseMessage&lt;TResponse&gt;&gt;</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="899" x="4612" y="493.0889">ScatterGatherAsync(query:IQueryMessage&lt;object, TResponse&gt;) : IAsyncEnumerable&lt;IQueryResponseMessage&lt;TResponse&gt;&gt;</text></g><!--MD5=[5f8218461f02337fc1b534e0ab51cd08]
class IAsyncDisposable--><g id="elem_IAsyncDisposable"><rect fill="#F1F1F1" height="48" id="IAsyncDisposable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="5590" y="829.5"/><ellipse cx="5605" cy="845.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M5607.9688,851.1406 Q5607.3906,851.4375 5606.75,851.5781 Q5606.1094,851.7344 5605.4063,851.7344 Q5602.9063,851.7344 5601.5781,850.0938 Q5600.2656,848.4375 5600.2656,845.3125 Q5600.2656,842.1875 5601.5781,840.5313 Q5602.9063,838.875 5605.4063,838.875 Q5606.1094,838.875 5606.75,839.0313 Q5607.4063,839.1875 5607.9688,839.4844 L5607.9688,842.2031 Q5607.3438,841.625 5606.75,841.3594 Q5606.1563,841.0781 5605.5313,841.0781 Q5604.1875,841.0781 5603.5,842.1563 Q5602.8125,843.2188 5602.8125,845.3125 Q5602.8125,847.4063 5603.5,848.4844 Q5604.1875,849.5469 5605.5313,849.5469 Q5606.1563,849.5469 5606.75,849.2813 Q5607.3438,849 5607.9688,848.4219 L5607.9688,851.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="121" x="5619" y="850.3467">IAsyncDisposable</text><line style="stroke:#181818;stroke-width:0.5;" x1="5591" x2="5742" y1="861.5" y2="861.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="5591" x2="5742" y1="869.5" y2="869.5"/></g><!--MD5=[8ec3b8c146b139920eec9349309099a0]
class SimpleEventBus--><g id="elem_SimpleEventBus"><rect codeLine="34" fill="#F1F1F1" height="129.4844" id="SimpleEventBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="794" x="3739.5" y="789"/><ellipse cx="4076.25" cy="805" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4079.2188,810.6406 Q4078.6406,810.9375 4078,811.0781 Q4077.3594,811.2344 4076.6563,811.2344 Q4074.1563,811.2344 4072.8281,809.5938 Q4071.5156,807.9375 4071.5156,804.8125 Q4071.5156,801.6875 4072.8281,800.0313 Q4074.1563,798.375 4076.6563,798.375 Q4077.3594,798.375 4078,798.5313 Q4078.6563,798.6875 4079.2188,798.9844 L4079.2188,801.7031 Q4078.5938,801.125 4078,800.8594 Q4077.4063,800.5781 4076.7813,800.5781 Q4075.4375,800.5781 4074.75,801.6563 Q4074.0625,802.7188 4074.0625,804.8125 Q4074.0625,806.9063 4074.75,807.9844 Q4075.4375,809.0469 4076.7813,809.0469 Q4077.4063,809.0469 4078,808.7813 Q4078.5938,808.5 4079.2188,807.9219 L4079.2188,810.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="112" x="4096.75" y="809.8467">SimpleEventBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="3740.5" x2="4532.5" y1="821" y2="821"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="3747.5" y="831.6484"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="724" x="3759.5" y="837.9951">«readonly» eventProcessors : ConcurrentDictionary&lt;int, Func&lt;List&lt;IEventMessage&lt;object&gt;&gt;, Task&gt;&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="3740.5" x2="4532.5" y1="845.2969" y2="845.2969"/><ellipse cx="3750.5" cy="858.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="768" x="3759.5" y="862.292">SubscribeAsync(messageProcessor:Func&lt;List&lt;IEventMessage&lt;object&gt;&gt;, Task&gt;) : Task&lt;IAsyncDisposable&gt;</text><ellipse cx="3750.5" cy="875.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="381" x="3759.5" y="878.5889">PublishAsync(events:IEventMessage&lt;object&gt;[]) : Task</text><ellipse cx="3750.5" cy="891.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="418" x="3759.5" y="894.8857">PublishAsync(events:List&lt;IEventMessage&lt;object&gt;&gt;) : Task</text><polygon fill="#FFFF44" points="3750.5,902.8359,3754.5,906.8359,3750.5,910.8359,3746.5,906.8359" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="595" x="3759.5" y="911.1826">«virtual» «async» ProcessEventsAsync(events:List&lt;IEventMessage&lt;object&gt;&gt;) : Task</text></g><!--MD5=[a0ba6c09f7e42219b517133b9a5a3048]
class IEventBus--><g id="elem_IEventBus"><rect codeLine="57" fill="#F1F1F1" height="80.5938" id="IEventBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="430" x="3921.5" y="411.5"/><ellipse cx="4097.75" cy="427.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M4093.6719,423.2656 L4093.6719,421.1094 L4101.0625,421.1094 L4101.0625,423.2656 L4098.5938,423.2656 L4098.5938,431.3438 L4101.0625,431.3438 L4101.0625,433.5 L4093.6719,433.5 L4093.6719,431.3438 L4096.1406,431.3438 L4096.1406,423.2656 L4093.6719,423.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="69" x="4118.25" y="432.3467">IEventBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="3922.5" x2="4350.5" y1="443.5" y2="443.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="3922.5" x2="4350.5" y1="451.5" y2="451.5"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="381" x="3927.5" y="468.4951">PublishAsync(events:IEventMessage&lt;object&gt;[]) : Task</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="418" x="3927.5" y="484.792">PublishAsync(events:List&lt;IEventMessage&lt;object&gt;&gt;) : Task</text></g><!--MD5=[2868e773aa1496de777097d5f3d2dc80]
class ICommandBus--><g id="elem_ICommandBus"><rect codeLine="49" fill="#F1F1F1" height="96.8906" id="ICommandBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="730" x="5897.5" y="403.5"/><ellipse cx="6207.75" cy="419.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M6203.6719,415.2656 L6203.6719,413.1094 L6211.0625,413.1094 L6211.0625,415.2656 L6208.5938,415.2656 L6208.5938,423.3438 L6211.0625,423.3438 L6211.0625,425.5 L6203.6719,425.5 L6203.6719,423.3438 L6206.1406,423.3438 L6206.1406,415.2656 L6203.6719,415.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101" x="6228.25" y="424.3467">ICommandBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="5898.5" x2="6626.5" y1="435.5" y2="435.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="5898.5" x2="6626.5" y1="443.5" y2="443.5"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="718" x="5903.5" y="460.4951">DispatchAsync(command:ICommandMessage&lt;object&gt;) : Task&lt;ICommandResultMessage&lt;TResult&gt;&gt;</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="436" x="5903.5" y="476.792">DispatchAsync(command:ICommandMessage&lt;object&gt;) : Task</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="648" x="5903.5" y="493.0889">SubscribeAsync(commandName:string, handler:IMessageHandler) : Task&lt;IAsyncDisposable&gt;</text></g><!--MD5=[ea38f915e8629e8b020b3a01cee873b6]
class IDuplicateCommandHandlerResolver--><g id="elem_IDuplicateCommandHandlerResolver"><rect codeLine="54" fill="#F1F1F1" height="64.2969" id="IDuplicateCommandHandlerResolver" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="871" x="1601" y="51"/><ellipse cx="1906.25" cy="67" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1902.1719,62.7656 L1902.1719,60.6094 L1909.5625,60.6094 L1909.5625,62.7656 L1907.0938,62.7656 L1907.0938,70.8438 L1909.5625,70.8438 L1909.5625,73 L1902.1719,73 L1902.1719,70.8438 L1904.6406,70.8438 L1904.6406,62.7656 L1902.1719,62.7656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="252" x="1926.75" y="71.8467">IDuplicateCommandHandlerResolver</text><line style="stroke:#181818;stroke-width:0.5;" x1="1602" x2="2471" y1="83" y2="83"/><line style="stroke:#181818;stroke-width:0.5;" x1="1602" x2="2471" y1="91" y2="91"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="859" x="1607" y="107.9951">Resolve(commandName:string, registeredHandler:IMessageHandler, candidateHandler:IMessageHandler) : IMessageHandler</text></g><!--MD5=[e2d00e1271a32f4b8f7464978ce52aa8]
class NoHandlerForCommandException--><g id="elem_NoHandlerForCommandException"><rect codeLine="67" fill="#F1F1F1" height="88.8594" id="NoHandlerForCommandException" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="449" x="3437" y="407.5"/><ellipse cx="3540.75" cy="427.6328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M3543.7188,433.2734 Q3543.1406,433.5703 3542.5,433.7109 Q3541.8594,433.8672 3541.1563,433.8672 Q3538.6563,433.8672 3537.3281,432.2266 Q3536.0156,430.5703 3536.0156,427.4453 Q3536.0156,424.3203 3537.3281,422.6641 Q3538.6563,421.0078 3541.1563,421.0078 Q3541.8594,421.0078 3542.5,421.1641 Q3543.1563,421.3203 3543.7188,421.6172 L3543.7188,424.3359 Q3543.0938,423.7578 3542.5,423.4922 Q3541.9063,423.2109 3541.2813,423.2109 Q3539.9375,423.2109 3539.25,424.2891 Q3538.5625,425.3516 3538.5625,427.4453 Q3538.5625,429.5391 3539.25,430.6172 Q3539.9375,431.6797 3541.2813,431.6797 Q3541.9063,431.6797 3542.5,431.4141 Q3543.0938,431.1328 3543.7188,430.5547 L3543.7188,433.2734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="3649.75" y="423.6387">«sealed»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="233" x="3561.25" y="439.4639">NoHandlerForCommandException</text><line style="stroke:#181818;stroke-width:0.5;" x1="3438" x2="3885" y1="447.7656" y2="447.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="3438" x2="3885" y1="455.7656" y2="455.7656"/><ellipse cx="3448" cy="469.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="351" x="3457" y="472.7607">NoHandlerForCommandException(message:string)</text><ellipse cx="3448" cy="485.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="423" x="3457" y="489.0576">NoHandlerForCommandException(commandMessage:object)</text></g><!--MD5=[eb5174054f6ff5807da5f1e34570e267]
class SimpleCommandBus--><g id="elem_SimpleCommandBus"><rect codeLine="72" fill="#F1F1F1" height="178.375" id="SimpleCommandBus" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="968" x="5778.5" y="764.5"/><ellipse cx="6186.25" cy="780.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M6189.2188,786.1406 Q6188.6406,786.4375 6188,786.5781 Q6187.3594,786.7344 6186.6563,786.7344 Q6184.1563,786.7344 6182.8281,785.0938 Q6181.5156,783.4375 6181.5156,780.3125 Q6181.5156,777.1875 6182.8281,775.5313 Q6184.1563,773.875 6186.6563,773.875 Q6187.3594,773.875 6188,774.0313 Q6188.6563,774.1875 6189.2188,774.4844 L6189.2188,777.2031 Q6188.5938,776.625 6188,776.3594 Q6187.4063,776.0781 6186.7813,776.0781 Q6185.4375,776.0781 6184.75,777.1563 Q6184.0625,778.2188 6184.0625,780.3125 Q6184.0625,782.4063 6184.75,783.4844 Q6185.4375,784.5469 6186.7813,784.5469 Q6187.4063,784.5469 6188,784.2813 Q6188.5938,784 6189.2188,783.4219 L6189.2188,786.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="144" x="6206.75" y="785.3467">SimpleCommandBus</text><line style="stroke:#181818;stroke-width:0.5;" x1="5779.5" x2="6745.5" y1="796.5" y2="796.5"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5786.5" y="807.1484"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="523" x="5798.5" y="813.4951">«readonly» subscriptions : ConcurrentDictionary&lt;string, IMessageHandler&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5786.5" y="823.4453"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="593" x="5798.5" y="829.792">«readonly» duplicateCommandHandlerResolver : IDuplicateCommandHandlerResolver</text><line style="stroke:#181818;stroke-width:0.5;" x1="5779.5" x2="6745.5" y1="837.0938" y2="837.0938"/><ellipse cx="5789.5" cy="850.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="658" x="5798.5" y="854.0889">SimpleCommandBus(duplicateCommandHandlerResolver:IDuplicateCommandHandlerResolver)</text><ellipse cx="5789.5" cy="867.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="780" x="5798.5" y="870.3857">«async» DispatchAsync(command:ICommandMessage&lt;object&gt;) : Task&lt;ICommandResultMessage&lt;TResult&gt;&gt;</text><ellipse cx="5789.5" cy="883.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="436" x="5798.5" y="886.6826">DispatchAsync(command:ICommandMessage&lt;object&gt;) : Task</text><ellipse cx="5789.5" cy="899.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="648" x="5798.5" y="902.9795">SubscribeAsync(commandName:string, handler:IMessageHandler) : Task&lt;IAsyncDisposable&gt;</text><polygon fill="#FFFF44" points="5789.5,910.9297,5793.5,914.9297,5789.5,918.9297,5785.5,914.9297" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="942" x="5798.5" y="919.2764">«virtual» «async» HandleAsync(command:ICommandMessage&lt;object&gt;, handler:IMessageHandler) : Task&lt;IResultMessage&lt;TResult&gt;&gt;</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="5786.5" y="929.2266"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="477" x="5798.5" y="935.5732">FindCommandHandlerFor(commandName:string) : IMessageHandler?</text></g><!--MD5=[8b525767791ffdc57a2ec6c043b8fe84]
class QuerySubscription--><g id="elem_QuerySubscription"><rect codeLine="90" fill="#F1F1F1" height="162.0781" id="QuerySubscription" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="526" x="6662.5" y="371"/><ellipse cx="6857.75" cy="387" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M6860.7188,392.6406 Q6860.1406,392.9375 6859.5,393.0781 Q6858.8594,393.2344 6858.1563,393.2344 Q6855.6563,393.2344 6854.3281,391.5938 Q6853.0156,389.9375 6853.0156,386.8125 Q6853.0156,383.6875 6854.3281,382.0313 Q6855.6563,380.375 6858.1563,380.375 Q6858.8594,380.375 6859.5,380.5313 Q6860.1563,380.6875 6860.7188,380.9844 L6860.7188,383.7031 Q6860.0938,383.125 6859.5,382.8594 Q6858.9063,382.5781 6858.2813,382.5781 Q6856.9375,382.5781 6856.25,383.6563 Q6855.5625,384.7188 6855.5625,386.8125 Q6855.5625,388.9063 6856.25,389.9844 Q6856.9375,391.0469 6858.2813,391.0469 Q6858.9063,391.0469 6859.5,390.7813 Q6860.0938,390.5 6860.7188,389.9219 L6860.7188,392.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="127" x="6878.25" y="391.8467">QuerySubscription</text><line style="stroke:#181818;stroke-width:0.5;" x1="6663.5" x2="7187.5" y1="403" y2="403"/><ellipse cx="6673.5" cy="416.6484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="197" x="6682.5" y="419.9951">ResponseType : Type «get»</text><ellipse cx="6673.5" cy="432.9453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="271" x="6682.5" y="436.292">QueryHandler : IMessageHandler «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="6663.5" x2="7187.5" y1="443.5938" y2="443.5938"/><ellipse cx="6673.5" cy="457.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="500" x="6682.5" y="460.5889">QuerySubscription(responseType:Type, queryHandler:IMessageHandler)</text><ellipse cx="6673.5" cy="473.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="452" x="6682.5" y="476.8857">CanHandle(queryResponseType:IResponseType&lt;object&gt;) : bool</text><ellipse cx="6673.5" cy="489.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="215" x="6682.5" y="493.1826">«override» GetHashCode() : int</text><ellipse cx="6673.5" cy="506.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="253" x="6682.5" y="509.4795">«override» Equals(obj:object?) : bool</text><ellipse cx="6673.5" cy="522.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="275" x="6682.5" y="525.7764">Equals(other:QuerySubscription?) : bool</text></g><!--MD5=[360575ecdc123693e9e157d6e9effc89]
class IEquatable`1--><g id="elem_IEquatable`1"><rect fill="#F1F1F1" height="48" id="IEquatable`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="6980.5" y="59"/><ellipse cx="6995.5" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M6998.4688,80.6406 Q6997.8906,80.9375 6997.25,81.0781 Q6996.6094,81.2344 6995.9063,81.2344 Q6993.4063,81.2344 6992.0781,79.5938 Q6990.7656,77.9375 6990.7656,74.8125 Q6990.7656,71.6875 6992.0781,70.0313 Q6993.4063,68.375 6995.9063,68.375 Q6996.6094,68.375 6997.25,68.5313 Q6997.9063,68.6875 6998.4688,68.9844 L6998.4688,71.7031 Q6997.8438,71.125 6997.25,70.8594 Q6996.6563,70.5781 6996.0313,70.5781 Q6994.6875,70.5781 6994,71.6563 Q6993.3125,72.7188 6993.3125,74.8125 Q6993.3125,76.9063 6994,77.9844 Q6994.6875,79.0469 6996.0313,79.0469 Q6996.6563,79.0469 6997.25,78.7813 Q6997.8438,78.5 6998.4688,77.9219 L6998.4688,80.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="88" x="7009.5" y="79.8467">IEquatable`1</text><line style="stroke:#181818;stroke-width:0.5;" x1="6981.5" x2="7099.5" y1="91" y2="91"/><line style="stroke:#181818;stroke-width:0.5;" x1="6981.5" x2="7099.5" y1="99" y2="99"/></g><!--MD5=[830c6d2fb4a359ed5e28a089efab17c8]
class IMessage`1--><g id="elem_IMessage`1"><rect codeLine="100" fill="#F1F1F1" height="145.7813" id="IMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="652" x="9109.5" y="10"/><ellipse cx="9347.75" cy="26" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M9343.6719,21.7656 L9343.6719,19.6094 L9351.0625,19.6094 L9351.0625,21.7656 L9348.5938,21.7656 L9348.5938,29.8438 L9351.0625,29.8438 L9351.0625,32 L9343.6719,32 L9343.6719,29.8438 L9346.1406,29.8438 L9346.1406,21.7656 L9343.6719,21.7656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="82" x="9368.25" y="30.8467">IMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="83" x="9681.5" y="7"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="9682.5" y="19.1387">out TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="9110.5" x2="9760.5" y1="42" y2="42"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="156" x="9115.5" y="58.9951">Identifier : string «get»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="190" x="9115.5" y="75.292">MetaData : MetaData «get»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="180" x="9115.5" y="91.5889">Payload : TPayload? «get»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="179" x="9115.5" y="107.8857">PayloadType : Type «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="9110.5" x2="9760.5" y1="115.1875" y2="115.1875"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="640" x="9115.5" y="132.1826">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="637" x="9115.5" y="148.4795">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text></g><!--MD5=[9e3360b90e3d0d98a794ef3747592708]
class GenericQueryResponseMessage`1--><g id="elem_GenericQueryResponseMessage`1"><rect codeLine="108" fill="#F1F1F1" height="210.9688" id="GenericQueryResponseMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="898" x="10840.5" y="1019"/><ellipse cx="11137.75" cy="1035" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M11140.7188,1040.6406 Q11140.1406,1040.9375 11139.5,1041.0781 Q11138.8594,1041.2344 11138.1563,1041.2344 Q11135.6563,1041.2344 11134.3281,1039.5938 Q11133.0156,1037.9375 11133.0156,1034.8125 Q11133.0156,1031.6875 11134.3281,1030.0313 Q11135.6563,1028.375 11138.1563,1028.375 Q11138.8594,1028.375 11139.5,1028.5313 Q11140.1563,1028.6875 11140.7188,1028.9844 L11140.7188,1031.7031 Q11140.0938,1031.125 11139.5,1030.8594 Q11138.9063,1030.5781 11138.2813,1030.5781 Q11136.9375,1030.5781 11136.25,1031.6563 Q11135.5625,1032.7188 11135.5625,1034.8125 Q11135.5625,1036.9063 11136.25,1037.9844 Q11136.9375,1039.0469 11138.2813,1039.0469 Q11138.9063,1039.0469 11139.5,1038.7813 Q11140.0938,1038.5 11140.7188,1037.9219 L11140.7188,1040.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="245" x="11158.25" y="1039.8467">GenericQueryResponseMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="48" x="11693.5" y="1016"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46" x="11694.5" y="1028.1387">TResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="10841.5" x2="11737.5" y1="1051" y2="1051"/><line style="stroke:#181818;stroke-width:0.5;" x1="10841.5" x2="11737.5" y1="1059" y2="1059"/><ellipse cx="10851.5" cy="1072.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="239" x="10860.5" y="1075.9951">GenericQueryResponseMessage()</text><ellipse cx="10851.5" cy="1088.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="336" x="10860.5" y="1092.292">GenericQueryResponseMessage(result:TResult)</text><ellipse cx="10851.5" cy="1105.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="528" x="10860.5" y="1108.5889">GenericQueryResponseMessage(declaredResultType:Type, result:TResult?)</text><ellipse cx="10851.5" cy="1121.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="565" x="10860.5" y="1124.8857">GenericQueryResponseMessage(declaredResultType:Type, exception:Exception)</text><ellipse cx="10851.5" cy="1137.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="482" x="10860.5" y="1141.1826">GenericQueryResponseMessage(result:TResult, metaData:MetaData)</text><ellipse cx="10851.5" cy="1154.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="674" x="10860.5" y="1157.4795">GenericQueryResponseMessage(declaredResultType:Type, result:TResult?, metaData:MetaData)</text><ellipse cx="10851.5" cy="1170.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="711" x="10860.5" y="1173.7764">GenericQueryResponseMessage(declaredResultType:Type, exception:Exception, metaData:MetaData)</text><ellipse cx="10851.5" cy="1186.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="451" x="10860.5" y="1190.0732">GenericQueryResponseMessage(message:IMessage&lt;TResult&gt;)</text><ellipse cx="10851.5" cy="1203.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="872" x="10860.5" y="1206.3701">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericQueryResponseMessage&lt;TResult&gt;</text><ellipse cx="10851.5" cy="1219.3203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="869" x="10860.5" y="1222.667">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericQueryResponseMessage&lt;TResult&gt;</text></g><!--MD5=[36dc04a383ef32f8155f0e05d2487b1e]
class GenericResultMessage`1--><g id="elem_GenericResultMessage`1"><rect codeLine="240" fill="#F1F1F1" height="210.9688" id="GenericResultMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="839" x="9928" y="748"/><ellipse cx="10224.75" cy="764" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M10227.7188,769.6406 Q10227.1406,769.9375 10226.5,770.0781 Q10225.8594,770.2344 10225.1563,770.2344 Q10222.6563,770.2344 10221.3281,768.5938 Q10220.0156,766.9375 10220.0156,763.8125 Q10220.0156,760.6875 10221.3281,759.0313 Q10222.6563,757.375 10225.1563,757.375 Q10225.8594,757.375 10226.5,757.5313 Q10227.1563,757.6875 10227.7188,757.9844 L10227.7188,760.7031 Q10227.0938,760.125 10226.5,759.8594 Q10225.9063,759.5781 10225.2813,759.5781 Q10223.9375,759.5781 10223.25,760.6563 Q10222.5625,761.7188 10222.5625,763.8125 Q10222.5625,765.9063 10223.25,766.9844 Q10223.9375,768.0469 10225.2813,768.0469 Q10225.9063,768.0469 10226.5,767.7813 Q10227.0938,767.5 10227.7188,766.9219 L10227.7188,769.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="177" x="10245.25" y="768.8467">GenericResultMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="58" x="10712" y="745"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="10713" y="757.1387">TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="9929" x2="10766" y1="780" y2="780"/><ellipse cx="9939" cy="793.6484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="158" x="9948" y="796.9951">IsSuccess : bool «get»</text><ellipse cx="9939" cy="809.9453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="201" x="9948" y="813.292">Exception : Exception? «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="9929" x2="10766" y1="820.5938" y2="820.5938"/><ellipse cx="9939" cy="834.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="284" x="9948" y="837.5889">GenericResultMessage(result:TPayload?)</text><ellipse cx="9939" cy="850.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="312" x="9948" y="853.8857">GenericResultMessage(exception:Exception)</text><ellipse cx="9939" cy="866.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="430" x="9948" y="870.1826">GenericResultMessage(result:TPayload?, metaData:MetaData)</text><ellipse cx="9939" cy="883.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="458" x="9948" y="886.4795">GenericResultMessage(exception:Exception, metaData:MetaData)</text><ellipse cx="9939" cy="899.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="392" x="9948" y="902.7764">GenericResultMessage(message:IMessage&lt;TPayload&gt;)</text><ellipse cx="9939" cy="915.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="548" x="9948" y="919.0732">GenericResultMessage(message:IMessage&lt;TPayload&gt;, exception:Exception?)</text><ellipse cx="9939" cy="932.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="813" x="9948" y="935.3701">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericResultMessage&lt;TPayload&gt;</text><ellipse cx="9939" cy="948.3203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="810" x="9948" y="951.667">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericResultMessage&lt;TPayload&gt;</text></g><!--MD5=[a2393eeab834c3792f891fa1187d719a]
class IQueryResponseMessage`1--><g id="elem_IQueryResponseMessage`1"><rect codeLine="223" fill="#F1F1F1" height="48" id="IQueryResponseMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="301" x="11142" y="829.5"/><ellipse cx="11157" cy="845.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M11152.9219,841.2656 L11152.9219,839.1094 L11160.3125,839.1094 L11160.3125,841.2656 L11157.8438,841.2656 L11157.8438,849.3438 L11160.3125,849.3438 L11160.3125,851.5 L11152.9219,851.5 L11152.9219,849.3438 L11155.3906,849.3438 L11155.3906,841.2656 L11152.9219,841.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="194" x="11171" y="850.3467">IQueryResponseMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="73" x="11373" y="826.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="11374" y="838.6387">out TResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="11143" x2="11442" y1="861.5" y2="861.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="11143" x2="11442" y1="869.5" y2="869.5"/></g><!--MD5=[2813c1b7b230612ebc8459cb0360d2d3]
class GenericEventMessage--><g id="elem_GenericEventMessage"><rect codeLine="122" fill="#F1F1F1" height="105.1563" id="GenericEventMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="822" x="2507.5" y="30.5"/><ellipse cx="2836.25" cy="50.6328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2839.2188,56.2734 Q2838.6406,56.5703 2838,56.7109 Q2837.3594,56.8672 2836.6563,56.8672 Q2834.1563,56.8672 2832.8281,55.2266 Q2831.5156,53.5703 2831.5156,50.4453 Q2831.5156,47.3203 2832.8281,45.6641 Q2834.1563,44.0078 2836.6563,44.0078 Q2837.3594,44.0078 2838,44.1641 Q2838.6563,44.3203 2839.2188,44.6172 L2839.2188,47.3359 Q2838.5938,46.7578 2838,46.4922 Q2837.4063,46.2109 2836.7813,46.2109 Q2835.4375,46.2109 2834.75,47.2891 Q2834.0625,48.3516 2834.0625,50.4453 Q2834.0625,52.5391 2834.75,53.6172 Q2835.4375,54.6797 2836.7813,54.6797 Q2837.4063,54.6797 2838,54.4141 Q2838.5938,54.1328 2839.2188,53.5547 L2839.2188,56.2734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="2910.25" y="46.6387">«static»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="156" x="2856.75" y="62.4639">GenericEventMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2508.5" x2="3328.5" y1="70.7656" y2="70.7656"/><ellipse cx="2518.5" cy="84.4141" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="403" x="2527.5" y="87.7607">«readonly» SystemTimestampSupplier : Func&lt;DateTime&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="2508.5" x2="3328.5" y1="95.0625" y2="95.0625"/><ellipse cx="2518.5" cy="108.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="796" x="2527.5" y="112.0576">AsEventMessage(eventMessage:TMessage, timestampSupplier:Func&lt;DateTime&gt;?) : IEventMessage&lt;TMessage&gt;</text><ellipse cx="2518.5" cy="125.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="767" x="2527.5" y="128.3545">AsEventMessage(eventMessage:object, timestampSupplier:Func&lt;DateTime&gt;?) : IEventMessage&lt;TMessage&gt;</text></g><!--MD5=[09e4753bfd988306559b6f181ac36639]
class IQueryMessage`2--><g id="elem_IQueryMessage`2"><rect codeLine="127" fill="#F1F1F1" height="80.5938" id="IQueryMessage`2" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="387" x="7873" y="411.5"/><ellipse cx="7910.05" cy="427.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M7905.9719,423.2656 L7905.9719,421.1094 L7913.3625,421.1094 L7913.3625,423.2656 L7910.8938,423.2656 L7910.8938,431.3438 L7913.3625,431.3438 L7913.3625,433.5 L7905.9719,433.5 L7905.9719,431.3438 L7908.4406,431.3438 L7908.4406,423.2656 L7905.9719,423.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="123" x="7928.95" y="432.3467">IQueryMessage`2</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="181" x="8082" y="408.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="179" x="8083" y="420.6387">out TPayload,out TResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="7874" x2="8259" y1="443.5" y2="443.5"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="178" x="7879" y="460.4951">QueryName : string «get»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="375" x="7879" y="476.792">ResponseType : IResponseType&lt;TResponse&gt; «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="7874" x2="8259" y1="484.0938" y2="484.0938"/></g><!--MD5=[968b2d173d43a39003603e0aa91254bc]
class GenericResultMessage--><g id="elem_GenericResultMessage"><rect codeLine="132" fill="#F1F1F1" height="113.1875" id="GenericResultMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="559" x="349" y="395.5"/><ellipse cx="543.75" cy="411.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M546.7188,417.1406 Q546.1406,417.4375 545.5,417.5781 Q544.8594,417.7344 544.1563,417.7344 Q541.6563,417.7344 540.3281,416.0938 Q539.0156,414.4375 539.0156,411.3125 Q539.0156,408.1875 540.3281,406.5313 Q541.6563,404.875 544.1563,404.875 Q544.8594,404.875 545.5,405.0313 Q546.1563,405.1875 546.7188,405.4844 L546.7188,408.2031 Q546.0938,407.625 545.5,407.3594 Q544.9063,407.0781 544.2813,407.0781 Q542.9375,407.0781 542.25,408.1563 Q541.5625,409.2188 541.5625,411.3125 Q541.5625,413.4063 542.25,414.4844 Q542.9375,415.5469 544.2813,415.5469 Q544.9063,415.5469 545.5,415.2813 Q546.0938,415 546.7188,414.4219 L546.7188,417.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="161" x="564.25" y="416.3467">GenericResultMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="350" x2="907" y1="427.5" y2="427.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="350" x2="907" y1="435.5" y2="435.5"/><ellipse cx="360" cy="449.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="456" x="369" y="452.4951">AsResultMessage(result:TPayload?) : IResultMessage&lt;TPayload&gt;</text><ellipse cx="360" cy="465.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="437" x="369" y="468.792">AsResultMessage(result:object?) : IResultMessage&lt;TPayload&gt;</text><ellipse cx="360" cy="481.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="517" x="369" y="485.0889">AsErrorResultMessage(exception:Exception) : IResultMessage&lt;TPayload&gt;</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="533" x="369" y="501.3857">«internal» FindResultException(message:IMessage&lt;TPayload&gt;) : Exception?</text></g><!--MD5=[78b75525c5a8512815980d7b2e1eab66]
class IEventMessage`1--><g id="elem_IEventMessage`1"><rect codeLine="138" fill="#F1F1F1" height="64.2969" id="IEventMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="8578.5" y="420"/><ellipse cx="8593.5" cy="436" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M8589.4219,431.7656 L8589.4219,429.6094 L8596.8125,429.6094 L8596.8125,431.7656 L8594.3438,431.7656 L8594.3438,439.8438 L8596.8125,439.8438 L8596.8125,442 L8589.4219,442 L8589.4219,439.8438 L8591.8906,439.8438 L8591.8906,431.7656 L8589.4219,431.7656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="121" x="8607.5" y="440.8467">IEventMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="83" x="8736.5" y="417"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="8737.5" y="429.1387">out TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="8579.5" x2="8815.5" y1="452" y2="452"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="202" x="8584.5" y="468.9951">Timestamp : DateTime «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="8579.5" x2="8815.5" y1="476.2969" y2="476.2969"/></g><!--MD5=[adf464ab485d35ee4e8301d4b01800c6]
class GenericCommandMessage`1--><g id="elem_GenericCommandMessage`1"><rect codeLine="142" fill="#F1F1F1" height="145.7813" id="GenericCommandMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="744" x="9149.5" y="780.5"/><ellipse cx="9385.25" cy="796.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M9388.2188,802.1406 Q9387.6406,802.4375 9387,802.5781 Q9386.3594,802.7344 9385.6563,802.7344 Q9383.1563,802.7344 9381.8281,801.0938 Q9380.5156,799.4375 9380.5156,796.3125 Q9380.5156,793.1875 9381.8281,791.5313 Q9383.1563,789.875 9385.6563,789.875 Q9386.3594,789.875 9387,790.0313 Q9387.6563,790.1875 9388.2188,790.4844 L9388.2188,793.2031 Q9387.5938,792.625 9387,792.3594 Q9386.4063,792.0781 9385.7813,792.0781 Q9384.4375,792.0781 9383.75,793.1563 Q9383.0625,794.2188 9383.0625,796.3125 Q9383.0625,798.4063 9383.75,799.4844 Q9384.4375,800.5469 9385.7813,800.5469 Q9386.4063,800.5469 9387,800.2813 Q9387.5938,800 9388.2188,799.4219 L9388.2188,802.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="204" x="9405.75" y="801.3467">GenericCommandMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="58" x="9838.5" y="777.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="9839.5" y="789.6387">TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="9150.5" x2="9892.5" y1="812.5" y2="812.5"/><ellipse cx="9160.5" cy="826.1484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="208" x="9169.5" y="829.4951">CommandName : string «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="9150.5" x2="9892.5" y1="836.7969" y2="836.7969"/><ellipse cx="9160.5" cy="850.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="318" x="9169.5" y="853.792">GenericCommandMessage(payload:TPayload)</text><ellipse cx="9160.5" cy="866.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="695" x="9169.5" y="870.0889">GenericCommandMessage(payload:TPayload, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text><ellipse cx="9160.5" cy="883.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="580" x="9169.5" y="886.3857">GenericCommandMessage(message:IMessage&lt;TPayload&gt;, commandName:string)</text><ellipse cx="9160.5" cy="899.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="718" x="9169.5" y="902.6826">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text><ellipse cx="9160.5" cy="915.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="715" x="9169.5" y="918.9795">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text></g><!--MD5=[e9a257493b5a51fd4af956a7d643ce18]
class MessageDecorator`1--><g id="elem_MessageDecorator`1"><rect codeLine="158" fill="#F1F1F1" height="178.375" id="MessageDecorator`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="666" x="8851.5" y="363"/><ellipse cx="9076.25" cy="379" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M9076.3594,374.3438 L9075.2031,379.4219 L9077.5313,379.4219 L9076.3594,374.3438 Z M9074.875,372.1094 L9077.8594,372.1094 L9081.2188,384.5 L9078.7656,384.5 L9078,381.4375 L9074.7188,381.4375 L9073.9688,384.5 L9071.5313,384.5 L9074.875,372.1094 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="148" x="9096.75" y="383.8467">MessageDecorator`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="58" x="9462.5" y="360"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="9463.5" y="372.1387">TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="8852.5" x2="9516.5" y1="395" y2="395"/><ellipse cx="8862.5" cy="408.6484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="273" x="8871.5" y="411.9951">Message : IMessage&lt;TPayload&gt; «get»</text><ellipse cx="8862.5" cy="424.9453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="156" x="8871.5" y="428.292">Identifier : string «get»</text><ellipse cx="8862.5" cy="441.2422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="190" x="8871.5" y="444.5889">MetaData : MetaData «get»</text><ellipse cx="8862.5" cy="457.5391" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="180" x="8871.5" y="460.8857">Payload : TPayload? «get»</text><ellipse cx="8862.5" cy="473.8359" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="179" x="8871.5" y="477.1826">PayloadType : Type «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="8852.5" x2="9516.5" y1="484.4844" y2="484.4844"/><ellipse cx="8862.5" cy="498.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="363" x="8871.5" y="501.4795">MessageDecorator(message:IMessage&lt;TPayload&gt;)</text><ellipse cx="8862.5" cy="514.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="640" x="8871.5" y="517.7764">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text><ellipse cx="8862.5" cy="530.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="637" x="8871.5" y="534.0732">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text></g><!--MD5=[2cb2aba1546663237a7a2bb3ba13ebe0]
class ICommandMessage`1--><g id="elem_ICommandMessage`1"><rect codeLine="283" fill="#F1F1F1" height="64.2969" id="ICommandMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="270" x="9552.5" y="420"/><ellipse cx="9567.5" cy="436" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M9563.4219,431.7656 L9563.4219,429.6094 L9570.8125,429.6094 L9570.8125,431.7656 L9568.3438,431.7656 L9568.3438,439.8438 L9570.8125,439.8438 L9570.8125,442 L9563.4219,442 L9563.4219,439.8438 L9565.8906,439.8438 L9565.8906,431.7656 L9563.4219,431.7656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="153" x="9581.5" y="440.8467">ICommandMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="83" x="9742.5" y="417"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="81" x="9743.5" y="429.1387">out TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="9553.5" x2="9821.5" y1="452" y2="452"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="208" x="9558.5" y="468.9951">CommandName : string «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="9553.5" x2="9821.5" y1="476.2969" y2="476.2969"/></g><!--MD5=[5ba67e2980ce1dd7650e3ccb31f314f1]
class IResultMessage`1--><g id="elem_IResultMessage`1"><rect codeLine="152" fill="#F1F1F1" height="96.8906" id="IResultMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="233" x="10513" y="403.5"/><ellipse cx="10528" cy="419.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M10523.9219,415.2656 L10523.9219,413.1094 L10531.3125,413.1094 L10531.3125,415.2656 L10528.8438,415.2656 L10528.8438,423.3438 L10531.3125,423.3438 L10531.3125,425.5 L10523.9219,425.5 L10523.9219,423.3438 L10526.3906,423.3438 L10526.3906,415.2656 L10523.9219,415.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="126" x="10542" y="424.3467">IResultMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="73" x="10676" y="400.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="10677" y="412.6387">out TResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="10514" x2="10745" y1="435.5" y2="435.5"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="158" x="10533" y="452.4951">IsSuccess : bool «get»</text><ellipse cx="10524" cy="465.4453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="178" x="10533" y="468.792">IsExceptional : bool «get»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="201" x="10533" y="485.0889">Exception : Exception? «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="10514" x2="10745" y1="492.3906" y2="492.3906"/></g><!--MD5=[deade2f3c406fcfaed8243a96b4e5c2a]
class GenericEventMessage`1--><g id="elem_GenericEventMessage`1"><rect codeLine="169" fill="#F1F1F1" height="162.0781" id="GenericEventMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="834" x="8280.5" y="772.5"/><ellipse cx="8577.25" cy="788.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M8580.2188,794.1406 Q8579.6406,794.4375 8579,794.5781 Q8578.3594,794.7344 8577.6563,794.7344 Q8575.1563,794.7344 8573.8281,793.0938 Q8572.5156,791.4375 8572.5156,788.3125 Q8572.5156,785.1875 8573.8281,783.5313 Q8575.1563,781.875 8577.6563,781.875 Q8578.3594,781.875 8579,782.0313 Q8579.6563,782.1875 8580.2188,782.4844 L8580.2188,785.2031 Q8579.5938,784.625 8579,784.3594 Q8578.4063,784.0781 8577.7813,784.0781 Q8576.4375,784.0781 8575.75,785.1563 Q8575.0625,786.2188 8575.0625,788.3125 Q8575.0625,790.4063 8575.75,791.4844 Q8576.4375,792.5469 8577.7813,792.5469 Q8578.4063,792.5469 8579,792.2813 Q8579.5938,792 8580.2188,791.4219 L8580.2188,794.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="172" x="8597.75" y="793.3467">GenericEventMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="58" x="9059.5" y="769.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="9060.5" y="781.6387">TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="8281.5" x2="9113.5" y1="804.5" y2="804.5"/><ellipse cx="8291.5" cy="818.1484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="202" x="8300.5" y="821.4951">Timestamp : DateTime «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="8281.5" x2="9113.5" y1="828.7969" y2="828.7969"/><ellipse cx="8291.5" cy="842.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="286" x="8300.5" y="845.792">GenericEventMessage(payload:TPayload)</text><ellipse cx="8291.5" cy="858.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="663" x="8300.5" y="862.0889">GenericEventMessage(payload:TPayload, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text><ellipse cx="8291.5" cy="875.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="387" x="8300.5" y="878.3857">GenericEventMessage(message:IMessage&lt;TPayload&gt;)</text><ellipse cx="8291.5" cy="891.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="654" x="8300.5" y="894.6826">GenericEventMessage(message:IMessage&lt;TPayload&gt;, timestampSupplier:Func&lt;DateTime&gt;)</text><ellipse cx="8291.5" cy="907.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="808" x="8300.5" y="910.9795">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericEventMessage&lt;TPayload&gt;</text><ellipse cx="8291.5" cy="923.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="805" x="8300.5" y="927.2764">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericEventMessage&lt;TPayload&gt;</text></g><!--MD5=[91e241189aae376f6ed335a9435517df]
class MetaData--><g id="elem_MetaData"><rect codeLine="180" fill="#F1F1F1" height="471.7188" id="MetaData" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="614" x="7223.5" y="216"/><ellipse cx="7493.25" cy="232" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M7496.2188,237.6406 Q7495.6406,237.9375 7495,238.0781 Q7494.3594,238.2344 7493.6563,238.2344 Q7491.1563,238.2344 7489.8281,236.5938 Q7488.5156,234.9375 7488.5156,231.8125 Q7488.5156,228.6875 7489.8281,227.0313 Q7491.1563,225.375 7493.6563,225.375 Q7494.3594,225.375 7495,225.5313 Q7495.6563,225.6875 7496.2188,225.9844 L7496.2188,228.7031 Q7495.5938,228.125 7495,227.8594 Q7494.4063,227.5781 7493.7813,227.5781 Q7492.4375,227.5781 7491.75,228.6563 Q7491.0625,229.7188 7491.0625,231.8125 Q7491.0625,233.9063 7491.75,234.9844 Q7492.4375,236.0469 7493.7813,236.0469 Q7494.4063,236.0469 7495,235.7813 Q7495.5938,235.5 7496.2188,234.9219 L7496.2188,237.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="66" x="7513.75" y="236.8467">MetaData</text><line style="stroke:#181818;stroke-width:0.5;" x1="7224.5" x2="7836.5" y1="248" y2="248"/><ellipse cx="7234.5" cy="261.6484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="262" x="7243.5" y="264.9951">«readonly» EmptyInstance : MetaData</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="7231.5" y="274.9453"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="389" x="7243.5" y="281.292">«readonly» values : IReadOnlyDictionary&lt;string, object&gt;</text><ellipse cx="7234.5" cy="294.2422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="117" x="7243.5" y="297.5889">Count : int «get»</text><ellipse cx="7234.5" cy="310.5391" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="165" x="7243.5" y="313.8857">IsReadOnly : bool «get»</text><ellipse cx="7234.5" cy="326.8359" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="142" x="7243.5" y="330.1826">IsEmpty : bool «get»</text><ellipse cx="7234.5" cy="343.1328" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="240" x="7243.5" y="346.4795">Keys : IEnumerable&lt;string&gt; «get»</text><ellipse cx="7234.5" cy="359.4297" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="257" x="7243.5" y="362.7764">Values : IEnumerable&lt;object&gt; «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="7224.5" x2="7836.5" y1="370.0781" y2="370.0781"/><ellipse cx="7234.5" cy="383.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="76" x="7243.5" y="387.0732">MetaData()</text><ellipse cx="7234.5" cy="400.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="431" x="7243.5" y="403.3701">MetaData(items:IEnumerable&lt;KeyValuePair&lt;string, object&gt;&gt;)</text><ellipse cx="7234.5" cy="416.3203" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="541" x="7243.5" y="419.667">From(metaDataEntries:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : MetaData</text><ellipse cx="7234.5" cy="432.6172" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="279" x="7243.5" y="435.9639">With(key:string, value:object) : MetaData</text><ellipse cx="7234.5" cy="448.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="276" x="7243.5" y="452.2607">And(key:string, value:object) : MetaData</text><ellipse cx="7234.5" cy="465.2109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="315" x="7243.5" y="468.5576">Add(item:KeyValuePair&lt;string, object&gt;) : void</text><ellipse cx="7234.5" cy="481.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="86" x="7243.5" y="484.8545">Clear() : void</text><ellipse cx="7234.5" cy="497.8047" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="351" x="7243.5" y="501.1514">Contains(item:KeyValuePair&lt;string, object&gt;) : bool</text><ellipse cx="7234.5" cy="514.1016" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="454" x="7243.5" y="517.4482">CopyTo(array:KeyValuePair&lt;string, object&gt;[], arrayIndex:int) : void</text><ellipse cx="7234.5" cy="530.3984" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="347" x="7243.5" y="533.7451">Remove(item:KeyValuePair&lt;string, object&gt;) : bool</text><ellipse cx="7234.5" cy="546.6953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="207" x="7243.5" y="550.042">ContainsKey(key:string) : bool</text><ellipse cx="7234.5" cy="562.9922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="297" x="7243.5" y="566.3389">TryGetValue(key:string, value:object) : bool</text><ellipse cx="7234.5" cy="579.2891" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="439" x="7243.5" y="582.6357">GetEnumerator() : IEnumerator&lt;KeyValuePair&lt;string, object&gt;&gt;</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="213" x="7243.5" y="598.9326">GetEnumerator() : IEnumerator</text><ellipse cx="7234.5" cy="611.8828" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="445" x="7243.5" y="615.2295">Equals(other:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;?) : bool</text><ellipse cx="7234.5" cy="628.1797" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="253" x="7243.5" y="631.5264">«override» Equals(obj:object?) : bool</text><ellipse cx="7234.5" cy="644.4766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="215" x="7243.5" y="647.8232">«override» GetHashCode() : int</text><ellipse cx="7234.5" cy="660.7734" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="588" x="7243.5" y="664.1201">MergedWith(additionalEntries:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : MetaData</text><polygon fill="#FFFF44" points="7234.5,672.0703,7238.5,676.0703,7234.5,680.0703,7230.5,676.0703" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="207" x="7243.5" y="680.417">Equals(other:MetaData) : bool</text></g><!--MD5=[6151ec3b6f1b7c64b99e637b3b2cd5f4]
class IReadOnlyDictionary`2--><g id="elem_IReadOnlyDictionary`2"><rect fill="#F1F1F1" height="48" id="IReadOnlyDictionary`2" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="185" x="7344" y="59"/><ellipse cx="7359" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M7361.9688,80.6406 Q7361.3906,80.9375 7360.75,81.0781 Q7360.1094,81.2344 7359.4063,81.2344 Q7356.9063,81.2344 7355.5781,79.5938 Q7354.2656,77.9375 7354.2656,74.8125 Q7354.2656,71.6875 7355.5781,70.0313 Q7356.9063,68.375 7359.4063,68.375 Q7360.1094,68.375 7360.75,68.5313 Q7361.4063,68.6875 7361.9688,68.9844 L7361.9688,71.7031 Q7361.3438,71.125 7360.75,70.8594 Q7360.1563,70.5781 7359.5313,70.5781 Q7358.1875,70.5781 7357.5,71.6563 Q7356.8125,72.7188 7356.8125,74.8125 Q7356.8125,76.9063 7357.5,77.9844 Q7358.1875,79.0469 7359.5313,79.0469 Q7360.1563,79.0469 7360.75,78.7813 Q7361.3438,78.5 7361.9688,77.9219 L7361.9688,80.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="153" x="7373" y="79.8467">IReadOnlyDictionary`2</text><line style="stroke:#181818;stroke-width:0.5;" x1="7345" x2="7528" y1="91" y2="91"/><line style="stroke:#181818;stroke-width:0.5;" x1="7345" x2="7528" y1="99" y2="99"/></g><!--MD5=[4d8340c4a1b73a1fc3717b1331afe7d0]
class ICollection`1--><g id="elem_ICollection`1"><rect fill="#F1F1F1" height="48" id="ICollection`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="7564" y="59"/><ellipse cx="7579" cy="75" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M7581.9688,80.6406 Q7581.3906,80.9375 7580.75,81.0781 Q7580.1094,81.2344 7579.4063,81.2344 Q7576.9063,81.2344 7575.5781,79.5938 Q7574.2656,77.9375 7574.2656,74.8125 Q7574.2656,71.6875 7575.5781,70.0313 Q7576.9063,68.375 7579.4063,68.375 Q7580.1094,68.375 7580.75,68.5313 Q7581.4063,68.6875 7581.9688,68.9844 L7581.9688,71.7031 Q7581.3438,71.125 7580.75,70.8594 Q7580.1563,70.5781 7579.5313,70.5781 Q7578.1875,70.5781 7577.5,71.6563 Q7576.8125,72.7188 7576.8125,74.8125 Q7576.8125,76.9063 7577.5,77.9844 Q7578.1875,79.0469 7579.5313,79.0469 Q7580.1563,79.0469 7580.75,78.7813 Q7581.3438,78.5 7581.9688,77.9219 L7581.9688,80.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="87" x="7593" y="79.8467">ICollection`1</text><line style="stroke:#181818;stroke-width:0.5;" x1="7565" x2="7682" y1="91" y2="91"/><line style="stroke:#181818;stroke-width:0.5;" x1="7565" x2="7682" y1="99" y2="99"/></g><!--MD5=[8ac22b54ba2d40f541848c9f1c5842eb]
class GenericCommandResultMessage`1--><g id="elem_GenericCommandResultMessage`1"><rect codeLine="211" fill="#F1F1F1" height="178.375" id="GenericCommandResultMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="901" x="9899" y="1035.5"/><ellipse cx="10196.25" cy="1051.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M10199.2188,1057.1406 Q10198.6406,1057.4375 10198,1057.5781 Q10197.3594,1057.7344 10196.6563,1057.7344 Q10194.1563,1057.7344 10192.8281,1056.0938 Q10191.5156,1054.4375 10191.5156,1051.3125 Q10191.5156,1048.1875 10192.8281,1046.5313 Q10194.1563,1044.875 10196.6563,1044.875 Q10197.3594,1044.875 10198,1045.0313 Q10198.6563,1045.1875 10199.2188,1045.4844 L10199.2188,1048.2031 Q10198.5938,1047.625 10198,1047.3594 Q10197.4063,1047.0781 10196.7813,1047.0781 Q10195.4375,1047.0781 10194.75,1048.1563 Q10194.0625,1049.2188 10194.0625,1051.3125 Q10194.0625,1053.4063 10194.75,1054.4844 Q10195.4375,1055.5469 10196.7813,1055.5469 Q10197.4063,1055.5469 10198,1055.2813 Q10198.5938,1055 10199.2188,1054.4219 L10199.2188,1057.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="248" x="10216.75" y="1056.3467">GenericCommandResultMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="48" x="10755" y="1032.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46" x="10756" y="1044.6387">TResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="9900" x2="10799" y1="1067.5" y2="1067.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="9900" x2="10799" y1="1075.5" y2="1075.5"/><ellipse cx="9910" cy="1089.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="420" x="9919" y="1092.4951">GenericCommandResultMessage(commandResult:TResult?)</text><ellipse cx="9910" cy="1105.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="383" x="9919" y="1108.792">GenericCommandResultMessage(exception:Exception)</text><ellipse cx="9910" cy="1121.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="566" x="9919" y="1125.0889">GenericCommandResultMessage(commandResult:TResult?, metaData:MetaData)</text><ellipse cx="9910" cy="1138.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="529" x="9919" y="1141.3857">GenericCommandResultMessage(exception:Exception, metaData:MetaData)</text><ellipse cx="9910" cy="1154.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="454" x="9919" y="1157.6826">GenericCommandResultMessage(message:IMessage&lt;TResult&gt;)</text><ellipse cx="9910" cy="1170.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="610" x="9919" y="1173.9795">GenericCommandResultMessage(message:IMessage&lt;TResult&gt;, exception:Exception?)</text><ellipse cx="9910" cy="1186.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="875" x="9919" y="1190.2764">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericCommandResultMessage&lt;TResult&gt;</text><ellipse cx="9910" cy="1203.2266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="872" x="9919" y="1206.5732">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericCommandResultMessage&lt;TResult&gt;</text></g><!--MD5=[cea53389005ada9b98e6be4053505e8e]
class ICommandResultMessage`1--><g id="elem_ICommandResultMessage`1"><rect codeLine="291" fill="#F1F1F1" height="48" id="ICommandResultMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="304" x="10802.5" y="829.5"/><ellipse cx="10817.5" cy="845.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M10813.4219,841.2656 L10813.4219,839.1094 L10820.8125,839.1094 L10820.8125,841.2656 L10818.3438,841.2656 L10818.3438,849.3438 L10820.8125,849.3438 L10820.8125,851.5 L10813.4219,851.5 L10813.4219,849.3438 L10815.8906,849.3438 L10815.8906,841.2656 L10813.4219,841.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="197" x="10831.5" y="850.3467">ICommandResultMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="73" x="11036.5" y="826.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71" x="11037.5" y="838.6387">out TResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="10803.5" x2="11105.5" y1="861.5" y2="861.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="10803.5" x2="11105.5" y1="869.5" y2="869.5"/></g><!--MD5=[5b54f99e8779eb742e61590e37f23f31]
class GenericCommandMessage--><g id="elem_GenericCommandMessage"><rect codeLine="226" fill="#F1F1F1" height="88.8594" id="GenericCommandMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="579" x="943" y="407.5"/><ellipse cx="1134.25" cy="427.6328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1137.2188,433.2734 Q1136.6406,433.5703 1136,433.7109 Q1135.3594,433.8672 1134.6563,433.8672 Q1132.1563,433.8672 1130.8281,432.2266 Q1129.5156,430.5703 1129.5156,427.4453 Q1129.5156,424.3203 1130.8281,422.6641 Q1132.1563,421.0078 1134.6563,421.0078 Q1135.3594,421.0078 1136,421.1641 Q1136.6563,421.3203 1137.2188,421.6172 L1137.2188,424.3359 Q1136.5938,423.7578 1136,423.4922 Q1135.4063,423.2109 1134.7813,423.2109 Q1133.4375,423.2109 1132.75,424.2891 Q1132.0625,425.3516 1132.0625,427.4453 Q1132.0625,429.5391 1132.75,430.6172 Q1133.4375,431.6797 1134.7813,431.6797 Q1135.4063,431.6797 1136,431.4141 Q1136.5938,431.1328 1137.2188,430.5547 L1137.2188,433.2734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="1224.25" y="423.6387">«static»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="188" x="1154.75" y="439.4639">GenericCommandMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="944" x2="1521" y1="447.7656" y2="447.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="944" x2="1521" y1="455.7656" y2="455.7656"/><ellipse cx="954" cy="469.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="553" x="963" y="472.7607">AsCommandMessage(command:TMessage) : ICommandMessage&lt;TMessage&gt;</text><ellipse cx="954" cy="485.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="524" x="963" y="489.0576">AsCommandMessage(command:object) : ICommandMessage&lt;TMessage&gt;</text></g><!--MD5=[3a2cf67ff0be088167fce4a585ad6cce]
class MessageHandler`1--><g id="elem_MessageHandler`1"><rect codeLine="230" fill="#F1F1F1" height="96.8906" id="MessageHandler`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="447" x="12046" y="403.5"/><ellipse cx="12165.75" cy="419.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M12165.8594,414.8438 L12164.7031,419.9219 L12167.0313,419.9219 L12165.8594,414.8438 Z M12164.375,412.6094 L12167.3594,412.6094 L12170.7188,425 L12168.2656,425 L12167.5,421.9375 L12164.2188,421.9375 L12163.4688,425 L12161.0313,425 L12164.375,412.6094 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="132" x="12186.25" y="424.3467">MessageHandler`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="65" x="12431" y="400.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="63" x="12432" y="412.6387">TMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="12047" x2="12492" y1="435.5" y2="435.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="12047" x2="12492" y1="443.5" y2="443.5"/><ellipse cx="12057" cy="457.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="360" x="12066" y="460.4951">HandleAsync(message:TMessage) : Task&lt;object?&gt;</text><ellipse cx="12057" cy="473.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="421" x="12066" y="476.792">HandleAsync(message:IMessage&lt;object&gt;) : Task&lt;object?&gt;</text><ellipse cx="12057" cy="489.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="302" x="12066" y="493.0889">«virtual» CanHandle(message:object) : bool</text></g><!--MD5=[00a932a8b4842f2c6bdf3db3c8c31600]
class IMessageHandler--><g id="elem_IMessageHandler"><rect codeLine="298" fill="#F1F1F1" height="80.5938" id="IMessageHandler" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="433" x="12053" y="42.5"/><ellipse cx="12205.75" cy="58.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M12201.6719,54.2656 L12201.6719,52.1094 L12209.0625,52.1094 L12209.0625,54.2656 L12206.5938,54.2656 L12206.5938,62.3438 L12209.0625,62.3438 L12209.0625,64.5 L12201.6719,64.5 L12201.6719,62.3438 L12204.1406,62.3438 L12204.1406,54.2656 L12201.6719,54.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="119" x="12226.25" y="63.3467">IMessageHandler</text><line style="stroke:#181818;stroke-width:0.5;" x1="12054" x2="12485" y1="74.5" y2="74.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="12054" x2="12485" y1="82.5" y2="82.5"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="421" x="12059" y="99.4951">HandleAsync(message:IMessage&lt;object&gt;) : Task&lt;object?&gt;</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="240" x="12059" y="115.792">CanHandle(message:object) : bool</text></g><!--MD5=[afef4dc25526350edcada1bedc2abbc3]
class GenericCommandResultMessage--><g id="elem_GenericCommandResultMessage"><rect codeLine="236" fill="#F1F1F1" height="80.5938" id="GenericCommandResultMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="685" x="1557" y="411.5"/><ellipse cx="1779.25" cy="427.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1782.2188,433.1406 Q1781.6406,433.4375 1781,433.5781 Q1780.3594,433.7344 1779.6563,433.7344 Q1777.1563,433.7344 1775.8281,432.0938 Q1774.5156,430.4375 1774.5156,427.3125 Q1774.5156,424.1875 1775.8281,422.5313 Q1777.1563,420.875 1779.6563,420.875 Q1780.3594,420.875 1781,421.0313 Q1781.6563,421.1875 1782.2188,421.4844 L1782.2188,424.2031 Q1781.5938,423.625 1781,423.3594 Q1780.4063,423.0781 1779.7813,423.0781 Q1778.4375,423.0781 1777.75,424.1563 Q1777.0625,425.2188 1777.0625,427.3125 Q1777.0625,429.4063 1777.75,430.4844 Q1778.4375,431.5469 1779.7813,431.5469 Q1780.4063,431.5469 1781,431.2813 Q1781.5938,431 1782.2188,430.4219 L1782.2188,433.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="232" x="1799.75" y="432.3467">GenericCommandResultMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="1558" x2="2241" y1="443.5" y2="443.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1558" x2="2241" y1="451.5" y2="451.5"/><ellipse cx="1568" cy="465.1484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="644" x="1577" y="468.4951">AsCommandResultMessage(commandResult:object?) : ICommandResultMessage&lt;TResult&gt;</text><ellipse cx="1568" cy="481.4453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="659" x="1577" y="484.792">AsCommandResultErrorMessage(exception:TException) : ICommandResultMessage&lt;TResult&gt;</text></g><!--MD5=[1cfc2350cc95f020a67412e322e33296]
class GenericMessage`1--><g id="elem_GenericMessage`1"><rect codeLine="254" fill="#F1F1F1" height="210.9688" id="GenericMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="962" x="11478.5" y="748"/><ellipse cx="11858.75" cy="764" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M11861.7188,769.6406 Q11861.1406,769.9375 11860.5,770.0781 Q11859.8594,770.2344 11859.1563,770.2344 Q11856.6563,770.2344 11855.3281,768.5938 Q11854.0156,766.9375 11854.0156,763.8125 Q11854.0156,760.6875 11855.3281,759.0313 Q11856.6563,757.375 11859.1563,757.375 Q11859.8594,757.375 11860.5,757.5313 Q11861.1563,757.6875 11861.7188,757.9844 L11861.7188,760.7031 Q11861.0938,760.125 11860.5,759.8594 Q11859.9063,759.5781 11859.2813,759.5781 Q11857.9375,759.5781 11857.25,760.6563 Q11856.5625,761.7188 11856.5625,763.8125 Q11856.5625,765.9063 11857.25,766.9844 Q11857.9375,768.0469 11859.2813,768.0469 Q11859.9063,768.0469 11860.5,767.7813 Q11861.0938,767.5 11861.7188,766.9219 L11861.7188,769.6406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="133" x="11879.25" y="768.8467">GenericMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="58" x="12385.5" y="745"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="12386.5" y="757.1387">TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="11479.5" x2="12439.5" y1="780" y2="780"/><ellipse cx="11489.5" cy="793.6484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="268" x="11498.5" y="796.9951">«override» MetaData : MetaData «get»</text><ellipse cx="11489.5" cy="809.9453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="258" x="11498.5" y="813.292">«override» Payload : TPayload? «get»</text><ellipse cx="11489.5" cy="826.2422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="257" x="11498.5" y="829.5889">«override» PayloadType : Type «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="11479.5" x2="12439.5" y1="836.8906" y2="836.8906"/><ellipse cx="11489.5" cy="850.5391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="254" x="11498.5" y="853.8857">GenericMessage(payload:TPayload?)</text><ellipse cx="11489.5" cy="866.8359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="631" x="11498.5" y="870.1826">GenericMessage(payload:TPayload?, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text><ellipse cx="11489.5" cy="883.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="825" x="11498.5" y="886.4795">GenericMessage(declaredPayloadType:Type, payload:TPayload?, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text><ellipse cx="11489.5" cy="899.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="742" x="11498.5" y="902.7764">GenericMessage(identifier:string, payload:TPayload?, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text><ellipse cx="11489.5" cy="915.7266" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="936" x="11498.5" y="919.0732">GenericMessage(identifier:string, declaredPayloadType:Type, payload:TPayload?, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="11486.5" y="929.0234"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="530" x="11498.5" y="935.3701">GenericMessage(original:GenericMessage&lt;TPayload&gt;, metaData:MetaData)</text><polygon fill="#FFFF44" points="11489.5,943.3203,11493.5,947.3203,11489.5,951.3203,11485.5,947.3203" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="538" x="11498.5" y="951.667">«override» WithMetaData(metaData:MetaData) : GenericMessage&lt;TPayload&gt;</text></g><!--MD5=[271e8be4b42c8b4d9e62b4924bf5f582]
class AbstractMessage`1--><g id="elem_AbstractMessage`1"><rect codeLine="272" fill="#F1F1F1" height="178.375" id="AbstractMessage`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="666" x="11344.5" y="363"/><ellipse cx="11575.25" cy="379" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M11575.3594,374.3438 L11574.2031,379.4219 L11576.5313,379.4219 L11575.3594,374.3438 Z M11573.875,372.1094 L11576.8594,372.1094 L11580.2188,384.5 L11577.7656,384.5 L11577,381.4375 L11573.7188,381.4375 L11572.9688,384.5 L11570.5313,384.5 L11573.875,372.1094 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="136" x="11595.75" y="383.8467">AbstractMessage`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="58" x="11955.5" y="360"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="56" x="11956.5" y="372.1387">TPayload</text><line style="stroke:#181818;stroke-width:0.5;" x1="11345.5" x2="12009.5" y1="395" y2="395"/><ellipse cx="11355.5" cy="408.6484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="156" x="11364.5" y="411.9951">Identifier : string «get»</text><ellipse cx="11355.5" cy="424.9453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="190" x="11364.5" y="428.292">MetaData : MetaData «get»</text><ellipse cx="11355.5" cy="441.2422" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="180" x="11364.5" y="444.5889">Payload : TPayload? «get»</text><ellipse cx="11355.5" cy="457.5391" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="179" x="11364.5" y="460.8857">PayloadType : Type «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="11345.5" x2="12009.5" y1="468.1875" y2="468.1875"/><polygon fill="#FFFF44" points="11355.5,476.8359,11359.5,480.8359,11355.5,484.8359,11351.5,480.8359" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="233" x="11364.5" y="485.1826">AbstractMessage(identifier:string)</text><ellipse cx="11355.5" cy="498.1328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="640" x="11364.5" y="501.4795">WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text><ellipse cx="11355.5" cy="514.4297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="637" x="11364.5" y="517.7764">AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IMessage&lt;TPayload&gt;</text><polygon fill="#FFFF44" points="11355.5,525.7266,11359.5,529.7266,11355.5,533.7266,11351.5,529.7266" style="stroke:#B38D22;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="409" x="11364.5" y="534.0732">WithMetaData(metaData:MetaData) : IMessage&lt;TPayload&gt;</text></g><!--MD5=[d28f94966e52f4faf048527be72e3f26]
class GenericQueryResponseMessage--><g id="elem_GenericQueryResponseMessage"><rect codeLine="267" fill="#F1F1F1" height="105.1563" id="GenericQueryResponseMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="744" x="2276.5" y="399.5"/><ellipse cx="2529.75" cy="419.6328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2532.7188,425.2734 Q2532.1406,425.5703 2531.5,425.7109 Q2530.8594,425.8672 2530.1563,425.8672 Q2527.6563,425.8672 2526.3281,424.2266 Q2525.0156,422.5703 2525.0156,419.4453 Q2525.0156,416.3203 2526.3281,414.6641 Q2527.6563,413.0078 2530.1563,413.0078 Q2530.8594,413.0078 2531.5,413.1641 Q2532.1563,413.3203 2532.7188,413.6172 L2532.7188,416.3359 Q2532.0938,415.7578 2531.5,415.4922 Q2530.9063,415.2109 2530.2813,415.2109 Q2528.9375,415.2109 2528.25,416.2891 Q2527.5625,417.3516 2527.5625,419.4453 Q2527.5625,421.5391 2528.25,422.6172 Q2528.9375,423.6797 2530.2813,423.6797 Q2530.9063,423.6797 2531.5,423.4141 Q2532.0938,423.1328 2532.7188,422.5547 L2532.7188,425.2734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="2640.25" y="415.6387">«static»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="229" x="2550.25" y="431.4639">GenericQueryResponseMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="2277.5" x2="3019.5" y1="439.7656" y2="439.7656"/><line style="stroke:#181818;stroke-width:0.5;" x1="2277.5" x2="3019.5" y1="447.7656" y2="447.7656"/><ellipse cx="2287.5" cy="461.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="516" x="2296.5" y="464.7607">AsResponseMessage(result:object) : IQueryResponseMessage&lt;TResult&gt;</text><ellipse cx="2287.5" cy="477.7109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="718" x="2296.5" y="481.0576">AsNullableResponseMessage(declaredType:Type, result:object?) : IQueryResponseMessage&lt;TResult&gt;</text><ellipse cx="2287.5" cy="494.0078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="711" x="2296.5" y="497.3545">AsResponseMessage(declaredType:Type, exception:Exception) : IQueryResponseMessage&lt;TResult&gt;</text></g><!--MD5=[fadd0f832754c5c424dc290238afd56d]
class GenericMessage--><g id="elem_GenericMessage"><rect codeLine="287" fill="#F1F1F1" height="88.8594" id="GenericMessage" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="457" x="400" y="809"/><ellipse cx="565.75" cy="829.1328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M568.7188,834.7734 Q568.1406,835.0703 567.5,835.2109 Q566.8594,835.3672 566.1563,835.3672 Q563.6563,835.3672 562.3281,833.7266 Q561.0156,832.0703 561.0156,828.9453 Q561.0156,825.8203 562.3281,824.1641 Q563.6563,822.5078 566.1563,822.5078 Q566.8594,822.5078 567.5,822.6641 Q568.1563,822.8203 568.7188,823.1172 L568.7188,825.8359 Q568.0938,825.2578 567.5,824.9922 Q566.9063,824.7109 566.2813,824.7109 Q564.9375,824.7109 564.25,825.7891 Q563.5625,826.8516 563.5625,828.9453 Q563.5625,831.0391 564.25,832.1172 Q564.9375,833.1797 566.2813,833.1797 Q566.9063,833.1797 567.5,832.9141 Q568.0938,832.6328 568.7188,832.0547 L568.7188,834.7734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="620.25" y="825.1387">«static»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="117" x="586.25" y="840.9639">GenericMessage</text><line style="stroke:#181818;stroke-width:0.5;" x1="401" x2="856" y1="849.2656" y2="849.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="401" x2="856" y1="857.2656" y2="857.2656"/><ellipse cx="411" cy="870.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="344" x="420" y="874.2607">AsMessage(payload:object?) : IMessage&lt;object&gt;</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="431" x="420" y="890.5576">«internal» GetDeclaredPayloadType(payload:TPayload?) : Type</text></g><!--MD5=[78463377a138afa886307f8934626a48]
class QueryResponseMessageExtensions--><g id="elem_QueryResponseMessageExtensions"><rect codeLine="294" fill="#F1F1F1" height="88.8594" id="QueryResponseMessageExtensions" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="1101" x="892" y="809"/><ellipse cx="1312.75" cy="829.1328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1315.7188,834.7734 Q1315.1406,835.0703 1314.5,835.2109 Q1313.8594,835.3672 1313.1563,835.3672 Q1310.6563,835.3672 1309.3281,833.7266 Q1308.0156,832.0703 1308.0156,828.9453 Q1308.0156,825.8203 1309.3281,824.1641 Q1310.6563,822.5078 1313.1563,822.5078 Q1313.8594,822.5078 1314.5,822.6641 Q1315.1563,822.8203 1315.7188,823.1172 L1315.7188,825.8359 Q1315.0938,825.2578 1314.5,824.9922 Q1313.9063,824.7109 1313.2813,824.7109 Q1311.9375,824.7109 1311.25,825.7891 Q1310.5625,826.8516 1310.5625,828.9453 Q1310.5625,831.0391 1311.25,832.1172 Q1311.9375,833.1797 1313.2813,833.1797 Q1313.9063,833.1797 1314.5,832.9141 Q1315.0938,832.6328 1315.7188,832.0547 L1315.7188,834.7734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="1434.25" y="825.1387">«static»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="251" x="1333.25" y="840.9639">QueryResponseMessageExtensions</text><line style="stroke:#181818;stroke-width:0.5;" x1="893" x2="1992" y1="849.2656" y2="849.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="893" x2="1992" y1="857.2656" y2="857.2656"/><ellipse cx="903" cy="870.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="1075" x="912" y="874.2607">WithMetaData(message:IQueryResponseMessage&lt;TResult&gt;, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IQueryResponseMessage&lt;TResult&gt;</text><ellipse cx="903" cy="887.2109" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="1072" x="912" y="890.5576">AndMetaData(message:IQueryResponseMessage&lt;TResult&gt;, metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : IQueryResponseMessage&lt;TResult&gt;</text></g><!--MD5=[cec2cf3362d71a24b7e7f82fb4c2218c]
class GenericQueryMessage`2--><g id="elem_GenericQueryMessage`2"><rect codeLine="302" fill="#F1F1F1" height="162.0781" id="GenericQueryMessage`2" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="924" x="7321.5" y="772.5"/><ellipse cx="7625.75" cy="788.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M7628.7188,794.1406 Q7628.1406,794.4375 7627.5,794.5781 Q7626.8594,794.7344 7626.1563,794.7344 Q7623.6563,794.7344 7622.3281,793.0938 Q7621.0156,791.4375 7621.0156,788.3125 Q7621.0156,785.1875 7622.3281,783.5313 Q7623.6563,781.875 7626.1563,781.875 Q7626.8594,781.875 7627.5,782.0313 Q7628.1563,782.1875 7628.7188,782.4844 L7628.7188,785.2031 Q7628.0938,784.625 7627.5,784.3594 Q7626.9063,784.0781 7626.2813,784.0781 Q7624.9375,784.0781 7624.25,785.1563 Q7623.5625,786.2188 7623.5625,788.3125 Q7623.5625,790.4063 7624.25,791.4844 Q7624.9375,792.5469 7626.2813,792.5469 Q7626.9063,792.5469 7627.5,792.2813 Q7628.0938,792 7628.7188,791.4219 L7628.7188,794.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="174" x="7646.25" y="793.3467">GenericQueryMessage`2</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="131" x="8117.5" y="769.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="129" x="8118.5" y="781.6387">TPayload,TResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="7322.5" x2="8244.5" y1="804.5" y2="804.5"/><ellipse cx="7332.5" cy="818.1484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="178" x="7341.5" y="821.4951">QueryName : string «get»</text><ellipse cx="7332.5" cy="834.4453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="375" x="7341.5" y="837.792">ResponseType : IResponseType&lt;TResponse&gt; «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="7322.5" x2="8244.5" y1="845.0938" y2="845.0938"/><ellipse cx="7332.5" cy="858.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="613" x="7341.5" y="862.0889">GenericQueryMessage(payload:TPayload, responseType:IResponseType&lt;TResponse&gt;)</text><ellipse cx="7332.5" cy="875.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="744" x="7341.5" y="878.3857">GenericQueryMessage(payload:TPayload, queryName:string, responseType:IResponseType&lt;TResponse&gt;)</text><ellipse cx="7332.5" cy="891.3359" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="845" x="7341.5" y="894.6826">GenericQueryMessage(message:IMessage&lt;TPayload&gt;, queryName:string, responseType:IResponseType&lt;TResponse&gt;)</text><ellipse cx="7332.5" cy="907.6328" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="898" x="7341.5" y="910.9795">«override» WithMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericQueryMessage&lt;TPayload, TResponse&gt;</text><ellipse cx="7332.5" cy="923.9297" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="895" x="7341.5" y="927.2764">«override» AndMetaData(metaData:ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;) : GenericQueryMessage&lt;TPayload, TResponse&gt;</text></g><!--MD5=[af640a793eb6e3d806fe8cbac36847d4]
class IResponseType`1--><g id="elem_IResponseType`1"><rect codeLine="313" fill="#F1F1F1" height="113.1875" id="IResponseType`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="325" x="12535" y="26.5"/><ellipse cx="12582.25" cy="42.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M12578.1719,38.2656 L12578.1719,36.1094 L12585.5625,36.1094 L12585.5625,38.2656 L12583.0938,38.2656 L12583.0938,46.3438 L12585.5625,46.3438 L12585.5625,48.5 L12578.1719,48.5 L12578.1719,46.3438 L12580.6406,46.3438 L12580.6406,38.2656 L12578.1719,38.2656 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="124" x="12602.75" y="47.3467">IResponseType`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="96" x="12767" y="23.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="94" x="12768" y="35.6387">out TResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="12536" x2="12859" y1="58.5" y2="58.5"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="313" x="12541" y="75.4951">ResponseMessagePayloadType : Type «get»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="262" x="12541" y="91.792">ExpectedResponseType : Type «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="12536" x2="12859" y1="99.0938" y2="99.0938"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="251" x="12555" y="116.0889">Matches(responseType:Type) : bool</text><ellipse cx="12546" cy="129.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="285" x="12555" y="132.3857">Convert(response:object?) : TResponse?</text></g><!--MD5=[5fdcae27469aa4ecc505b6850bc8416f]
class InstanceResponseType`1--><g id="elem_InstanceResponseType`1"><rect codeLine="319" fill="#F1F1F1" height="113.1875" id="InstanceResponseType`1" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="339" x="12528" y="395.5"/><ellipse cx="12567.3" cy="411.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M12570.2688,417.1406 Q12569.6906,417.4375 12569.05,417.5781 Q12568.4094,417.7344 12567.7063,417.7344 Q12565.2063,417.7344 12563.8781,416.0938 Q12562.5656,414.4375 12562.5656,411.3125 Q12562.5656,408.1875 12563.8781,406.5313 Q12565.2063,404.875 12567.7063,404.875 Q12568.4094,404.875 12569.05,405.0313 Q12569.7063,405.1875 12570.2688,405.4844 L12570.2688,408.2031 Q12569.6438,407.625 12569.05,407.3594 Q12568.4563,407.0781 12567.8313,407.0781 Q12566.4875,407.0781 12565.8,408.1563 Q12565.1125,409.2188 12565.1125,411.3125 Q12565.1125,413.4063 12565.8,414.4844 Q12566.4875,415.5469 12567.8313,415.5469 Q12568.4563,415.5469 12569.05,415.2813 Q12569.6438,415 12570.2688,414.4219 L12570.2688,417.1406 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="180" x="12586.7" y="416.3467">InstanceResponseType`1</text><rect fill="#FFFFFF" height="15.9688" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="71" x="12799" y="392.5"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69" x="12800" y="404.6387">TResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="12529" x2="12866" y1="427.5" y2="427.5"/><ellipse cx="12539" cy="441.1484" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="313" x="12548" y="444.4951">ResponseMessagePayloadType : Type «get»</text><ellipse cx="12539" cy="457.4453" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="262" x="12548" y="460.792">ExpectedResponseType : Type «get»</text><line style="stroke:#181818;stroke-width:0.5;" x1="12529" x2="12866" y1="468.0938" y2="468.0938"/><ellipse cx="12539" cy="481.7422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="251" x="12548" y="485.0889">Matches(responseType:Type) : bool</text><ellipse cx="12539" cy="498.0391" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="198" x="12548" y="501.3857">«override» ToString() : string</text></g><!--MD5=[a1239b422a1973b9c5c5c19aa52c0b79]
class ResponseTypes--><g id="elem_ResponseTypes"><rect codeLine="326" fill="#F1F1F1" height="72.5625" id="ResponseTypes" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="335" x="2028" y="817"/><ellipse cx="2134.75" cy="837.1328" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M2137.7188,842.7734 Q2137.1406,843.0703 2136.5,843.2109 Q2135.8594,843.3672 2135.1563,843.3672 Q2132.6563,843.3672 2131.3281,841.7266 Q2130.0156,840.0703 2130.0156,836.9453 Q2130.0156,833.8203 2131.3281,832.1641 Q2132.6563,830.5078 2135.1563,830.5078 Q2135.8594,830.5078 2136.5,830.6641 Q2137.1563,830.8203 2137.7188,831.1172 L2137.7188,833.8359 Q2137.0938,833.2578 2136.5,832.9922 Q2135.9063,832.7109 2135.2813,832.7109 Q2133.9375,832.7109 2133.25,833.7891 Q2132.5625,834.8516 2132.5625,836.9453 Q2132.5625,839.0391 2133.25,840.1172 Q2133.9375,841.1797 2135.2813,841.1797 Q2135.9063,841.1797 2136.5,840.9141 Q2137.0938,840.6328 2137.7188,840.0547 L2137.7188,842.7734 Z " fill="#000000"/><text fill="#000000" font-family="jetbrains mono" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="49" x="2187.25" y="833.1387">«static»</text><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" textLength="113" x="2155.25" y="848.9639">ResponseTypes</text><line style="stroke:#181818;stroke-width:0.5;" x1="2029" x2="2362" y1="857.2656" y2="857.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="2029" x2="2362" y1="865.2656" y2="865.2656"/><ellipse cx="2039" cy="878.9141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="309" x="2048" y="882.2607">InstanceOf() : IResponseType&lt;TResponse&gt;</text></g><!--MD5=[9f7e76781f95d1f3e4e76e4712fd22b8]
reverse link Exception to NoHandlerForQueryException--><g id="link_Exception_NoHandlerForQueryException"><path codeLine="8" d="M3503.33,121.97 C3479.36,148.1 3447.09,183.78 3419.5,216 C3358.12,287.69 3288.91,374.38 3253.03,419.79 " fill="none" id="Exception-backto-NoHandlerForQueryException" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="3498.37,117.02,3517.07,107.05,3508.67,126.5,3498.37,117.02" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0e964ae8e1fcea6eaa7e12828e8dc0cb]
reverse link IQueryBus to SimpleQueryBus--><g id="link_IQueryBus_SimpleQueryBus"><path codeLine="31" d="M5061.5,520.92 C5061.5,585.48 5061.5,683.24 5061.5,755.9 " fill="none" id="IQueryBus-backto-SimpleQueryBus" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="5054.5,520.79,5061.5,500.79,5068.5,520.79,5054.5,520.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2b047d382790532ca1d39f5b9ea2e3ce]
reverse link SimpleQueryBus to Registration--><g id="link_SimpleQueryBus_Registration"><path codeLine="32" d="M5292.69,957.29 C5368.37,990.94 5450.37,1027.4 5518.23,1057.58 " fill="none" id="SimpleQueryBus-backto-Registration" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="5285.9496" cy="954.3012" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="5293.2591" x2="5278.64" y1="957.5525" y2="951.05"/><line style="stroke:#181818;stroke-width:1.0;" x1="5282.6983" x2="5289.2008" y1="961.6108" y2="946.9917"/></g><!--MD5=[eb1710ef9d5fb38c6e7640ce67efcbb7]
reverse link IAsyncDisposable to Registration--><g id="link_IAsyncDisposable_Registration"><path codeLine="33" d="M5646.59,897.83 C5640.73,932.57 5638.93,982.64 5641.19,1026.8 " fill="none" id="IAsyncDisposable-backto-Registration" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="5639.83,895.97,5650.89,877.9,5653.51,898.93,5639.83,895.97" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[eb1710ef9d5fb38c6e7640ce67efcbb7]
reverse link IAsyncDisposable to Registration--><g id="link_IAsyncDisposable_Registration"><path codeLine="48" d="M5666.5,898.33 C5666.5,933.05 5666.5,982.85 5666.5,1026.8 " fill="none" id="IAsyncDisposable-backto-Registration-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="5659.5,897.9,5666.5,877.9,5673.5,897.9,5659.5,897.9" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[eb1710ef9d5fb38c6e7640ce67efcbb7]
reverse link IAsyncDisposable to Registration--><g id="link_IAsyncDisposable_Registration"><path codeLine="89" d="M5686.41,897.83 C5692.27,932.57 5694.07,982.64 5691.81,1026.8 " fill="none" id="IAsyncDisposable-backto-Registration-2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="5679.49,898.93,5682.11,877.9,5693.17,895.97,5679.49,898.93" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[58fafe0bc19b52fff1985bc8a4e23f66]
reverse link IEventBus to SimpleEventBus--><g id="link_IEventBus_SimpleEventBus"><path codeLine="46" d="M4136.5,513.13 C4136.5,587.31 4136.5,712.88 4136.5,788.71 " fill="none" id="IEventBus-backto-SimpleEventBus" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="4129.5,512.77,4136.5,492.77,4143.5,512.77,4129.5,512.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[cfaa955bb633e350bb9ef3d1b7e69f73]
reverse link SimpleEventBus to Registration--><g id="link_SimpleEventBus_Registration"><path codeLine="47" d="M4385.72,921.73 C4439.82,935.11 4496.89,948.31 4550.5,959 C4894.53,1027.59 5303.5,1080.73 5518.1,1106.46 " fill="none" id="SimpleEventBus-backto-Registration" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="4378.6825" cy="919.9849" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="4386.445" x2="4370.92" y1="921.9198" y2="918.05"/><line style="stroke:#181818;stroke-width:1.0;" x1="4376.7476" x2="4380.6174" y1="927.7474" y2="912.2224"/></g><!--MD5=[628253c5fb671e4d76f1056a2c0ed747]
reverse link ISubscribableMessageSource`1 to IEventBus--><g id="link_ISubscribableMessageSource`1_IEventBus"><path codeLine="61" d="M4136.5,135.29 C4136.5,209.28 4136.5,344.42 4136.5,411.31 " fill="none" id="ISubscribableMessageSource`1-backto-IEventBus" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="4129.5,135.29,4136.5,115.29,4143.5,135.29,4129.5,135.29" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="179" x="3939.0406" y="135.5467">&lt;IEventMessage&lt;object&gt;&gt;</text></g><!--MD5=[0abdd7170f85029f8d9eeb64bd60517c]
reverse link Exception to NoHandlerForCommandException--><g id="link_Exception_NoHandlerForCommandException"><path codeLine="71" d="M3552.66,126.24 C3576.18,196.42 3623.07,336.34 3646.89,407.41 " fill="none" id="Exception-backto-NoHandlerForCommandException" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="3546.01,128.42,3546.29,107.24,3559.28,123.97,3546.01,128.42" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8a0782b76732ccef872ed56270eea76c]
reverse link ICommandBus to SimpleCommandBus--><g id="link_ICommandBus_SimpleCommandBus"><path codeLine="87" d="M6262.5,520.79 C6262.5,587.84 6262.5,690.77 6262.5,764.18 " fill="none" id="ICommandBus-backto-SimpleCommandBus" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="6255.5,520.79,6262.5,500.79,6269.5,520.79,6255.5,520.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0c319ea5b4cd397c3f64742f6fd30c9c]
reverse link SimpleCommandBus to Registration--><g id="link_SimpleCommandBus_Registration"><path codeLine="88" d="M6053.28,948.93 C5974.59,984.44 5886.82,1024.06 5814.81,1056.56 " fill="none" id="SimpleCommandBus-backto-Registration" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="6060.0585" cy="945.8715" fill="#FFFFFF" rx="8" ry="8" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="6052.767" x2="6067.35" y1="949.1629" y2="942.58"/><line style="stroke:#181818;stroke-width:1.0;" x1="6056.767" x2="6063.35" y1="938.58" y2="953.163"/></g><!--MD5=[98bdde7b155364e48a78992c42f695c7]
reverse link IEquatable`1 to QuerySubscription--><g id="link_IEquatable`1_QuerySubscription"><path codeLine="99" d="M7027.2,126.44 C7008.53,186.04 6974.17,295.68 6950.6,370.9 " fill="none" id="IEquatable`1-backto-QuerySubscription" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="7020.56,124.23,7033.22,107.24,7033.92,128.41,7020.56,124.23" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="139" x="6875.5049" y="127.0597">&lt;QuerySubscription&gt;</text></g><!--MD5=[7af42aaadd1c8000bfad2bd8b50465b5]
reverse link GenericResultMessage`1 to GenericQueryResponseMessage`1--><g id="link_GenericResultMessage`1_GenericQueryResponseMessage`1"><path codeLine="120" d="M10733.17,964.63 C10796.08,982.6 10861.08,1001.16 10923.49,1018.98 " fill="none" id="GenericResultMessage`1-backto-GenericQueryResponseMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="10731.03,971.3,10713.72,959.08,10734.88,957.84,10731.03,971.3" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="68" x="10669.0792" y="979.1036">&lt;TResult&gt;</text></g><!--MD5=[6ecb4da2c1666917bc5554345e2b7794]
reverse link IQueryResponseMessage`1 to GenericQueryResponseMessage`1--><g id="link_IQueryResponseMessage`1_GenericQueryResponseMessage`1"><path codeLine="121" d="M11292.01,898.17 C11291.65,930.85 11291.13,976.96 11290.67,1018.97 " fill="none" id="IQueryResponseMessage`1-backto-GenericQueryResponseMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="11285.02,897.82,11292.24,877.9,11299.02,897.98,11285.02,897.82" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="68" x="11215.8891" y="897.7587">&lt;TResult&gt;</text></g><!--MD5=[2a1a89835666d37697951e82c1304a18]
reverse link IMessage`1 to IQueryMessage`2--><g id="link_IMessage`1_IQueryMessage`2"><path codeLine="131" d="M9089.2,112.52 C8926.26,131.92 8730.79,163.91 8560.5,216 C8399.98,265.11 8225.63,358.43 8133.06,411.5 " fill="none" id="IMessage`1-backto-IQueryMessage`2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9088.73,105.53,9109.41,110.16,9090.36,119.43,9088.73,105.53" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9022.984" y="107.6298">&lt;TPayload&gt;</text></g><!--MD5=[02acfcd468399521069088b55defbf51]
reverse link IMessage`1 to IEventMessage`1--><g id="link_IMessage`1_IEventMessage`1"><path codeLine="141" d="M9089.6,135.33 C8980.63,156.69 8877.25,184.03 8833.5,216 C8762.52,267.87 8722.78,368.88 8706.43,419.91 " fill="none" id="IMessage`1-backto-IEventMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9088.32,128.45,9109.28,131.55,9090.96,142.2,9088.32,128.45" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9022.8513" y="129.4543">&lt;TPayload&gt;</text></g><!--MD5=[cf49c620f4c85258cc868b1729002655]
reverse link MessageDecorator`1 to GenericCommandMessage`1--><g id="link_MessageDecorator`1_GenericCommandMessage`1"><path codeLine="150" d="M9271.99,556.71 C9331.19,626.89 9407.9,717.83 9460.54,780.24 " fill="none" id="MessageDecorator`1-backto-GenericCommandMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9266.42,560.97,9258.87,541.17,9277.12,551.94,9266.42,560.97" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9268.6557" y="561.5341">&lt;TPayload&gt;</text></g><!--MD5=[5f8403d93fc1bbfffdeaac2e570e19ab]
reverse link ICommandMessage`1 to GenericCommandMessage`1--><g id="link_ICommandMessage`1_GenericCommandMessage`1"><path codeLine="151" d="M9666.76,502.92 C9637.73,572.77 9584.83,700.08 9551.51,780.27 " fill="none" id="ICommandMessage`1-backto-GenericCommandMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9660.47,499.8,9674.61,484.02,9673.4,505.17,9660.47,499.8" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9584.8046" y="504.221">&lt;TPayload&gt;</text></g><!--MD5=[2ad63bcfa9fb1e18d050a733a19d343e]
reverse link IMessage`1 to IResultMessage`1--><g id="link_IMessage`1_IResultMessage`1"><path codeLine="157" d="M9689.19,161.98 C9943.33,240.09 10323.2,356.85 10512.92,415.17 " fill="none" id="IMessage`1-backto-IResultMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9687.03,168.64,9669.97,156.07,9691.15,155.25,9687.03,168.64" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="68" x="9621.0773" y="175.833">&lt;TResult&gt;</text></g><!--MD5=[379a86d93dcd566b8a05e9d7b4ca9c54]
reverse link IMessage`1 to MessageDecorator`1--><g id="link_IMessage`1_MessageDecorator`1"><path codeLine="168" d="M9374.89,172.62 C9335.42,230.33 9284.15,305.3 9244.75,362.9 " fill="none" id="IMessage`1-backto-MessageDecorator`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9369.14,168.63,9386.21,156.07,9380.7,176.53,9369.14,168.63" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9298.7472" y="175.833">&lt;TPayload&gt;</text></g><!--MD5=[1d2320290fb42bdb550f54393fdc59a3]
reverse link MessageDecorator`1 to GenericEventMessage`1--><g id="link_MessageDecorator`1_GenericEventMessage`1"><path codeLine="178" d="M9061.4,553.98 C8978.92,621.65 8871.81,709.51 8795.19,772.36 " fill="none" id="MessageDecorator`1-backto-GenericEventMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9057.12,548.44,9077.02,541.17,9066,559.26,9057.12,548.44" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="8985.3889" y="561.5341">&lt;TPayload&gt;</text></g><!--MD5=[0658a4e749a53a0ded9a7e09e773e45c]
reverse link IEventMessage`1 to GenericEventMessage`1--><g id="link_IEventMessage`1_GenericEventMessage`1"><path codeLine="179" d="M8697.5,504.07 C8697.5,571.91 8697.5,692.47 8697.5,772.46 " fill="none" id="IEventMessage`1-backto-GenericEventMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="8690.5,504.02,8697.5,484.02,8704.5,504.02,8690.5,504.02" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="8610.3531" y="504.221">&lt;TPayload&gt;</text></g><!--MD5=[8c66a367dfb04ffc399b50c3f7ed6671]
reverse link IReadOnlyDictionary`2 to MetaData--><g id="link_IReadOnlyDictionary`2_MetaData"><path codeLine="208" d="M7447.5,126.94 C7453.54,150.51 7461.55,181.8 7470.22,215.66 " fill="none" id="IReadOnlyDictionary`2-backto-MetaData" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="7440.63,128.35,7442.45,107.24,7454.2,124.87,7440.63,128.35" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="101" x="7456.0272" y="127.1215">&lt;string,object&gt;</text></g><!--MD5=[4396242259946d6da6d9564350c21c21]
reverse link ICollection`1 to MetaData--><g id="link_ICollection`1_MetaData"><path codeLine="209" d="M7612.62,126.94 C7606.65,150.51 7598.72,181.8 7590.14,215.66 " fill="none" id="ICollection`1-backto-MetaData" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="7605.91,124.9,7617.61,107.24,7619.48,128.34,7605.91,124.9" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="210" x="7641.7681" y="127.0597">&lt;KeyValuePair&lt;string, object&gt;&gt;</text></g><!--MD5=[5c897d90922e42357f8f87d52c48cb77]
reverse link IEquatable`1 to MetaData--><g id="link_IEquatable`1_MetaData"><path codeLine="210" d="M7087.8,119.43 C7121.64,144.77 7170.42,181.31 7223.34,220.94 " fill="none" id="IEquatable`1-backto-MetaData" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="7083.33,124.83,7071.52,107.24,7091.73,113.62,7083.33,124.83" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="297" x="7102.6577" y="127.1259">&lt;ICollection&lt;KeyValuePair&lt;string, object&gt;&gt;&gt;</text></g><!--MD5=[831c30cddf9db48f8b2e3af1fe5f229b]
reverse link GenericResultMessage`1 to GenericCommandResultMessage`1--><g id="link_GenericResultMessage`1_GenericCommandResultMessage`1"><path codeLine="221" d="M10348.43,979.49 C10348.57,998.28 10348.71,1017.32 10348.84,1035.13 " fill="none" id="GenericResultMessage`1-backto-GenericCommandResultMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="10341.43,979.32,10348.28,959.27,10355.43,979.22,10341.43,979.32" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="68" x="10278.048" y="978.9527">&lt;TResult&gt;</text></g><!--MD5=[396b03936ca6c6ecc90f85665c5ede61]
reverse link ICommandResultMessage`1 to GenericCommandResultMessage`1--><g id="link_ICommandResultMessage`1_GenericCommandResultMessage`1"><path codeLine="222" d="M10903.98,889.06 C10870.9,910.81 10826.22,938.52 10784.5,959 C10728.24,986.62 10666.1,1012.61 10606.82,1035.43 " fill="none" id="ICommandResultMessage`1-backto-GenericCommandResultMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="10900.55,882.94,10921.07,877.68,10908.3,894.6,10900.55,882.94" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="68" x="10836.6339" y="897.4851">&lt;TResult&gt;</text></g><!--MD5=[3e0f879c65fca4d54489f017bba5b401]
reverse link IResultMessage`1 to IQueryResponseMessage`1--><g id="link_IResultMessage`1_IQueryResponseMessage`1"><path codeLine="225" d="M10727.49,510.91 C10827.36,570.07 10986.6,664.8 11123.5,748 C11169.05,775.68 11221.17,808.01 11255.35,829.3 " fill="none" id="IResultMessage`1-backto-IQueryResponseMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="10723.8,516.86,10710.16,500.65,10730.94,504.82,10723.8,516.86" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="68" x="10726.2841" y="520.63">&lt;TResult&gt;</text></g><!--MD5=[097ce1c23bb480a10e5a0870bdbe5227]
reverse link IMessageHandler to MessageHandler`1--><g id="link_IMessageHandler_MessageHandler`1"><path codeLine="235" d="M12269.5,144.04 C12269.5,216.56 12269.5,337.07 12269.5,403.47 " fill="none" id="IMessageHandler-backto-MessageHandler`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="12262.5,143.62,12269.5,123.62,12276.5,143.62,12262.5,143.62" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[fa7e9158c432cc86aff35475d5abdb16]
reverse link MessageDecorator`1 to GenericResultMessage`1--><g id="link_MessageDecorator`1_GenericResultMessage`1"><path codeLine="252" d="M9305.46,553.36 C9369.71,601.52 9452.25,655.64 9534.5,688 C9691.98,749.95 9744.53,714.96 9910.5,748 C9916.24,749.14 9922.01,750.31 9927.82,751.49 " fill="none" id="MessageDecorator`1-backto-GenericResultMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9301.22,558.94,9289.53,541.27,9309.69,547.79,9301.22,558.94" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9215.9567" y="561.3406">&lt;TPayload&gt;</text></g><!--MD5=[e1b7f53e6b30bd2f3488b29ac74b9856]
reverse link IResultMessage`1 to GenericResultMessage`1--><g id="link_IResultMessage`1_GenericResultMessage`1"><path codeLine="253" d="M10584.04,517.4 C10540.16,579.57 10472.97,674.75 10421.4,747.81 " fill="none" id="IResultMessage`1-backto-GenericResultMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="10578.51,513.09,10595.76,500.79,10589.95,521.17,10578.51,513.09" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="10506.9184" y="520.4371">&lt;TPayload&gt;</text></g><!--MD5=[adf7a0fb3ee9116d683949250d62a650]
reverse link AbstractMessage`1 to GenericMessage`1--><g id="link_AbstractMessage`1_GenericMessage`1"><path codeLine="266" d="M11751.41,557.7 C11792.81,616.36 11844.28,689.28 11885.68,747.92 " fill="none" id="AbstractMessage`1-backto-GenericMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="11745.55,561.54,11739.74,541.17,11756.99,553.47,11745.55,561.54" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="11662.6942" y="561.5341">&lt;TPayload&gt;</text></g><!--MD5=[b7166c80f1e6ec6d0cc6cc00a0ef1693]
reverse link IMessage`1 to AbstractMessage`1--><g id="link_IMessage`1_AbstractMessage`1"><path codeLine="282" d="M9781.78,103.9 C10050.93,122.85 10432.85,157.41 10763.5,216 C10972.82,253.09 11204.75,312.95 11382.6,362.97 " fill="none" id="IMessage`1-backto-AbstractMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9781.25,110.88,9761.79,102.5,9782.23,96.91,9781.25,110.88" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9769.2201" y="99.8142">&lt;TPayload&gt;</text></g><!--MD5=[a4b1cb3db4a0e2854641b7da5f54a76c]
reverse link IMessage`1 to ICommandMessage`1--><g id="link_IMessage`1_ICommandMessage`1"><path codeLine="286" d="M9503.06,172.4 C9513.74,186.85 9524.54,201.76 9534.5,216 C9584.58,287.61 9639.65,374.33 9668.09,419.77 " fill="none" id="IMessage`1-backto-ICommandMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9497.43,176.56,9491.1,156.33,9508.66,168.2,9497.43,176.56" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9413.5842" y="175.8646">&lt;TPayload&gt;</text></g><!--MD5=[5306deda53cddf0a7a8eebdea8aabaa3]
reverse link IResultMessage`1 to ICommandResultMessage`1--><g id="link_IResultMessage`1_ICommandResultMessage`1"><path codeLine="293" d="M10681.21,516.56 C10754.88,607.12 10886.54,768.96 10935.49,829.13 " fill="none" id="IResultMessage`1-backto-ICommandResultMessage`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="10675.57,520.72,10668.38,500.79,10686.43,511.89,10675.57,520.72" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="68" x="10601.0358" y="520.4371">&lt;TResult&gt;</text></g><!--MD5=[07dbab33322c257dad34916424508017]
reverse link MessageDecorator`1 to GenericQueryMessage`2--><g id="link_MessageDecorator`1_GenericQueryMessage`2"><path codeLine="311" d="M9066.05,553.54 C9001.49,602.61 8917.73,657.51 8833.5,688 C8593.56,774.86 8514.43,707.41 8262.5,748 C8219.01,755.01 8173.53,763.45 8128.65,772.46 " fill="none" id="MessageDecorator`1-backto-GenericQueryMessage`2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="9061.93,547.88,9082.04,541.21,9070.48,558.97,9061.93,547.88" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="79" x="9076.6294" y="561.5775">&lt;TPayload&gt;</text></g><!--MD5=[3476445fe9bb7c10a69e2bf1ae935669]
reverse link IQueryMessage`2 to GenericQueryMessage`2--><g id="link_IQueryMessage`2_GenericQueryMessage`2"><path codeLine="312" d="M8026.74,509.12 C7978.14,577.74 7895.54,694.33 7840.26,772.37 " fill="none" id="IQueryMessage`2-backto-GenericQueryMessage`2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="8021.06,505.04,8038.33,492.77,8032.48,513.13,8021.06,505.04" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="152" x="7870.379" y="512.2695">&lt;TPayload,TResponse&gt;</text></g><!--MD5=[cee486cdb3d02fbed2d2e1d336d8f7fa]
reverse link IResponseType`1 to InstanceResponseType`1--><g id="link_IResponseType`1_InstanceResponseType`1"><path codeLine="325" d="M12697.5,159.93 C12697.5,230.04 12697.5,332.54 12697.5,395.34 " fill="none" id="IResponseType`1-backto-InstanceResponseType`1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="12690.5,159.74,12697.5,139.74,12704.5,159.74,12690.5,159.74" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="jetbrains mono" font-size="13" lengthAdjust="spacing" textLength="91" x="12600.9547" y="159.6328">&lt;TResponse&gt;</text></g><!--MD5=[30e43b322d7a3b5274326699e9977698]
@startuml
class QueryBusExtensions <<static>> {
    + {static} SubscribeAsync(queryBus:IQueryBus, queryName:string, responseType:Type, handler:MessageHandler<IQueryMessage<TPayload, TResponse>>) : Task<IAsyncDisposable>
    + {static} SubscribeAsync(queryBus:IQueryBus, queryName:string, handler:MessageHandler<IQueryMessage<TPayload, TResponse>>) : Task<IAsyncDisposable>
}
class NoHandlerForQueryException {
    + NoHandlerForQueryException(message:string)
}
Exception <|- - NoHandlerForQueryException
interface "ISubscribableMessageSource`1"<TMessage> {
    SubscribeAsync(messageProcessor:Func<List<TMessage>, Task>) : Task<IAsyncDisposable>
}
class CollectionExtensions <<static>> {
    + {static} IsEmpty(items:ICollection<T>) : bool
}
class SimpleQueryBus {
    - <<readonly>> subscriptions : ConcurrentDictionary<string, ConcurrentDictionary<int, QuerySubscription>>
    + Subscriptions : ImmutableDictionary<string, ImmutableList<QuerySubscription>> <<get>>
    + SubscribeAsync(queryName:string, responseType:Type, handler:MessageHandler<TMessage>) : Task<IAsyncDisposable>
    + <<async>> QueryAsync(query:IQueryMessage<TQuery, TResponse>) : Task<IQueryResponseMessage<TResponse>>
    + <<async>> ScatterGatherAsync(query:IQueryMessage<object, TResponse>) : IAsyncEnumerable<IQueryResponseMessage<TResponse>>
    - {static} ConvertResponse(response:object?, responseType:IResponseType<TResponse>) : TResponse?
    - Unsubscribe(queryName:string, querySubscription:QuerySubscription) : void
    - GetHandlersForMessage(queryMessage:IQueryMessage<object, TResponse>) : ImmutableList<IMessageHandler>
    - GetSubscriptions() : ImmutableDictionary<string, ImmutableList<QuerySubscription>>
}
class Registration {
    - <<readonly>> unsubscribeAction : Action
    + Registration(unsubscribeAction:Action)
    + DisposeAsync() : ValueTask
}
IQueryBus <|- - SimpleQueryBus
SimpleQueryBus +- - Registration
IAsyncDisposable <|- - Registration
class SimpleEventBus {
    - <<readonly>> eventProcessors : ConcurrentDictionary<int, Func<List<IEventMessage<object>>, Task>>
    + SubscribeAsync(messageProcessor:Func<List<IEventMessage<object>>, Task>) : Task<IAsyncDisposable>
    + PublishAsync(events:IEventMessage<object>[]) : Task
    + PublishAsync(events:List<IEventMessage<object>>) : Task
    # <<virtual>> <<async>> ProcessEventsAsync(events:List<IEventMessage<object>>) : Task
}
class Registration {
    - <<readonly>> unsubscribeAction : Action
    + Registration(unsubscribeAction:Action)
    + DisposeAsync() : ValueTask
}
IEventBus <|- - SimpleEventBus
SimpleEventBus +- - Registration
IAsyncDisposable <|- - Registration
interface ICommandBus {
    DispatchAsync(command:ICommandMessage<object>) : Task<ICommandResultMessage<TResult>>
    DispatchAsync(command:ICommandMessage<object>) : Task
    SubscribeAsync(commandName:string, handler:IMessageHandler) : Task<IAsyncDisposable>
}
interface IDuplicateCommandHandlerResolver {
    Resolve(commandName:string, registeredHandler:IMessageHandler, candidateHandler:IMessageHandler) : IMessageHandler
}
interface IEventBus {
    PublishAsync(events:IEventMessage<object>[]) : Task
    PublishAsync(events:List<IEventMessage<object>>) : Task
}
"ISubscribableMessageSource`1" "<IEventMessage<object>>" <|- - IEventBus
interface IQueryBus {
    SubscribeAsync(queryName:string, responseType:Type, handler:MessageHandler<TMessage>) : Task<IAsyncDisposable>
    QueryAsync(query:IQueryMessage<TQuery, TResponse>) : Task<IQueryResponseMessage<TResponse>>
    ScatterGatherAsync(query:IQueryMessage<object, TResponse>) : IAsyncEnumerable<IQueryResponseMessage<TResponse>>
}
class NoHandlerForCommandException <<sealed>> {
    + NoHandlerForCommandException(message:string)
    + NoHandlerForCommandException(commandMessage:object)
}
Exception <|- - NoHandlerForCommandException
class SimpleCommandBus {
    - <<readonly>> subscriptions : ConcurrentDictionary<string, IMessageHandler>
    - <<readonly>> duplicateCommandHandlerResolver : IDuplicateCommandHandlerResolver
    + SimpleCommandBus(duplicateCommandHandlerResolver:IDuplicateCommandHandlerResolver)
    + <<async>> DispatchAsync(command:ICommandMessage<object>) : Task<ICommandResultMessage<TResult>>
    + DispatchAsync(command:ICommandMessage<object>) : Task
    + SubscribeAsync(commandName:string, handler:IMessageHandler) : Task<IAsyncDisposable>
    # <<virtual>> <<async>> HandleAsync(command:ICommandMessage<object>, handler:IMessageHandler) : Task<IResultMessage<TResult>>
    - FindCommandHandlerFor(commandName:string) : IMessageHandler?
}
class Registration {
    - <<readonly>> unsubscribeAction : Action
    + Registration(unsubscribeAction:Action)
    + DisposeAsync() : ValueTask
}
ICommandBus <|- - SimpleCommandBus
SimpleCommandBus +- - Registration
IAsyncDisposable <|- - Registration
class QuerySubscription {
    + QuerySubscription(responseType:Type, queryHandler:IMessageHandler)
    + ResponseType : Type <<get>>
    + QueryHandler : IMessageHandler <<get>>
    + CanHandle(queryResponseType:IResponseType<object>) : bool
    + <<override>> GetHashCode() : int
    + <<override>> Equals(obj:object?) : bool
    + Equals(other:QuerySubscription?) : bool
}
"IEquatable`1" "<QuerySubscription>" <|- - QuerySubscription
interface "IMessage`1"<out TPayload> {
    Identifier : string <<get>>
    MetaData : MetaData <<get>>
    Payload : TPayload? <<get>>
    PayloadType : Type <<get>>
    WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
}
class "GenericQueryResponseMessage`1"<TResult> {
    + GenericQueryResponseMessage()
    + GenericQueryResponseMessage(result:TResult)
    + GenericQueryResponseMessage(declaredResultType:Type, result:TResult?)
    + GenericQueryResponseMessage(declaredResultType:Type, exception:Exception)
    + GenericQueryResponseMessage(result:TResult, metaData:MetaData)
    + GenericQueryResponseMessage(declaredResultType:Type, result:TResult?, metaData:MetaData)
    + GenericQueryResponseMessage(declaredResultType:Type, exception:Exception, metaData:MetaData)
    + GenericQueryResponseMessage(message:IMessage<TResult>)
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericQueryResponseMessage<TResult>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericQueryResponseMessage<TResult>
}
"GenericResultMessage`1" "<TResult>" <|- - "GenericQueryResponseMessage`1"
"IQueryResponseMessage`1" "<TResult>" <|- - "GenericQueryResponseMessage`1"
class GenericEventMessage <<static>> {
    + {static} <<readonly>> SystemTimestampSupplier : Func<DateTime>
    + {static} AsEventMessage(eventMessage:TMessage, timestampSupplier:Func<DateTime>?) : IEventMessage<TMessage>
    + {static} AsEventMessage(eventMessage:object, timestampSupplier:Func<DateTime>?) : IEventMessage<TMessage>
}
interface "IQueryMessage`2"<out TPayload,out TResponse> {
    QueryName : string <<get>>
    ResponseType : IResponseType<TResponse> <<get>>
}
"IMessage`1" "<TPayload>" <|- - "IQueryMessage`2"
class GenericResultMessage {
    + {static} AsResultMessage(result:TPayload?) : IResultMessage<TPayload>
    + {static} AsResultMessage(result:object?) : IResultMessage<TPayload>
    + {static} AsErrorResultMessage(exception:Exception) : IResultMessage<TPayload>
    <<internal>> {static} FindResultException(message:IMessage<TPayload>) : Exception?
}
interface "IEventMessage`1"<out TPayload> {
    Timestamp : DateTime <<get>>
}
"IMessage`1" "<TPayload>" <|- - "IEventMessage`1"
class "GenericCommandMessage`1"<TPayload> {
    + GenericCommandMessage(payload:TPayload)
    + GenericCommandMessage(payload:TPayload, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericCommandMessage(message:IMessage<TPayload>, commandName:string)
    + CommandName : string <<get>>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
}
"MessageDecorator`1" "<TPayload>" <|- - "GenericCommandMessage`1"
"ICommandMessage`1" "<TPayload>" <|- - "GenericCommandMessage`1"
interface "IResultMessage`1"<out TResult> {
    IsSuccess : bool <<get>>
    + IsExceptional : bool <<get>>
    Exception : Exception? <<get>>
}
"IMessage`1" "<TResult>" <|- - "IResultMessage`1"
abstract class "MessageDecorator`1"<TPayload> {
    + MessageDecorator(message:IMessage<TPayload>)
    + Message : IMessage<TPayload> <<get>>
    + Identifier : string <<get>>
    + MetaData : MetaData <<get>>
    + Payload : TPayload? <<get>>
    + PayloadType : Type <<get>>
    + {abstract} WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    + {abstract} AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
}
"IMessage`1" "<TPayload>" <|- - "MessageDecorator`1"
class "GenericEventMessage`1"<TPayload> {
    + GenericEventMessage(payload:TPayload)
    + GenericEventMessage(payload:TPayload, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericEventMessage(message:IMessage<TPayload>)
    + GenericEventMessage(message:IMessage<TPayload>, timestampSupplier:Func<DateTime>)
    + Timestamp : DateTime <<get>>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericEventMessage<TPayload>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericEventMessage<TPayload>
}
"MessageDecorator`1" "<TPayload>" <|- - "GenericEventMessage`1"
"IEventMessage`1" "<TPayload>" <|- - "GenericEventMessage`1"
class MetaData {
    + {static} <<readonly>> EmptyInstance : MetaData
    - <<readonly>> values : IReadOnlyDictionary<string, object>
    + MetaData()
    + MetaData(items:IEnumerable<KeyValuePair<string, object>>)
    + Count : int <<get>>
    + IsReadOnly : bool <<get>>
    + IsEmpty : bool <<get>>
    + Keys : IEnumerable<string> <<get>>
    + Values : IEnumerable<object> <<get>>
    + {static} From(metaDataEntries:ICollection<KeyValuePair<string, object>>) : MetaData
    + {static} With(key:string, value:object) : MetaData
    + And(key:string, value:object) : MetaData
    + Add(item:KeyValuePair<string, object>) : void
    + Clear() : void
    + Contains(item:KeyValuePair<string, object>) : bool
    + CopyTo(array:KeyValuePair<string, object>[], arrayIndex:int) : void
    + Remove(item:KeyValuePair<string, object>) : bool
    + ContainsKey(key:string) : bool
    + TryGetValue(key:string, value:object) : bool
    + GetEnumerator() : IEnumerator<KeyValuePair<string, object>>
    GetEnumerator() : IEnumerator
    + Equals(other:ICollection<KeyValuePair<string, object>>?) : bool
    + <<override>> Equals(obj:object?) : bool
    + <<override>> GetHashCode() : int
    + MergedWith(additionalEntries:ICollection<KeyValuePair<string, object>>) : MetaData
    # Equals(other:MetaData) : bool
}
"IReadOnlyDictionary`2" "<string,object>" <|- - MetaData
"ICollection`1" "<KeyValuePair<string, object>>" <|- - MetaData
"IEquatable`1" "<ICollection<KeyValuePair<string, object>>>" <|- - MetaData
class "GenericCommandResultMessage`1"<TResult> {
    + GenericCommandResultMessage(commandResult:TResult?)
    + GenericCommandResultMessage(exception:Exception)
    + GenericCommandResultMessage(commandResult:TResult?, metaData:MetaData)
    + GenericCommandResultMessage(exception:Exception, metaData:MetaData)
    + GenericCommandResultMessage(message:IMessage<TResult>)
    + GenericCommandResultMessage(message:IMessage<TResult>, exception:Exception?)
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericCommandResultMessage<TResult>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericCommandResultMessage<TResult>
}
"GenericResultMessage`1" "<TResult>" <|- - "GenericCommandResultMessage`1"
"ICommandResultMessage`1" "<TResult>" <|- - "GenericCommandResultMessage`1"
interface "IQueryResponseMessage`1"<out TResult> {
}
"IResultMessage`1" "<TResult>" <|- - "IQueryResponseMessage`1"
class GenericCommandMessage <<static>> {
    + {static} AsCommandMessage(command:TMessage) : ICommandMessage<TMessage>
    + {static} AsCommandMessage(command:object) : ICommandMessage<TMessage>
}
abstract class "MessageHandler`1"<TMessage> {
    + {abstract} HandleAsync(message:TMessage) : Task<object?>
    + HandleAsync(message:IMessage<object>) : Task<object?>
    + <<virtual>> CanHandle(message:object) : bool
}
IMessageHandler <|- - "MessageHandler`1"
class GenericCommandResultMessage {
    + {static} AsCommandResultMessage(commandResult:object?) : ICommandResultMessage<TResult>
    + {static} AsCommandResultErrorMessage(exception:TException) : ICommandResultMessage<TResult>
}
class "GenericResultMessage`1"<TPayload> {
    + GenericResultMessage(result:TPayload?)
    + GenericResultMessage(exception:Exception)
    + GenericResultMessage(result:TPayload?, metaData:MetaData)
    + GenericResultMessage(exception:Exception, metaData:MetaData)
    + GenericResultMessage(message:IMessage<TPayload>)
    + GenericResultMessage(message:IMessage<TPayload>, exception:Exception?)
    + IsSuccess : bool <<get>>
    + Exception : Exception? <<get>>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericResultMessage<TPayload>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericResultMessage<TPayload>
}
"MessageDecorator`1" "<TPayload>" <|- - "GenericResultMessage`1"
"IResultMessage`1" "<TPayload>" <|- - "GenericResultMessage`1"
class "GenericMessage`1"<TPayload> {
    + GenericMessage(payload:TPayload?)
    + GenericMessage(payload:TPayload?, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericMessage(declaredPayloadType:Type, payload:TPayload?, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericMessage(identifier:string, payload:TPayload?, metaData:ICollection<KeyValuePair<string, object>>)
    + GenericMessage(identifier:string, declaredPayloadType:Type, payload:TPayload?, metaData:ICollection<KeyValuePair<string, object>>)
    - GenericMessage(original:GenericMessage<TPayload>, metaData:MetaData)
    + <<override>> MetaData : MetaData <<get>>
    + <<override>> Payload : TPayload? <<get>>
    + <<override>> PayloadType : Type <<get>>
    # <<override>> WithMetaData(metaData:MetaData) : GenericMessage<TPayload>
}
"AbstractMessage`1" "<TPayload>" <|- - "GenericMessage`1"
class GenericQueryResponseMessage <<static>> {
    + {static} AsResponseMessage(result:object) : IQueryResponseMessage<TResult>
    + {static} AsNullableResponseMessage(declaredType:Type, result:object?) : IQueryResponseMessage<TResult>
    + {static} AsResponseMessage(declaredType:Type, exception:Exception) : IQueryResponseMessage<TResult>
}
abstract class "AbstractMessage`1"<TPayload> {
    # AbstractMessage(identifier:string)
    + Identifier : string <<get>>
    + {abstract} MetaData : MetaData <<get>>
    + {abstract} Payload : TPayload? <<get>>
    + {abstract} PayloadType : Type <<get>>
    + WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    + AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : IMessage<TPayload>
    # {abstract} WithMetaData(metaData:MetaData) : IMessage<TPayload>
}
"IMessage`1" "<TPayload>" <|- - "AbstractMessage`1"
interface "ICommandMessage`1"<out TPayload> {
    CommandName : string <<get>>
}
"IMessage`1" "<TPayload>" <|- - "ICommandMessage`1"
class GenericMessage <<static>> {
    + {static} AsMessage(payload:object?) : IMessage<object>
    <<internal>> {static} GetDeclaredPayloadType(payload:TPayload?) : Type
}
interface "ICommandResultMessage`1"<out TResult> {
}
"IResultMessage`1" "<TResult>" <|- - "ICommandResultMessage`1"
class QueryResponseMessageExtensions <<static>> {
    + {static} WithMetaData(message:IQueryResponseMessage<TResult>, metaData:ICollection<KeyValuePair<string, object>>) : IQueryResponseMessage<TResult>
    + {static} AndMetaData(message:IQueryResponseMessage<TResult>, metaData:ICollection<KeyValuePair<string, object>>) : IQueryResponseMessage<TResult>
}
interface IMessageHandler {
    HandleAsync(message:IMessage<object>) : Task<object?>
    CanHandle(message:object) : bool
}
class "GenericQueryMessage`2"<TPayload,TResponse> {
    + GenericQueryMessage(payload:TPayload, responseType:IResponseType<TResponse>)
    + GenericQueryMessage(payload:TPayload, queryName:string, responseType:IResponseType<TResponse>)
    + GenericQueryMessage(message:IMessage<TPayload>, queryName:string, responseType:IResponseType<TResponse>)
    + QueryName : string <<get>>
    + ResponseType : IResponseType<TResponse> <<get>>
    + <<override>> WithMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericQueryMessage<TPayload, TResponse>
    + <<override>> AndMetaData(metaData:ICollection<KeyValuePair<string, object>>) : GenericQueryMessage<TPayload, TResponse>
}
"MessageDecorator`1" "<TPayload>" <|- - "GenericQueryMessage`2"
"IQueryMessage`2" "<TPayload,TResponse>" <|- - "GenericQueryMessage`2"
interface "IResponseType`1"<out TResponse> {
    ResponseMessagePayloadType : Type <<get>>
    ExpectedResponseType : Type <<get>>
    Matches(responseType:Type) : bool
    + Convert(response:object?) : TResponse?
}
class "InstanceResponseType`1"<TResponse> {
    + ResponseMessagePayloadType : Type <<get>>
    + ExpectedResponseType : Type <<get>>
    + Matches(responseType:Type) : bool
    + <<override>> ToString() : string
}
"IResponseType`1" "<TResponse>" <|- - "InstanceResponseType`1"
class ResponseTypes <<static>> {
    + {static} InstanceOf() : IResponseType<TResponse>
}
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>